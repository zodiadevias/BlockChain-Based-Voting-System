var yC=Object.defineProperty,dO=Object.defineProperties;var fO=Object.getOwnPropertyDescriptors;var lh=Object.getOwnPropertySymbols,hO=Object.getPrototypeOf,vC=Object.prototype.hasOwnProperty,xC=Object.prototype.propertyIsEnumerable,pO=Reflect.get;var bC=(n,e,t)=>e in n?yC(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,x=(n,e)=>{for(var t in e||={})vC.call(e,t)&&bC(n,t,e[t]);if(lh)for(var t of lh(e))xC.call(e,t)&&bC(n,t,e[t]);return n},N=(n,e)=>dO(n,fO(e));var wC=(n,e)=>{var t={};for(var r in n)vC.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&lh)for(var r of lh(n))e.indexOf(r)<0&&xC.call(n,r)&&(t[r]=n[r]);return t};var xb=(n,e)=>{for(var t in e)yC(n,t,{get:e[t],enumerable:!0})};var kt=(n,e,t)=>pO(hO(n),t,e);var h=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(l){i(l)}},s=c=>{try{a(t.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});function CC(n,e){return Object.is(n,e)}var Kt=null,uh=!1,Cb=1,hr=Symbol("SIGNAL");function Ce(n){let e=Kt;return Kt=n,e}function EC(){return Kt}var Vu={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function fh(n){if(uh)throw new Error("");if(Kt===null)return;Kt.consumerOnSignalRead(n);let e=Kt.nextProducerIndex++;if(mh(Kt),e<Kt.producerNode.length&&Kt.producerNode[e]!==n&&Uu(Kt)){let t=Kt.producerNode[e];ph(t,Kt.producerIndexOfThis[e])}Kt.producerNode[e]!==n&&(Kt.producerNode[e]=n,Kt.producerIndexOfThis[e]=Uu(Kt)?SC(n,Kt,e):0),Kt.producerLastReadVersion[e]=n.version}function mO(){Cb++}function AC(n){if(!(Uu(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Cb)){if(!n.producerMustRecompute(n)&&!Ab(n)){_C(n);return}n.producerRecomputeValue(n),_C(n)}}function IC(n){if(n.liveConsumerNode===void 0)return;let e=uh;uh=!0;try{for(let t of n.liveConsumerNode)t.dirty||gO(t)}finally{uh=e}}function DC(){return Kt?.consumerAllowSignalWrites!==!1}function gO(n){n.dirty=!0,IC(n),n.consumerMarkedDirty?.(n)}function _C(n){n.dirty=!1,n.lastCleanEpoch=Cb}function hh(n){return n&&(n.nextProducerIndex=0),Ce(n)}function Eb(n,e){if(Ce(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Uu(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)ph(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Ab(n){mh(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(AC(t),r!==t.version))return!0}return!1}function Ib(n){if(mh(n),Uu(n))for(let e=0;e<n.producerNode.length;e++)ph(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function SC(n,e,t){if(TC(n),n.liveConsumerNode.length===0&&MC(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=SC(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function ph(n,e){if(TC(n),n.liveConsumerNode.length===1&&MC(n))for(let r=0;r<n.producerNode.length;r++)ph(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];mh(i),i.producerIndexOfThis[r]=e}}function Uu(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function mh(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function TC(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function MC(n){return n.producerNode!==void 0}function kC(n,e){let t=Object.create(bO);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(AC(t),fh(t),t.value===dh)throw t.error;return t.value};return r[hr]=t,r}var wb=Symbol("UNSET"),_b=Symbol("COMPUTING"),dh=Symbol("ERRORED"),bO=N(x({},Vu),{value:wb,dirty:!0,error:null,equal:CC,kind:"computed",producerMustRecompute(n){return n.value===wb||n.value===_b},producerRecomputeValue(n){if(n.value===_b)throw new Error("Detected cycle in computations.");let e=n.value;n.value=_b;let t=hh(n),r,i=!1;try{r=n.computation(),Ce(null),i=e!==wb&&e!==dh&&r!==dh&&n.equal(e,r)}catch(o){r=dh,n.error=o}finally{Eb(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function yO(){throw new Error}var NC=yO;function OC(n){NC(n)}function RC(n){NC=n}var vO=null;function PC(n,e){let t=Object.create(Db);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(fh(t),t.value);return r[hr]=t,r}function gh(n,e){DC()||OC(n),n.equal(n.value,e)||(n.value=e,xO(n))}function FC(n,e){DC()||OC(n),gh(n,e(n.value))}var Db=N(x({},Vu),{equal:CC,value:void 0,kind:"signal"});function xO(n){n.version++,mO(),IC(n),vO?.()}function LC(n){let e=Ce(null);try{return n()}finally{Ce(e)}}var Sb;function ju(){return Sb}function zi(n){let e=Sb;return Sb=n,e}var Tb=Symbol("NotFound");function ue(n){return typeof n=="function"}function Sc(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var bh=Sc(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Qs(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var It=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ue(r))try{r()}catch(o){e=o instanceof bh?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{BC(o)}catch(s){e=e??[],s instanceof bh?e=[...e,...s.errors]:e.push(s)}}if(e)throw new bh(e)}}add(e){var t;if(e&&e!==this)if(this.closed)BC(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Qs(t,e)}remove(e){let{_finalizers:t}=this;t&&Qs(t,e),e instanceof n&&e._removeParent(this)}};It.EMPTY=(()=>{let n=new It;return n.closed=!0,n})();var Mb=It.EMPTY;function yh(n){return n instanceof It||n&&"closed"in n&&ue(n.remove)&&ue(n.add)&&ue(n.unsubscribe)}function BC(n){ue(n)?n():n.unsubscribe()}var Vr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Tc={setTimeout(n,e,...t){let{delegate:r}=Tc;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Tc;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function vh(n){Tc.setTimeout(()=>{let{onUnhandledError:e}=Vr;if(e)e(n);else throw n})}function $u(){}var UC=kb("C",void 0,void 0);function VC(n){return kb("E",void 0,n)}function jC(n){return kb("N",n,void 0)}function kb(n,e,t){return{kind:n,value:e,error:t}}var Zs=null;function Mc(n){if(Vr.useDeprecatedSynchronousErrorHandling){let e=!Zs;if(e&&(Zs={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Zs;if(Zs=null,t)throw r}}else n()}function $C(n){Vr.useDeprecatedSynchronousErrorHandling&&Zs&&(Zs.errorThrown=!0,Zs.error=n)}var Ys=class extends It{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,yh(e)&&e.add(this)):this.destination=CO}static create(e,t,r){return new kc(e,t,r)}next(e){this.isStopped?Ob(jC(e),this):this._next(e)}error(e){this.isStopped?Ob(VC(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ob(UC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},wO=Function.prototype.bind;function Nb(n,e){return wO.call(n,e)}var Rb=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){xh(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){xh(r)}else xh(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){xh(t)}}},kc=class extends Ys{constructor(e,t,r){super();let i;if(ue(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Vr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Nb(e.next,o),error:e.error&&Nb(e.error,o),complete:e.complete&&Nb(e.complete,o)}):i=e}this.destination=new Rb(i)}};function xh(n){Vr.useDeprecatedSynchronousErrorHandling?$C(n):vh(n)}function _O(n){throw n}function Ob(n,e){let{onStoppedNotification:t}=Vr;t&&Tc.setTimeout(()=>t(n,e))}var CO={closed:!0,next:$u,error:_O,complete:$u};var Nc=typeof Symbol=="function"&&Symbol.observable||"@@observable";function _n(n){return n}function Pb(...n){return Fb(n)}function Fb(n){return n.length===0?_n:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Be=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=AO(t)?t:new kc(t,r,i);return Mc(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=HC(r),new r((i,o)=>{let s=new kc({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Nc](){return this}pipe(...t){return Fb(t)(this)}toPromise(t){return t=HC(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function HC(n){var e;return(e=n??Vr.Promise)!==null&&e!==void 0?e:Promise}function EO(n){return n&&ue(n.next)&&ue(n.error)&&ue(n.complete)}function AO(n){return n&&n instanceof Ys||EO(n)&&yh(n)}function Lb(n){return ue(n?.lift)}function Ee(n){return e=>{if(Lb(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function be(n,e,t,r,i){return new Bb(n,e,t,r,i)}var Bb=class extends Ys{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Oc(){return Ee((n,e)=>{let t=null;n._refCount++;let r=be(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Rc=class extends Be{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Lb(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new It;let t=this.getSubject();e.add(this.source.subscribe(be(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=It.EMPTY)}return e}refCount(){return Oc()(this)}};var zC=Sc(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ft=(()=>{class n extends Be{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new wh(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new zC}next(t){Mc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Mc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Mc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Mb:(this.currentObservers=null,o.push(t),new It(()=>{this.currentObservers=null,Qs(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Be;return t.source=this,t}}return n.create=(e,t)=>new wh(e,t),n})(),wh=class extends ft{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Mb}};var Qt=class extends ft{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ub={now(){return(Ub.delegate||Date).now()},delegate:void 0};var _h=class extends It{constructor(e,t){super()}schedule(e,t=0){return this}};var Hu={setInterval(n,e,...t){let{delegate:r}=Hu;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Hu;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Ch=class extends _h{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Hu.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Hu.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Qs(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Pc=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Pc.now=Ub.now;var Eh=class extends Pc{constructor(e,t=Pc.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var GC=new Eh(Ch);var Bn=new Be(n=>n.complete());function WC(n){return n&&ue(n.schedule)}function qC(n){return n[n.length-1]}function Ah(n){return ue(qC(n))?n.pop():void 0}function $o(n){return WC(qC(n))?n.pop():void 0}function QC(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function KC(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Js(n){return this instanceof Js?(this.v=n,this):new Js(n)}function ZC(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(p){return function(m){return Promise.resolve(m).then(p,d)}}function a(p,m){r[p]&&(i[p]=function(b){return new Promise(function(w,_){o.push([p,b,w,_])>1||c(p,b)})},m&&(i[p]=m(i[p])))}function c(p,m){try{l(r[p](m))}catch(b){f(o[0][3],b)}}function l(p){p.value instanceof Js?Promise.resolve(p.value.v).then(u,d):f(o[0][2],p)}function u(p){c("next",p)}function d(p){c("throw",p)}function f(p,m){p(m),o.shift(),o.length&&c(o[0][0],o[0][1])}}function YC(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof KC=="function"?KC(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Ih=n=>n&&typeof n.length=="number"&&typeof n!="function";function Dh(n){return ue(n?.then)}function Sh(n){return ue(n[Nc])}function Th(n){return Symbol.asyncIterator&&ue(n?.[Symbol.asyncIterator])}function Mh(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function IO(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var kh=IO();function Nh(n){return ue(n?.[kh])}function Oh(n){return ZC(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Js(t.read());if(i)return yield Js(void 0);yield yield Js(r)}}finally{t.releaseLock()}})}function Rh(n){return ue(n?.getReader)}function $t(n){if(n instanceof Be)return n;if(n!=null){if(Sh(n))return DO(n);if(Ih(n))return SO(n);if(Dh(n))return TO(n);if(Th(n))return JC(n);if(Nh(n))return MO(n);if(Rh(n))return kO(n)}throw Mh(n)}function DO(n){return new Be(e=>{let t=n[Nc]();if(ue(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function SO(n){return new Be(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function TO(n){return new Be(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,vh)})}function MO(n){return new Be(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function JC(n){return new Be(e=>{NO(n,e).catch(t=>e.error(t))})}function kO(n){return JC(Oh(n))}function NO(n,e){var t,r,i,o;return QC(this,void 0,void 0,function*(){try{for(t=YC(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Un(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Ph(n,e=0){return Ee((t,r)=>{t.subscribe(be(r,i=>Un(r,n,()=>r.next(i),e),()=>Un(r,n,()=>r.complete(),e),i=>Un(r,n,()=>r.error(i),e)))})}function Fh(n,e=0){return Ee((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function XC(n,e){return $t(n).pipe(Fh(e),Ph(e))}function eE(n,e){return $t(n).pipe(Fh(e),Ph(e))}function tE(n,e){return new Be(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function nE(n,e){return new Be(t=>{let r;return Un(t,e,()=>{r=n[kh](),Un(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ue(r?.return)&&r.return()})}function Lh(n,e){if(!n)throw new Error("Iterable cannot be null");return new Be(t=>{Un(t,e,()=>{let r=n[Symbol.asyncIterator]();Un(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function rE(n,e){return Lh(Oh(n),e)}function iE(n,e){if(n!=null){if(Sh(n))return XC(n,e);if(Ih(n))return tE(n,e);if(Dh(n))return eE(n,e);if(Th(n))return Lh(n,e);if(Nh(n))return nE(n,e);if(Rh(n))return rE(n,e)}throw Mh(n)}function yt(n,e){return e?iE(n,e):$t(n)}function ie(...n){let e=$o(n);return yt(n,e)}function Fc(n,e){let t=ue(n)?n:()=>n,r=i=>i.error(t());return new Be(e?i=>e.schedule(r,0,i):r)}function Vb(n){return!!n&&(n instanceof Be||ue(n.lift)&&ue(n.subscribe))}var Gi=Sc(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ae(n,e){return Ee((t,r)=>{let i=0;t.subscribe(be(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:OO}=Array;function RO(n,e){return OO(e)?n(...e):n(e)}function Bh(n){return Ae(e=>RO(n,e))}var{isArray:PO}=Array,{getPrototypeOf:FO,prototype:LO,keys:BO}=Object;function Uh(n){if(n.length===1){let e=n[0];if(PO(e))return{args:e,keys:null};if(UO(e)){let t=BO(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function UO(n){return n&&typeof n=="object"&&FO(n)===LO}function Vh(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Xs(...n){let e=$o(n),t=Ah(n),{args:r,keys:i}=Uh(n);if(r.length===0)return yt([],e);let o=new Be(VO(r,e,i?s=>Vh(i,s):_n));return t?o.pipe(Bh(t)):o}function VO(n,e,t=_n){return r=>{oE(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)oE(e,()=>{let l=yt(n[c],e),u=!1;l.subscribe(be(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function oE(n,e,t){n?Un(t,n,e):e()}function sE(n,e,t,r,i,o,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&e.complete()},p=b=>l<r?m(b):c.push(b),m=b=>{o&&e.next(b),l++;let w=!1;$t(t(b,u++)).subscribe(be(e,_=>{i?.(_),o?p(_):e.next(_)},()=>{w=!0},void 0,()=>{if(w)try{for(l--;c.length&&l<r;){let _=c.shift();s?Un(e,s,()=>m(_)):m(_)}f()}catch(_){e.error(_)}}))};return n.subscribe(be(e,p,()=>{d=!0,f()})),()=>{a?.()}}function Ht(n,e,t=1/0){return ue(e)?Ht((r,i)=>Ae((o,s)=>e(r,o,i,s))($t(n(r,i))),t):(typeof e=="number"&&(t=e),Ee((r,i)=>sE(r,i,n,t)))}function Ho(n=1/0){return Ht(_n,n)}function aE(){return Ho(1)}function zo(...n){return aE()(yt(n,$o(n)))}function jh(n){return new Be(e=>{$t(n()).subscribe(e)})}function jb(...n){let e=Ah(n),{args:t,keys:r}=Uh(n),i=new Be(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;$t(t[u]).subscribe(be(o,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Vh(r,a):a),o.complete())}))}});return e?i.pipe(Bh(e)):i}function Vn(n,e){return Ee((t,r)=>{let i=0;t.subscribe(be(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Go(n){return Ee((e,t)=>{let r=null,i=!1,o;r=e.subscribe(be(t,void 0,void 0,s=>{o=$t(n(s,Go(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function cE(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(be(s,u=>{let d=l++;c=a?n(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function ea(n,e){return ue(e)?Ht(n,e,1):Ht(n,1)}function $b(n,e=GC){return Ee((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function c(){let l=s+n,u=e.now();if(u<l){i=this.schedule(void 0,l-u),r.add(i);return}a()}t.subscribe(be(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function Wo(n){return Ee((e,t)=>{let r=!1;e.subscribe(be(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function jr(n){return n<=0?()=>Bn:Ee((e,t)=>{let r=0;e.subscribe(be(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Hb(n,e=_n){return n=n??jO,Ee((t,r)=>{let i,o=!0;t.subscribe(be(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function jO(n,e){return n===e}function $h(n=$O){return Ee((e,t)=>{let r=!1;e.subscribe(be(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function $O(){return new Gi}function zu(n){return Ee((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Wi(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Vn((i,o)=>n(i,o,r)):_n,jr(1),t?Wo(e):$h(()=>new Gi))}function Lc(n){return n<=0?()=>Bn:Ee((e,t)=>{let r=[];e.subscribe(be(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function zb(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Vn((i,o)=>n(i,o,r)):_n,Lc(1),t?Wo(e):$h(()=>new Gi))}function Gb(n,e){return Ee(cE(n,e,arguments.length>=2,!0))}function Gu(n){return Vn((e,t)=>n<=t)}function Wu(...n){let e=$o(n);return Ee((t,r)=>{(e?zo(n,t,e):zo(n,t)).subscribe(r)})}function pr(n,e){return Ee((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(be(r,c=>{i?.unsubscribe();let l=0,u=o++;$t(n(c,u)).subscribe(i=be(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ta(n){return Ee((e,t)=>{$t(n).subscribe(be(t,()=>t.complete(),$u)),!t.closed&&e.subscribe(t)})}function on(n,e,t){let r=ue(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ee((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(be(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):_n}var YE="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",X=class extends Error{code;constructor(e,t){super(Ip(e,t)),this.code=e}};function Ip(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}var JE=Symbol("InputSignalNode#UNSET"),HO=N(x({},Db),{transformFn:void 0,applyValueToInputSignal(n,e){gh(n,e)}});function XE(n,e){let t=Object.create(HO);t.value=n,t.transformFn=e?.transform;function r(){if(fh(t),t.value===JE){let i=null;throw new X(-950,i)}return t.value}return r[hr]=t,r}function od(n){return{toString:n}.toString()}var Hh="__parameters__";function zO(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function Xy(n,e,t){return od(()=>{let r=zO(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Hh)?c[Hh]:Object.defineProperty(c,Hh,{value:[]})[Hh];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var oy=globalThis;function it(n){for(let e in n)if(n[e]===it)return e;throw Error("Could not find renamed property on target object.")}function GO(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function jn(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(jn).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function lE(n,e){return n?e?`${n} ${e}`:n:e||""}var WO=it({__forward_ref__:it});function Zi(n){return n.__forward_ref__=Zi,n.toString=function(){return jn(this())},n}function Cn(n){return eA(n)?n():n}function eA(n){return typeof n=="function"&&n.hasOwnProperty(WO)&&n.__forward_ref__===Zi}function j(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ot(n){return{providers:n.providers||[],imports:n.imports||[]}}function Dp(n){return uE(n,nA)||uE(n,rA)}function tA(n){return Dp(n)!==null}function uE(n,e){return n.hasOwnProperty(e)?n[e]:null}function qO(n){let e=n&&(n[nA]||n[rA]);return e||null}function dE(n){return n&&(n.hasOwnProperty(fE)||n.hasOwnProperty(KO))?n[fE]:null}var nA=it({\u0275prov:it}),fE=it({\u0275inj:it}),rA=it({ngInjectableDef:it}),KO=it({ngInjectorDef:it}),Q=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=j({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function iA(n){return n&&!!n.\u0275providers}var QO=it({\u0275cmp:it}),ZO=it({\u0275dir:it}),YO=it({\u0275pipe:it}),JO=it({\u0275mod:it}),Jh=it({\u0275fac:it}),Zu=it({__NG_ELEMENT_ID__:it}),hE=it({__NG_ENV_ID__:it});function zc(n){return typeof n=="string"?n:n==null?"":String(n)}function XO(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():zc(n)}function oA(n,e){throw new X(-200,n)}function ev(n,e){throw new X(-201,!1)}var xe=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(xe||{}),sy;function sA(){return sy}function mr(n){let e=sy;return sy=n,e}function aA(n,e,t){let r=Dp(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&xe.Optional)return null;if(e!==void 0)return e;ev(n,"Injector")}var eR={},na=eR,ay="__NG_DI_FLAG__",Xh=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?Tb:na,r)}},ep="ngTempTokenPath",tR="ngTokenPath",nR=/\n/gm,rR="\u0275",pE="__source";function iR(n,e=xe.Default){if(ju()===void 0)throw new X(-203,!1);if(ju()===null)return aA(n,void 0,e);{let t=ju(),r;return t instanceof Xh?r=t.injector:r=t,r.get(n,e&xe.Optional?null:void 0,e)}}function de(n,e=xe.Default){return(sA()||iR)(Cn(n),e)}function I(n,e=xe.Default){return de(n,Sp(e))}function Sp(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function cy(n){let e=[];for(let t=0;t<n.length;t++){let r=Cn(n[t]);if(Array.isArray(r)){if(r.length===0)throw new X(900,!1);let i,o=xe.Default;for(let s=0;s<r.length;s++){let a=r[s],c=oR(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(de(i,o))}else e.push(de(r))}return e}function tv(n,e){return n[ay]=e,n.prototype[ay]=e,n}function oR(n){return n[ay]}function sR(n,e,t,r){let i=n[ep];throw e[pE]&&i.unshift(e[pE]),n.message=aR(`
`+n.message,i,t,r),n[tR]=i,n[ep]=null,n}function aR(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==rR?n.slice(2):n;let i=jn(e);if(Array.isArray(e))i=e.map(jn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):jn(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(nR,`
  `)}`}var nv=tv(Xy("Inject",n=>({token:n})),-1),cA=tv(Xy("Optional"),8);var cR=tv(Xy("SkipSelf"),4);function Gc(n,e){let t=n.hasOwnProperty(Jh);return t?n[Jh]:null}function lR(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function uR(n){return n.flat(Number.POSITIVE_INFINITY)}function rv(n,e){n.forEach(t=>Array.isArray(t)?rv(t,e):e(t))}function lA(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function tp(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function dR(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function fR(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function hR(n,e,t){let r=sd(n,e);return r>=0?n[r|1]=t:(r=~r,fR(n,r,e,t)),r}function Wb(n,e){let t=sd(n,e);if(t>=0)return n[t|1]}function sd(n,e){return pR(n,e,1)}function pR(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var ia={},gr=[],Wc=new Q(""),uA=new Q("",-1),dA=new Q(""),np=class{get(e,t=na){if(t===na){let r=new Error(`NullInjectorError: No provider for ${jn(e)}!`);throw r.name="NullInjectorError",r}return t}};function fA(n,e){let t=n[JO]||null;if(!t&&e===!0)throw new Error(`Type ${jn(n)} does not have '\u0275mod' property.`);return t}function Qo(n){return n[QO]||null}function mR(n){return n[ZO]||null}function gR(n){return n[YO]||null}function Tp(n){return{\u0275providers:n}}function bR(...n){return{\u0275providers:hA(!0,n),\u0275fromNgModule:!0}}function hA(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return rv(e,s=>{let a=s;ly(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&pA(i,o),t}function pA(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];iv(i,o=>{e(o,r)})}}function ly(n,e,t,r){if(n=Cn(n),!n)return!1;let i=null,o=dE(n),s=!o&&Qo(n);if(!o&&!s){let c=n.ngModule;if(o=dE(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)ly(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{rv(o.imports,u=>{ly(u,e,t,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&pA(l,e)}if(!a){let l=Gc(i)||(()=>new i);e({provide:i,useFactory:l,deps:gr},i),e({provide:dA,useValue:i,multi:!0},i),e({provide:Wc,useValue:()=>de(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=n;iv(c,u=>{e(u,l)})}}else return!1;return i!==n&&n.providers!==void 0}function iv(n,e){for(let t of n)iA(t)&&(t=t.\u0275providers),Array.isArray(t)?iv(t,e):e(t)}var yR=it({provide:String,useValue:it});function mA(n){return n!==null&&typeof n=="object"&&yR in n}function vR(n){return!!(n&&n.useExisting)}function xR(n){return!!(n&&n.useFactory)}function qc(n){return typeof n=="function"}function wR(n){return!!n.useClass}var Mp=new Q(""),Wh={},mE={},qb;function kp(){return qb===void 0&&(qb=new np),qb}var En=class{},Yu=class extends En{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,dy(e,s=>this.processProvider(s)),this.records.set(uA,Bc(void 0,this)),i.has("environment")&&this.records.set(En,Bc(void 0,this));let o=this.records.get(Mp);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(dA,gr,xe.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?Tb:na,r)}destroy(){Ku(this),this._destroyed=!0;let e=Ce(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ce(e)}}onDestroy(e){return Ku(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ku(this);let t=zi(this),r=mr(void 0),i;try{return e()}finally{zi(t),mr(r)}}get(e,t=na,r=xe.Default){if(Ku(this),e.hasOwnProperty(hE))return e[hE](this);r=Sp(r);let i,o=zi(this),s=mr(void 0);try{if(!(r&xe.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=IR(e)&&Dp(e);l&&this.injectableDefInScope(l)?c=Bc(uy(e),Wh):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&xe.Self?kp():this.parent;return t=r&xe.Optional&&t===na?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[ep]=a[ep]||[]).unshift(jn(e)),o)throw a;return sR(a,e,"R3InjectorError",this.source)}else throw a}finally{mr(s),zi(o)}}resolveInjectorInitializers(){let e=Ce(null),t=zi(this),r=mr(void 0),i;try{let o=this.get(Wc,gr,xe.Self);for(let s of o)s()}finally{zi(t),mr(r),Ce(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(jn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Cn(e);let t=qc(e)?e:Cn(e&&e.provide),r=CR(e);if(!qc(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Bc(void 0,Wh,!0),i.factory=()=>cy(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=Ce(null);try{return t.value===mE?oA(jn(e)):t.value===Wh&&(t.value=mE,t.value=t.factory()),typeof t.value=="object"&&t.value&&AR(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Ce(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Cn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function uy(n){let e=Dp(n),t=e!==null?e.factory:Gc(n);if(t!==null)return t;if(n instanceof Q)throw new X(204,!1);if(n instanceof Function)return _R(n);throw new X(204,!1)}function _R(n){if(n.length>0)throw new X(204,!1);let t=qO(n);return t!==null?()=>t.factory(n):()=>new n}function CR(n){if(mA(n))return Bc(void 0,n.useValue);{let e=gA(n);return Bc(e,Wh)}}function gA(n,e,t){let r;if(qc(n)){let i=Cn(n);return Gc(i)||uy(i)}else if(mA(n))r=()=>Cn(n.useValue);else if(xR(n))r=()=>n.useFactory(...cy(n.deps||[]));else if(vR(n))r=()=>de(Cn(n.useExisting));else{let i=Cn(n&&(n.useClass||n.provide));if(ER(n))r=()=>new i(...cy(n.deps));else return Gc(i)||uy(i)}return r}function Ku(n){if(n.destroyed)throw new X(205,!1)}function Bc(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function ER(n){return!!n.deps}function AR(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function IR(n){return typeof n=="function"||typeof n=="object"&&n instanceof Q}function dy(n,e){for(let t of n)Array.isArray(t)?dy(t,e):t&&iA(t)?dy(t.\u0275providers,e):e(t)}function vr(n,e){let t;n instanceof Yu?(Ku(n),t=n):t=new Xh(n);let r,i=zi(t),o=mr(void 0);try{return e()}finally{zi(i),mr(o)}}function bA(){return sA()!==void 0||ju()!=null}function DR(n){if(!bA())throw new X(-203,!1)}function SR(n){return typeof n=="function"}var Yi=0,we=1,ce=2,yn=3,Hr=4,zn=5,Ju=6,rp=7,An=8,Xu=9,qi=10,Nt=11,ed=12,gE=13,Jc=14,yr=15,oa=16,Uc=17,Ki=18,Np=19,yA=20,qo=21,Kb=22,ip=23,br=24,$c=25,Hn=26,vA=1;var sa=7,op=8,Kc=9,$n=10;function Ko(n){return Array.isArray(n)&&typeof n[vA]=="object"}function Ji(n){return Array.isArray(n)&&n[vA]===!0}function xA(n){return(n.flags&4)!==0}function Xc(n){return n.componentOffset>-1}function ov(n){return(n.flags&1)===1}function gi(n){return!!n.template}function sp(n){return(n[ce]&512)!==0}function ad(n){return(n[ce]&256)===256}var fy=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function wA(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Jo=(()=>{let n=()=>_A;return n.ngInherit=!0,n})();function _A(n){return n.type.prototype.ngOnChanges&&(n.setInput=MR),TR}function TR(){let n=EA(this),e=n?.current;if(e){let t=n.previous;if(t===ia)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function MR(n,e,t,r,i){let o=this.declaredInputs[r],s=EA(n)||kR(n,{previous:ia,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new fy(l&&l.currentValue,t,c===ia),wA(n,e,i,t)}var CA="__ngSimpleChanges__";function EA(n){return n[CA]||null}function kR(n,e){return n[CA]=e}var bE=null;var tt=function(n,e=null,t){bE?.(n,e,t)},NR="svg",OR="math";function bi(n){for(;Array.isArray(n);)n=n[Yi];return n}function AA(n,e){return bi(e[n])}function _i(n,e){return bi(e[n.index])}function sv(n,e){return n.data[e]}function RR(n,e){return n[e]}function yi(n,e){let t=e[n];return Ko(t)?t:t[Yi]}function PR(n){return(n[ce]&4)===4}function av(n){return(n[ce]&128)===128}function FR(n){return Ji(n[yn])}function ap(n,e){return e==null?null:n[e]}function IA(n){n[Uc]=0}function DA(n){n[ce]&1024||(n[ce]|=1024,av(n)&&cd(n))}function LR(n,e){for(;n>0;)e=e[Jc],n--;return e}function Op(n){return!!(n[ce]&9216||n[br]?.dirty)}function hy(n){n[qi].changeDetectionScheduler?.notify(8),n[ce]&64&&(n[ce]|=1024),Op(n)&&cd(n)}function cd(n){n[qi].changeDetectionScheduler?.notify(0);let e=aa(n);for(;e!==null&&!(e[ce]&8192||(e[ce]|=8192,!av(e)));)e=aa(e)}function SA(n,e){if(ad(n))throw new X(911,!1);n[qo]===null&&(n[qo]=[]),n[qo].push(e)}function BR(n,e){if(n[qo]===null)return;let t=n[qo].indexOf(e);t!==-1&&n[qo].splice(t,1)}function aa(n){let e=n[yn];return Ji(e)?e[yn]:e}function TA(n){return n[rp]??=[]}function MA(n){return n.cleanup??=[]}function UR(n,e,t,r){let i=TA(e);i.push(t),n.firstCreatePass&&MA(n).push(r,i.length-1)}var ye={lFrame:jA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var py=!1;function VR(){return ye.lFrame.elementDepthCount}function jR(){ye.lFrame.elementDepthCount++}function $R(){ye.lFrame.elementDepthCount--}function kA(){return ye.bindingsEnabled}function NA(){return ye.skipHydrationRootTNode!==null}function HR(n){return ye.skipHydrationRootTNode===n}function zR(){ye.skipHydrationRootTNode=null}function Ne(){return ye.lFrame.lView}function en(){return ye.lFrame.tView}function H(n){return ye.lFrame.contextLView=n,n[An]}function z(n){return ye.lFrame.contextLView=null,n}function In(){let n=OA();for(;n!==null&&n.type===64;)n=n.parent;return n}function OA(){return ye.lFrame.currentTNode}function GR(){let n=ye.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function ld(n,e){let t=ye.lFrame;t.currentTNode=n,t.isParent=e}function RA(){return ye.lFrame.isParent}function PA(){ye.lFrame.isParent=!1}function WR(){return ye.lFrame.contextLView}function FA(){return py}function yE(n){let e=py;return py=n,e}function qR(){let n=ye.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function KR(){return ye.lFrame.bindingIndex}function QR(n){return ye.lFrame.bindingIndex=n}function ud(){return ye.lFrame.bindingIndex++}function LA(n){let e=ye.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function ZR(){return ye.lFrame.inI18n}function YR(n,e){let t=ye.lFrame;t.bindingIndex=t.bindingRootIndex=n,my(e)}function JR(){return ye.lFrame.currentDirectiveIndex}function my(n){ye.lFrame.currentDirectiveIndex=n}function XR(n){let e=ye.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function BA(){return ye.lFrame.currentQueryIndex}function cv(n){ye.lFrame.currentQueryIndex=n}function e4(n){let e=n[we];return e.type===2?e.declTNode:e.type===1?n[zn]:null}function UA(n,e,t){if(t&xe.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&xe.Host);)if(i=e4(o),i===null||(o=o[Jc],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ye.lFrame=VA();return r.currentTNode=e,r.lView=n,!0}function lv(n){let e=VA(),t=n[we];ye.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function VA(){let n=ye.lFrame,e=n===null?null:n.child;return e===null?jA(n):e}function jA(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function $A(){let n=ye.lFrame;return ye.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var HA=$A;function uv(){let n=$A();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function t4(n){return(ye.lFrame.contextLView=LR(n,ye.lFrame.contextLView))[An]}function pa(){return ye.lFrame.selectedIndex}function ca(n){ye.lFrame.selectedIndex=n}function Rp(){let n=ye.lFrame;return sv(n.tView,n.selectedIndex)}function n4(){return ye.lFrame.currentNamespace}var zA=!0;function dv(){return zA}function fv(n){zA=n}function r4(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=_A(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function GA(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function qh(n,e,t){WA(n,e,3,t)}function Kh(n,e,t,r){(n[ce]&3)===t&&WA(n,e,t,r)}function Qb(n,e){let t=n[ce];(t&3)===e&&(t&=16383,t+=1,n[ce]=t)}function WA(n,e,t,r){let i=r!==void 0?n[Uc]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Uc]+=65536),(a<o||o==-1)&&(i4(n,t,e,c),n[Uc]=(n[Uc]&4294901760)+c+2),c++}function vE(n,e){tt(4,n,e);let t=Ce(null);try{e.call(n)}finally{Ce(t),tt(5,n,e)}}function i4(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ce]>>14<n[Uc]>>16&&(n[ce]&3)===e&&(n[ce]+=16384,vE(a,o)):vE(a,o)}var Hc=-1,la=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function o4(n){return(n.flags&8)!==0}function s4(n){return(n.flags&16)!==0}function a4(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];c4(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function qA(n){return n===3||n===4||n===6}function c4(n){return n.charCodeAt(0)===64}function td(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?xE(n,t,i,null,e[++r]):xE(n,t,i,null,null))}}return n}function xE(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}var Zb={},gy=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Sp(r);let i=this.injector.get(e,Zb,r);return i!==Zb||t===Zb?i:this.parentInjector.get(e,t,r)}};function KA(n){return n!==Hc}function cp(n){return n&32767}function l4(n){return n>>16}function lp(n,e){let t=l4(n),r=e;for(;t>0;)r=r[Jc],t--;return r}var by=!0;function wE(n){let e=by;return by=n,e}var u4=256,QA=u4-1,ZA=5,d4=0,mi={};function f4(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Zu)&&(r=t[Zu]),r==null&&(r=t[Zu]=d4++);let i=r&QA,o=1<<i;e.data[n+(i>>ZA)]|=o}function up(n,e){let t=YA(n,e);if(t!==-1)return t;let r=e[we];r.firstCreatePass&&(n.injectorIndex=e.length,Yb(r.data,n),Yb(e,null),Yb(r.blueprint,null));let i=hv(n,e),o=n.injectorIndex;if(KA(i)){let s=cp(i),a=lp(i,e),c=a[we].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Yb(n,e){n.push(0,0,0,0,0,0,0,0,e)}function YA(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function hv(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=n2(i),r===null)return Hc;if(t++,i=i[Jc],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Hc}function yy(n,e,t){f4(n,e,t)}function h4(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(qA(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function JA(n,e,t){if(t&xe.Optional||n!==void 0)return n;ev(e,"NodeInjector")}function XA(n,e,t,r){if(t&xe.Optional&&r===void 0&&(r=null),(t&(xe.Self|xe.Host))===0){let i=n[Xu],o=mr(void 0);try{return i?i.get(e,r,t&xe.Optional):aA(e,r,t&xe.Optional)}finally{mr(o)}}return JA(r,e,t)}function e2(n,e,t,r=xe.Default,i){if(n!==null){if(e[ce]&2048&&!(r&xe.Self)){let s=b4(n,e,t,r,mi);if(s!==mi)return s}let o=t2(n,e,t,r,mi);if(o!==mi)return o}return XA(e,t,r,i)}function t2(n,e,t,r,i){let o=m4(t);if(typeof o=="function"){if(!UA(e,n,r))return r&xe.Host?JA(i,t,r):XA(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&xe.Optional))ev(t);else return s}finally{HA()}}else if(typeof o=="number"){let s=null,a=YA(n,e),c=Hc,l=r&xe.Host?e[yr][zn]:null;for((a===-1||r&xe.SkipSelf)&&(c=a===-1?hv(n,e):e[a+8],c===Hc||!CE(r,!1)?a=-1:(s=e[we],a=cp(c),e=lp(c,e)));a!==-1;){let u=e[we];if(_E(o,a,u.data)){let d=p4(a,e,t,s,r,l);if(d!==mi)return d}c=e[a+8],c!==Hc&&CE(r,e[we].data[a+8]===l)&&_E(o,a,e)?(s=u,a=cp(c),e=lp(c,e)):a=-1}}return i}function p4(n,e,t,r,i,o){let s=e[we],a=s.data[n+8],c=r==null?Xc(a)&&by:r!=s&&(a.type&3)!==0,l=i&xe.Host&&o===a,u=Qh(a,s,t,c,l);return u!==null?nd(e,s,u,a):mi}function Qh(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:l;for(let p=d;p<f;p++){let m=s[p];if(p<c&&t===m||p>=c&&m.type===t)return p}if(i){let p=s[c];if(p&&gi(p)&&p.type===t)return c}return null}function nd(n,e,t,r){let i=n[t],o=e.data;if(i instanceof la){let s=i;s.resolving&&oA(XO(o[t]));let a=wE(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?mr(s.injectImpl):null,u=UA(n,r,xe.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&r4(t,o[t],e)}finally{l!==null&&mr(l),wE(a),s.resolving=!1,HA()}}return i}function m4(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Zu)?n[Zu]:void 0;return typeof e=="number"?e>=0?e&QA:g4:e}function _E(n,e,t){let r=1<<n;return!!(t[e+(n>>ZA)]&r)}function CE(n,e){return!(n&xe.Self)&&!(n&xe.Host&&e)}var ra=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return e2(this._tNode,this._lView,e,Sp(r),t)}};function g4(){return new ra(In(),Ne())}function ma(n){return od(()=>{let e=n.prototype.constructor,t=e[Jh]||vy(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Jh]||vy(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function vy(n){return eA(n)?()=>{let e=vy(Cn(n));return e&&e()}:Gc(n)}function b4(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ce]&2048&&!sp(s);){let a=t2(o,s,t,r|xe.Self,mi);if(a!==mi)return a;let c=o.parent;if(!c){let l=s[yA];if(l){let u=l.get(t,mi,r);if(u!==mi)return u}c=n2(s),s=s[Jc]}o=c}return i}function n2(n){let e=n[we],t=e.type;return t===2?e.declTNode:t===1?n[zn]:null}function Pp(n){return h4(In(),n)}function EE(n,e=null,t=null,r){let i=r2(n,e,t,r);return i.resolveInjectorInitializers(),i}function r2(n,e=null,t=null,r,i=new Set){let o=[t||gr,bR(n)];return r=r||(typeof n=="object"?void 0:jn(n)),new Yu(o,e||kp(),r||null,i)}var zt=class n{static THROW_IF_NOT_FOUND=na;static NULL=new np;static create(e,t){if(Array.isArray(e))return EE({name:""},t,e,"");{let r=e.name??"";return EE({name:r},e.parent,e.providers,r)}}static \u0275prov=j({token:n,providedIn:"any",factory:()=>de(uA)});static __NG_ELEMENT_ID__=-1};var dp=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Pp(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},y4=new Q("");y4.__NG_ELEMENT_ID__=n=>{let e=In();if(e===null)throw new X(204,!1);if(e.type&2)return e.value;if(n&xe.Optional)return null;throw new X(204,!1)};var i2=!1,el=(()=>{class n{static __NG_ELEMENT_ID__=v4;static __NG_ENV_ID__=t=>t}return n})(),xy=class extends el{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return SA(this._lView,e),()=>BR(this._lView,e)}};function v4(){return new xy(Ne())}var Qc=class{},Fp=new Q("",{providedIn:"root",factory:()=>!1});var o2=new Q(""),s2=new Q(""),tl=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Qt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})();var wy=class extends ft{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,bA()&&(this.destroyRef=I(el,{optional:!0})??void 0,this.pendingTasks=I(tl,{optional:!0})??void 0)}emit(e){let t=Ce(null);try{super.next(e)}finally{Ce(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof It&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Dt=wy;function fp(...n){}function a2(n){let e,t;function r(){n=fp;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function AE(n){return queueMicrotask(()=>n()),()=>{n=fp}}var pv="isAngularZone",hp=pv+"_ID",x4=0,Ze=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Dt(!1);onMicrotaskEmpty=new Dt(!1);onStable=new Dt(!1);onError=new Dt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=i2}=e;if(typeof Zone>"u")throw new X(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,C4(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(pv)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new X(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new X(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,w4,fp,fp);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},w4={};function mv(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function _4(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){a2(()=>{n.callbackScheduled=!1,_y(n),n.isCheckStableRunning=!0,mv(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),_y(n)}function C4(n){let e=()=>{_4(n)},t=x4++;n._inner=n._inner.fork({name:"angular",properties:{[pv]:!0,[hp]:t,[hp+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(E4(c))return r.invokeTask(o,s,a,c);try{return IE(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),DE(n)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return IE(n),r.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!A4(c)&&e(),DE(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,_y(n),mv(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function _y(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function IE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function DE(n){n._nesting--,mv(n)}var Cy=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Dt;onMicrotaskEmpty=new Dt;onStable=new Dt;onError=new Dt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function E4(n){return c2(n,"__ignore_ng_zone__")}function A4(n){return c2(n,"__scheduler_tick__")}function c2(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var vi=class{_console=console;handleError(e){this._console.error("ERROR",e)}},I4=new Q("",{providedIn:"root",factory:()=>{let n=I(Ze),e=I(vi);return t=>n.runOutsideAngular(()=>e.handleError(t))}}),Ey=class{destroyed=!1;listeners=null;errorHandler=I(vi,{optional:!0});destroyRef=I(el);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new X(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let t=this.listeners?.indexOf(e);t!==void 0&&t!==-1&&this.listeners?.splice(t,1)}}}emit(e){if(this.destroyed){console.warn(Ip(953,!1));return}if(this.listeners===null)return;let t=Ce(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{Ce(t)}}};function l2(n){return new Ey}function SE(n,e){return XE(n,e)}function D4(n){return XE(JE,n)}var Lp=(SE.required=D4,SE);function S4(){return nl(In(),Ne())}function nl(n,e){return new vt(_i(n,e))}var vt=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=S4}return n})();function T4(n){return n instanceof vt?n.nativeElement:n}function M4(n){return typeof n=="function"&&n[hr]!==void 0}function Gt(n,e){let t=PC(n,e?.equal),r=t[hr];return t.set=i=>gh(r,i),t.update=i=>FC(r,i),t.asReadonly=k4.bind(t),t}function k4(){let n=this[hr];if(n.readonlyFn===void 0){let e=()=>this();e[hr]=n,n.readonlyFn=e}return n.readonlyFn}function u2(n){return M4(n)&&typeof n.set=="function"}function N4(){return this._results[Symbol.iterator]()}var Ay=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ft}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=uR(e);(this._changesDetected=!lR(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=N4};function d2(n){return(n.flags&128)===128}var f2=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(f2||{}),h2=new Map,O4=0;function R4(){return O4++}function P4(n){h2.set(n[Np],n)}function Iy(n){h2.delete(n[Np])}var TE="__ngContext__";function dd(n,e){Ko(e)?(n[TE]=e[Np],P4(e)):n[TE]=e}function p2(n){return g2(n[ed])}function m2(n){return g2(n[Hr])}function g2(n){for(;n!==null&&!Ji(n);)n=n[Hr];return n}var Dy;function b2(n){Dy=n}function F4(){if(Dy!==void 0)return Dy;if(typeof document<"u")return document;throw new X(210,!1)}var fd=new Q("",{providedIn:"root",factory:()=>L4}),L4="ng",gv=new Q(""),ga=new Q("",{providedIn:"platform",factory:()=>"unknown"});var Bp=new Q(""),hd=new Q("",{providedIn:"root",factory:()=>F4().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var B4="h",U4="b";var y2=!1,V4=new Q("",{providedIn:"root",factory:()=>y2});var bv=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(bv||{}),rl=new Q(""),ME=new Set;function pd(n){ME.has(n)||(ME.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var v2=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=j4}return n})();function j4(){return new v2(Ne(),In())}var Vc=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Vc||{}),x2=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})(),$4=[Vc.EarlyRead,Vc.Write,Vc.MixedReadWrite,Vc.Read],H4=(()=>{class n{ngZone=I(Ze);scheduler=I(Qc);errorHandler=I(vi,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){I(rl,{optional:!0})}execute(){let t=this.sequences.size>0;t&&tt(16),this.executing=!0;for(let r of $4)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&tt(17)}register(t){let{view:r}=t;r!==void 0?((r[$c]??=[]).push(t),cd(r),r[ce]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(bv.AFTER_NEXT_RENDER,t):t()}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})(),Sy=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[$c];e&&(this.view[$c]=e.filter(t=>t!==this))}};function il(n,e){!e?.injector&&DR(il);let t=e?.injector??I(zt);return pd("NgAfterNextRender"),G4(n,t,e,!0)}function z4(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function G4(n,e,t,r){let i=e.get(x2);i.impl??=e.get(H4);let o=e.get(rl,null,{optional:!0}),s=t?.phase??Vc.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(el):null,c=e.get(v2,null,{optional:!0}),l=new Sy(i.impl,z4(n,s),c?.view,r,a,o?.snapshot(null));return i.impl.register(l),l}var W4=()=>null;function w2(n,e,t=!1){return W4(n,e,t)}function _2(n,e){let t=n.contentQueries;if(t!==null){let r=Ce(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];cv(o),a.contentQueries(2,e[s],s)}}}finally{Ce(r)}}}function Ty(n,e,t){cv(0);let r=Ce(null);try{e(n,t)}finally{Ce(r)}}function C2(n,e,t){if(xA(e)){let r=Ce(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{Ce(r)}}}var xi=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(xi||{});var zh;function q4(){if(zh===void 0&&(zh=null,oy.trustedTypes))try{zh=oy.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return zh}function kE(n){return q4()?.createScriptURL(n)||n}var pp=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${YE})`}};function md(n){return n instanceof pp?n.changingThisBreaksApplicationSecurity:n}function yv(n,e){let t=K4(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${YE})`)}return t===e}function K4(n){return n instanceof pp&&n.getTypeName()||null}var Q4=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function E2(n){return n=String(n),n.match(Q4)?n:"unsafe:"+n}var Up=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Up||{});function Rt(n){let e=I2();return e?e.sanitize(Up.URL,n)||"":yv(n,"URL")?md(n):E2(zc(n))}function Z4(n){let e=I2();if(e)return kE(e.sanitize(Up.RESOURCE_URL,n)||"");if(yv(n,"ResourceURL"))return kE(md(n));throw new X(904,!1)}function Y4(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?Z4:Rt}function A2(n,e,t){return Y4(e,t)(n)}function I2(){let n=Ne();return n&&n[qi].sanitizer}function Ci(n){return n.ownerDocument.defaultView}function D2(n){return n instanceof Function?n():n}function J4(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var S2="ng-template";function X4(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&J4(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(vv(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function vv(n){return n.type===4&&n.value!==S2}function eP(n,e,t){let r=n.type===4&&!t?S2:n.value;return e===r}function tP(n,e,t){let r=4,i=n.attrs,o=i!==null?iP(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!$r(r)&&!$r(c))return!1;if(s&&$r(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!eP(n,c,t)||c===""&&e.length===1){if($r(r))return!1;s=!0}}else if(r&8){if(i===null||!X4(n,i,c,t)){if($r(r))return!1;s=!0}}else{let l=e[++a],u=nP(c,i,vv(n),t);if(u===-1){if($r(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if($r(r))return!1;s=!0}}}}return $r(r)||s}function $r(n){return(n&1)===0}function nP(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return oP(e,n)}function T2(n,e,t=!1){for(let r=0;r<e.length;r++)if(tP(n,e[r],t))return!0;return!1}function rP(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function iP(n){for(let e=0;e<n.length;e++){let t=n[e];if(qA(t))return e}return n.length}function oP(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function sP(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function NE(n,e){return n?":not("+e.trim()+")":e}function aP(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!$r(s)&&(e+=NE(o,i),i=""),r=s,o=o||!$r(r);t++}return i!==""&&(e+=NE(o,i)),e}function cP(n){return n.map(aP).join(",")}function lP(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!$r(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var zr={};function uP(n,e){return n.createText(e)}function dP(n,e,t){n.setValue(e,t)}function M2(n,e,t){return n.createElement(e,t)}function mp(n,e,t,r,i){n.insertBefore(e,t,r,i)}function k2(n,e,t){n.appendChild(e,t)}function OE(n,e,t,r,i){r!==null?mp(n,e,t,r,i):k2(n,e,t)}function fP(n,e,t){n.removeChild(null,e,t)}function hP(n,e,t){n.setAttribute(e,"style",t)}function pP(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function N2(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&a4(n,e,r),i!==null&&pP(n,e,i),o!==null&&hP(n,e,o)}function xv(n,e,t,r,i,o,s,a,c,l,u){let d=Hn+r,f=d+i,p=mP(d,f),m=typeof l=="function"?l():l;return p[we]={type:n,blueprint:p,template:t,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:u}}function mP(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:zr);return t}function gP(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=xv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function wv(n,e,t,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[Yi]=i,d[ce]=r|4|128|8|64|1024,(l!==null||n&&n[ce]&2048)&&(d[ce]|=2048),IA(d),d[yn]=d[Jc]=n,d[An]=t,d[qi]=s||n&&n[qi],d[Nt]=a||n&&n[Nt],d[Xu]=c||n&&n[Xu]||null,d[zn]=o,d[Np]=R4(),d[Ju]=u,d[yA]=l,d[yr]=e.type==2?n[yr]:d,d}function bP(n,e,t){let r=_i(e,n),i=gP(t),o=n[qi].rendererFactory,s=_v(n,wv(n,i,null,O2(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function O2(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function R2(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function _v(n,e){return n[ed]?n[gE][Hr]=e:n[ed]=e,n[gE]=e,e}function A(n=1){P2(en(),Ne(),pa()+n,!1)}function P2(n,e,t,r){if(!r)if((e[ce]&3)===3){let o=n.preOrderCheckHooks;o!==null&&qh(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Kh(e,o,0,t)}ca(t)}var Vp=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Vp||{});function My(n,e,t,r){let i=Ce(null);try{let[o,s,a]=n.inputs[t],c=null;(s&Vp.SignalBased)!==0&&(c=e[o][hr]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,o):wA(e,c,o,r)}finally{Ce(i)}}function F2(n,e,t,r,i){let o=pa(),s=r&2;try{ca(-1),s&&e.length>Hn&&P2(n,e,Hn,!1),tt(s?2:0,i),t(r,i)}finally{ca(o),tt(s?3:1,i)}}function Cv(n,e,t){CP(n,e,t),(t.flags&64)===64&&EP(n,e,t)}function L2(n,e,t=_i){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function yP(n,e,t,r){let o=r.get(V4,y2)||t===xi.ShadowDom,s=n.selectRootElement(e,o);return vP(s),s}function vP(n){xP(n)}var xP=()=>null;function wP(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Ev(n,e,t,r,i,o,s,a){if(!a&&Av(e,n,t,r,i)){Xc(e)&&_P(t,e.index);return}if(e.type&3){let c=_i(e,t);r=wP(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)}else e.type&12}function _P(n,e){let t=yi(e,n);t[ce]&16||(t[ce]|=64)}function CP(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Xc(t)&&bP(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||up(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],c=nd(e,n,s,t);if(dd(c,e),o!==null&&SP(e,s-r,c,a,t,o),gi(a)){let l=yi(t.index,e);l[An]=nd(e,n,s,t)}}}function EP(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=JR();try{ca(o);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];my(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&AP(c,l)}}finally{ca(-1),my(s)}}function AP(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function B2(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];T2(e,o.selectors,!1)&&(r??=[],gi(o)?r.unshift(o):r.push(o))}return r}function IP(n,e,t,r,i,o){let s=_i(n,e);DP(e[Nt],s,o,n.value,t,r,i)}function DP(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?zc(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function SP(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];My(r,t,c,l)}}function U2(n,e){let t=n[Xu],r=t?t.get(vi,null):null;r&&r.handleError(e)}function Av(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=e.data[l];My(d,t[l],u,i),a=!0}if(o)for(let c of o){let l=t[c],u=e.data[c];My(u,l,r,i),a=!0}return a}function TP(n,e){let t=yi(e,n),r=t[we];MP(r,t);let i=t[Yi];i!==null&&t[Ju]===null&&(t[Ju]=w2(i,t[Xu])),tt(18),Iv(r,t,t[An]),tt(19,t[An])}function MP(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Iv(n,e,t){lv(e);try{let r=n.viewQuery;r!==null&&Ty(1,r,t);let i=n.template;i!==null&&F2(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Ki]?.finishViewCreation(n),n.staticContentQueries&&_2(n,e),n.staticViewQueries&&Ty(2,n.viewQuery,t);let o=n.components;o!==null&&kP(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ce]&=-5,uv()}}function kP(n,e){for(let t=0;t<e.length;t++)TP(n,e[t])}function Dv(n,e,t,r){let i=Ce(null);try{let o=e.tView,a=n[ce]&4096?4096:16,c=wv(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[oa]=l;let u=n[Ki];return u!==null&&(c[Ki]=u.createEmbeddedView(o)),Iv(o,c,t),c}finally{Ce(i)}}function gp(n,e){return!e||e.firstChild===null||d2(n)}var NP;function Sv(n,e){return NP(n,e)}var Qi=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Qi||{});function Tv(n){return(n.flags&32)===32}function jc(n,e,t,r,i){if(r!=null){let o,s=!1;Ji(r)?o=r:Ko(r)&&(s=!0,r=r[Yi]);let a=bi(r);n===0&&t!==null?i==null?k2(e,t,a):mp(e,t,a,i||null,!0):n===1&&t!==null?mp(e,t,a,i||null,!0):n===2?fP(e,a,s):n===3&&e.destroyNode(a),o!=null&&$P(e,n,o,t,i)}}function OP(n,e){V2(n,e),e[Yi]=null,e[zn]=null}function RP(n,e,t,r,i,o){r[Yi]=i,r[zn]=e,jp(n,r,t,1,i,o)}function V2(n,e){e[qi].changeDetectionScheduler?.notify(9),jp(n,e,e[Nt],2,null,null)}function PP(n){let e=n[ed];if(!e)return Jb(n[we],n);for(;e;){let t=null;if(Ko(e))t=e[ed];else{let r=e[$n];r&&(t=r)}if(!t){for(;e&&!e[Hr]&&e!==n;)Ko(e)&&Jb(e[we],e),e=e[yn];e===null&&(e=n),Ko(e)&&Jb(e[we],e),t=e&&e[Hr]}e=t}}function Mv(n,e){let t=n[Kc],r=t.indexOf(e);t.splice(r,1)}function kv(n,e){if(ad(e))return;let t=e[Nt];t.destroyNode&&jp(n,e,t,3,null,null),PP(e)}function Jb(n,e){if(ad(e))return;let t=Ce(null);try{e[ce]&=-129,e[ce]|=256,e[br]&&Ib(e[br]),LP(n,e),FP(n,e),e[we].type===1&&e[Nt].destroy();let r=e[oa];if(r!==null&&Ji(e[yn])){r!==e[yn]&&Mv(r,e);let i=e[Ki];i!==null&&i.detachView(n)}Iy(e)}finally{Ce(t)}}function FP(n,e){let t=n.cleanup,r=e[rp];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[rp]=null);let i=e[qo];if(i!==null){e[qo]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[ip];if(o!==null){e[ip]=null;for(let s of o)s.destroy()}}function LP(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof la)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];tt(4,a,c);try{c.call(a)}finally{tt(5,a,c)}}else{tt(4,i,o);try{o.call(i)}finally{tt(5,i,o)}}}}}function j2(n,e,t){return BP(n,e.parent,t)}function BP(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Yi];if(Xc(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===xi.None||i===xi.Emulated)return null}return _i(r,t)}function $2(n,e,t){return VP(n,e,t)}function UP(n,e,t){return n.type&40?_i(n,t):null}var VP=UP,RE;function Nv(n,e,t,r){let i=j2(n,r,e),o=e[Nt],s=r.parent||e[zn],a=$2(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)OE(o,i,t[c],a,!1);else OE(o,i,t,a,!1);RE!==void 0&&RE(o,r,e,t,i)}function Qu(n,e){if(e!==null){let t=e.type;if(t&3)return _i(e,n);if(t&4)return ky(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Qu(n,r);{let i=n[e.index];return Ji(i)?ky(-1,i):bi(i)}}else{if(t&128)return Qu(n,e.next);if(t&32)return Sv(e,n)()||bi(n[e.index]);{let r=H2(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=aa(n[yr]);return Qu(i,r)}else return Qu(n,e.next)}}}return null}function H2(n,e){if(e!==null){let r=n[yr][zn],i=e.projection;return r.projection[i]}return null}function ky(n,e){let t=$n+n+1;if(t<e.length){let r=e[t],i=r[we].firstChild;if(i!==null)return Qu(r,i)}return e[sa]}function Ov(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&dd(bi(a),r),t.flags|=2),!Tv(t))if(c&8)Ov(n,e,t.child,r,i,o,!1),jc(e,n,i,a,o);else if(c&32){let l=Sv(t,r),u;for(;u=l();)jc(e,n,i,u,o);jc(e,n,i,a,o)}else c&16?z2(n,e,r,t,i,o):jc(e,n,i,a,o);t=s?t.projectionNext:t.next}}function jp(n,e,t,r,i,o){Ov(t,r,n.firstChild,e,i,o,!1)}function jP(n,e,t){let r=e[Nt],i=j2(n,t,e),o=t.parent||e[zn],s=$2(o,t,e);z2(r,0,e,t,i,s)}function z2(n,e,t,r,i,o){let s=t[yr],c=s[zn].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];jc(e,n,i,u,o)}else{let l=c,u=s[yn];d2(r)&&(l.flags|=128),Ov(n,e,l,u,i,o,!0)}}function $P(n,e,t,r,i){let o=t[sa],s=bi(t);o!==s&&jc(e,n,r,o,i);for(let a=$n;a<t.length;a++){let c=t[a];jp(c[we],c,n,e,r,o)}}function HP(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Qi.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Qi.Important),n.setStyle(t,r,i,o))}}function bp(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(bi(o)),Ji(o)&&zP(o,r);let s=t.type;if(s&8)bp(n,e,t.child,r);else if(s&32){let a=Sv(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=H2(e,t);if(Array.isArray(a))r.push(...a);else{let c=aa(e[yr]);bp(c[we],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function zP(n,e){for(let t=$n;t<n.length;t++){let r=n[t],i=r[we].firstChild;i!==null&&bp(r[we],r,i,e)}n[sa]!==n[Yi]&&e.push(n[sa])}function G2(n){if(n[$c]!==null){for(let e of n[$c])e.impl.addSequence(e);n[$c].length=0}}var W2=[];function GP(n){return n[br]??WP(n)}function WP(n){let e=W2.pop()??Object.create(KP);return e.lView=n,e}function qP(n){n.lView[br]!==n&&(n.lView=null,W2.push(n))}var KP=N(x({},Vu),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{cd(n.lView)},consumerOnSignalRead(){this.lView[br]=this}});function QP(n){let e=n[br]??Object.create(ZP);return e.lView=n,e}var ZP=N(x({},Vu),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=aa(n.lView);for(;e&&!q2(e[we]);)e=aa(e);e&&DA(e)},consumerOnSignalRead(){this.lView[br]=this}});function q2(n){return n.type!==2}function K2(n){if(n[ip]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[ip])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ce]&8192)}}var YP=100;function Q2(n,e=!0,t=0){let i=n[qi].rendererFactory,o=!1;o||i.begin?.();try{JP(n,t)}catch(s){throw e&&U2(n,s),s}finally{o||i.end?.()}}function JP(n,e){let t=FA();try{yE(!0),Ny(n,e);let r=0;for(;Op(n);){if(r===YP)throw new X(103,!1);r++,Ny(n,1)}}finally{yE(t)}}function XP(n,e,t,r){if(ad(e))return;let i=e[ce],o=!1,s=!1;lv(e);let a=!0,c=null,l=null;o||(q2(n)?(l=GP(e),c=hh(l)):EC()===null?(a=!1,l=QP(e),c=hh(l)):e[br]&&(Ib(e[br]),e[br]=null));try{IA(e),QR(n.bindingStartIndex),t!==null&&F2(n,e,t,2,r);let u=(i&3)===3;if(!o)if(u){let p=n.preOrderCheckHooks;p!==null&&qh(e,p,null)}else{let p=n.preOrderHooks;p!==null&&Kh(e,p,0,null),Qb(e,0)}if(s||e8(e),K2(e),Z2(e,0),n.contentQueries!==null&&_2(n,e),!o)if(u){let p=n.contentCheckHooks;p!==null&&qh(e,p)}else{let p=n.contentHooks;p!==null&&Kh(e,p,1),Qb(e,1)}n8(n,e);let d=n.components;d!==null&&J2(e,d,0);let f=n.viewQuery;if(f!==null&&Ty(2,f,r),!o)if(u){let p=n.viewCheckHooks;p!==null&&qh(e,p)}else{let p=n.viewHooks;p!==null&&Kh(e,p,2),Qb(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Kb]){for(let p of e[Kb])p();e[Kb]=null}o||(G2(e),e[ce]&=-73)}catch(u){throw o||cd(e),u}finally{l!==null&&(Eb(l,c),a&&qP(l)),uv()}}function Z2(n,e){for(let t=p2(n);t!==null;t=m2(t))for(let r=$n;r<t.length;r++){let i=t[r];Y2(i,e)}}function e8(n){for(let e=p2(n);e!==null;e=m2(e)){if(!(e[ce]&2))continue;let t=e[Kc];for(let r=0;r<t.length;r++){let i=t[r];DA(i)}}}function t8(n,e,t){tt(18);let r=yi(e,n);Y2(r,t),tt(19,r[An])}function Y2(n,e){av(n)&&Ny(n,e)}function Ny(n,e){let r=n[we],i=n[ce],o=n[br],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ab(o)),s||=!1,o&&(o.dirty=!1),n[ce]&=-9217,s)XP(r,n,r.template,n[An]);else if(i&8192){K2(n),Z2(n,1);let a=r.components;a!==null&&J2(n,a,1),G2(n)}}function J2(n,e,t){for(let r=0;r<e.length;r++)t8(n,e[r],t)}function n8(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)ca(~i);else{let o=i,s=t[++r],a=t[++r];YR(s,o);let c=e[o];tt(24,c),a(2,c),tt(25,c)}}}finally{ca(-1)}}function Rv(n,e){let t=FA()?64:1088;for(n[qi].changeDetectionScheduler?.notify(e);n;){n[ce]|=t;let r=aa(n);if(sp(n)&&!r)return n;n=r}return null}function X2(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function r8(n,e){let t=$n+e;if(t<n.length)return n[t]}function Pv(n,e,t,r=!0){let i=e[we];if(o8(i,e,n,t),r){let s=ky(t,n),a=e[Nt],c=a.parentNode(n[sa]);c!==null&&RP(i,n[zn],a,e,c,s)}let o=e[Ju];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function i8(n,e){let t=yp(n,e);return t!==void 0&&kv(t[we],t),t}function yp(n,e){if(n.length<=$n)return;let t=$n+e,r=n[t];if(r){let i=r[oa];i!==null&&i!==n&&Mv(i,r),e>0&&(n[t-1][Hr]=r[Hr]);let o=tp(n,$n+e);OP(r[we],r);let s=o[Ki];s!==null&&s.detachView(o[we]),r[yn]=null,r[Hr]=null,r[ce]&=-129}return r}function o8(n,e,t,r){let i=$n+r,o=t.length;r>0&&(t[i-1][Hr]=e),r<o-$n?(e[Hr]=t[i],lA(t,$n+r,e)):(t.push(e),e[Hr]=null),e[yn]=t;let s=e[oa];s!==null&&t!==s&&eI(s,e);let a=e[Ki];a!==null&&a.insertView(n),hy(e),e[ce]|=128}function eI(n,e){let t=n[Kc],r=e[yn];if(Ko(r))n[ce]|=2;else{let i=r[yn][yr];e[yr]!==i&&(n[ce]|=2)}t===null?n[Kc]=[e]:t.push(e)}var rd=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[we];return bp(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[An]}set context(e){this._lView[An]=e}get destroyed(){return ad(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[yn];if(Ji(e)){let t=e[op],r=t?t.indexOf(this):-1;r>-1&&(yp(e,r),tp(t,r))}this._attachedToViewContainer=!1}kv(this._lView[we],this._lView)}onDestroy(e){SA(this._lView,e)}markForCheck(){Rv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ce]&=-129}reattach(){hy(this._lView),this._lView[ce]|=128}detectChanges(){this._lView[ce]|=1024,Q2(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new X(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=sp(this._lView),t=this._lView[oa];t!==null&&!e&&Mv(t,this._lView),V2(this._lView[we],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new X(902,!1);this._appRef=e;let t=sp(this._lView),r=this._lView[oa];r!==null&&!t&&eI(r,this._lView),hy(this._lView)}};var ua=(()=>{class n{static __NG_ELEMENT_ID__=c8}return n})(),s8=ua,a8=class extends s8{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=Dv(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new rd(i)}};function c8(){return $p(In(),Ne())}function $p(n,e){return n.type&4?new a8(e,n,nl(n,e)):null}function Hp(n,e,t,r,i){let o=n.data[e];if(o===null)o=l8(n,e,t,r,i),ZR()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=GR();o.injectorIndex=s===null?-1:s.injectorIndex}return ld(o,!0),o}function l8(n,e,t,r,i){let o=OA(),s=RA(),a=s?o:o&&o.parent,c=n.data[e]=d8(n,a,t,e,r,i);return u8(n,c,o,s),c}function u8(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function d8(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return NA()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var GJ=new RegExp(`^(\\d+)*(${U4}|${B4})*(.*)`);var f8=()=>null;function vp(n,e){return f8(n,e)}var h8=class{},tI=class{},Oy=class{resolveComponentFactory(e){throw Error(`No component factory found for ${jn(e)}.`)}},zp=class{static NULL=new Oy},Zo=class{},Xn=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>p8()}return n})();function p8(){let n=Ne(),e=In(),t=yi(e.index,n);return(Ko(t)?t:n)[Nt]}var m8=(()=>{class n{static \u0275prov=j({token:n,providedIn:"root",factory:()=>null})}return n})();function PE(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=lE(i,a);else if(o==2){let c=a,l=e[++s];r=lE(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function ee(n,e=xe.Default){let t=Ne();if(t===null)return de(n,e);let r=In();return e2(r,t,Cn(n),e)}function nI(){let n="invalid";throw new Error(n)}function rI(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,c=null,l=null,u=b8(s);u===null?a=s:[a,c,l]=u,x8(n,e,t,a,o,c,l)}o!==null&&r!==null&&g8(t,r,o)}function g8(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new X(-301,!1);r.push(e[i],o)}}function b8(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&gi(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,y8(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function y8(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function v8(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function x8(n,e,t,r,i,o,s){let a=r.length,c=!1;for(let f=0;f<a;f++){let p=r[f];!c&&gi(p)&&(c=!0,v8(n,t,f)),yy(up(t,e),n,p.type)}I8(t,n.data.length,a);for(let f=0;f<a;f++){let p=r[f];p.providersResolver&&p.providersResolver(p)}let l=!1,u=!1,d=R2(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let f=0;f<a;f++){let p=r[f];if(t.mergedAttrs=td(t.mergedAttrs,p.hostAttrs),_8(n,t,e,d,p),A8(d,p,i),s!==null&&s.has(p)){let[b,w]=s.get(p);t.directiveToIndex.set(p.type,[d,b+t.directiveStart,w+t.directiveStart])}else(o===null||!o.has(p))&&t.directiveToIndex.set(p.type,d);p.contentQueries!==null&&(t.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(t.flags|=64);let m=p.type.prototype;!l&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!u&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),u=!0),d++}w8(n,t,o)}function w8(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))FE(0,e,i,r),FE(1,e,i,r),BE(e,r,!1);else{let o=t.get(i);LE(0,e,o,r),LE(1,e,o,r),BE(e,r,!0)}}}function FE(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),iI(e,o)}}function LE(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),iI(e,s)}}function iI(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function BE(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||vv(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===e){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===e){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function _8(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Gc(i.type,!0)),s=new la(o,gi(i),ee);n.blueprint[r]=s,t[r]=s,C8(n,e,r,R2(n,t,i.hostVars,zr),i)}function C8(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;E8(s)!=a&&s.push(a),s.push(t,r,o)}}function E8(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function A8(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;gi(e)&&(t[""]=n)}}function I8(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function oI(n,e,t,r,i,o,s,a){let c=e.consts,l=ap(c,s),u=Hp(e,n,2,r,l);return o&&rI(e,t,u,ap(c,a),i),u.mergedAttrs=td(u.mergedAttrs,u.attrs),u.attrs!==null&&PE(u,u.attrs,!1),u.mergedAttrs!==null&&PE(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function sI(n,e){GA(n,e),xA(e)&&n.queries.elementEnd(e)}var xp=class extends zp{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Qo(e);return new da(t,this.ngModule)}};function D8(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Vp.SignalBased)!==0};return i&&(o.transform=i),o})}function S8(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function T8(n,e,t){let r=e instanceof En?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new gy(t,r):t}function M8(n){let e=n.get(Zo,null);if(e===null)throw new X(407,!1);let t=n.get(m8,null),r=n.get(Qc,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function k8(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return M2(e,t,t==="svg"?NR:t==="math"?OR:null)}var da=class extends tI{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=D8(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=S8(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=cP(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){tt(22);let o=Ce(null);try{let s=this.componentDef,a=r?["ng-version","19.2.3"]:lP(this.componentDef.selectors[0]),c=xv(0,null,null,1,0,null,null,null,null,[a],null),l=T8(s,i||this.ngModule,e),u=M8(l),d=u.rendererFactory.createRenderer(null,s),f=r?yP(d,r,s.encapsulation,l):k8(s,d),p=wv(null,c,null,512|O2(s),null,null,u,d,l,null,w2(f,l,!0));p[Hn]=f,lv(p);let m=null;try{let b=oI(Hn,c,p,"#host",()=>[this.componentDef],!0,0);f&&(N2(d,f,b),dd(f,p)),Cv(c,p,b),C2(c,b,p),sI(c,b),t!==void 0&&N8(b,this.ngContentSelectors,t),m=yi(b.index,p),p[An]=m[An],Iv(c,p,null)}catch(b){throw m!==null&&Iy(m),Iy(p),b}finally{tt(23),uv()}return new Ry(this.componentType,p)}finally{Ce(o)}}},Ry=class extends h8{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=sv(t[we],Hn),this.location=nl(this._tNode,t),this.instance=yi(this._tNode.index,t)[An],this.hostView=this.changeDetectorRef=new rd(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Av(r,i[we],i,e,t);this.previousInputValues.set(e,t);let s=yi(r.index,i);Rv(s,1)}get injector(){return new ra(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function N8(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Xo=(()=>{class n{static __NG_ELEMENT_ID__=O8}return n})();function O8(){let n=In();return cI(n,Ne())}var R8=Xo,aI=class extends R8{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return nl(this._hostTNode,this._hostLView)}get injector(){return new ra(this._hostTNode,this._hostLView)}get parentInjector(){let e=hv(this._hostTNode,this._hostLView);if(KA(e)){let t=lp(e,this._hostLView),r=cp(e),i=t[we].data[r+8];return new ra(i,t)}else return new ra(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=UE(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-$n}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=vp(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,gp(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!SR(e),a;if(s)a=t;else{let m=t||{};a=m.index,r=m.injector,i=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef}let c=s?e:new da(Qo(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let b=(s?l:this.parentInjector).get(En,null);b&&(o=b)}let u=Qo(c.componentType??{}),d=vp(this._lContainer,u?.id??null),f=d?.firstChild??null,p=c.create(l,i,f,o);return this.insertImpl(p.hostView,a,gp(this._hostTNode,d)),p}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(FR(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[yn],l=new aI(c,c[zn],c[yn]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Pv(s,i,o,r),e.attachToViewContainerRef(),lA(Xb(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=UE(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=yp(this._lContainer,t);r&&(tp(Xb(this._lContainer),t),kv(r[we],r))}detach(e){let t=this._adjustIndex(e,-1),r=yp(this._lContainer,t);return r&&tp(Xb(this._lContainer),t)!=null?new rd(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function UE(n){return n[op]}function Xb(n){return n[op]||(n[op]=[])}function cI(n,e){let t,r=e[n.index];return Ji(r)?t=r:(t=X2(r,e,null,n),e[n.index]=t,_v(e,t)),F8(t,e,n,r),new aI(t,n,e)}function P8(n,e){let t=n[Nt],r=t.createComment(""),i=_i(e,n),o=t.parentNode(i);return mp(t,o,r,t.nextSibling(i),!1),r}var F8=U8,L8=()=>!1;function B8(n,e,t){return L8(n,e,t)}function U8(n,e,t,r){if(n[sa])return;let i;t.type&8?i=bi(r):i=P8(e,t),n[sa]=i}var Py=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Fy=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Fv(e,t).matches!==null&&this.queries[t].setDirty()}},wp=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=q8(e):this.predicate=e}},Ly=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},By=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,V8(t,o)),this.matchTNodeWithReadOption(e,t,Qh(t,e,o,!1,!1))}else r===ua?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Qh(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===vt||i===Xo||i===ua&&t.type&4)this.addMatch(t.index,-2);else{let o=Qh(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function V8(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function j8(n,e){return n.type&11?nl(n,e):n.type&4?$p(n,e):null}function $8(n,e,t,r){return t===-1?j8(e,n):t===-2?H8(n,e,r):nd(n,n[we],t,e)}function H8(n,e,t){if(t===vt)return nl(e,n);if(t===ua)return $p(e,n);if(t===Xo)return cI(e,n)}function lI(n,e,t,r){let i=e[Ki].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push($8(e,u,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function Uy(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=lI(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let d=$n;d<u.length;d++){let f=u[d];f[oa]===f[yn]&&Uy(f[we],f,l,r)}if(u[Kc]!==null){let d=u[Kc];for(let f=0;f<d.length;f++){let p=d[f];Uy(p[we],p,l,r)}}}}}return r}function z8(n,e){return n[Ki].queries[e].queryList}function uI(n,e,t){let r=new Ay((t&4)===4);return UR(n,e,r,r.destroy),(e[Ki]??=new Fy).queries.push(new Py(r))-1}function G8(n,e,t){let r=en();return r.firstCreatePass&&(dI(r,new wp(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),uI(r,Ne(),e)}function W8(n,e,t,r){let i=en();if(i.firstCreatePass){let o=In();dI(i,new wp(e,t,r),o.index),K8(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return uI(i,Ne(),t)}function q8(n){return n.split(",").map(e=>e.trim())}function dI(n,e,t){n.queries===null&&(n.queries=new Ly),n.queries.track(new By(e,t))}function K8(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Fv(n,e){return n.queries.getByIndex(e)}function Q8(n,e){let t=n[we],r=Fv(t,e);return r.crossesNgTemplate?Uy(t,n,e,[]):lI(t,n,r,e)}var Zc=class{},Lv=class{};var Vy=class extends Zc{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new xp(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=fA(e);this._bootstrapComponents=D2(o.bootstrap),this._r3Injector=r2(e,t,[{provide:Zc,useValue:this},{provide:zp,useValue:this.componentFactoryResolver},...r],jn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},jy=class extends Lv{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Vy(this.moduleType,e,[])}};var _p=class extends Zc{injector;componentFactoryResolver=new xp(this);instance=null;constructor(e){super();let t=new Yu([...e.providers,{provide:Zc,useValue:this},{provide:zp,useValue:this.componentFactoryResolver}],e.parent||kp(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Gp(n,e,t=null){return new _p({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var Z8=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=hA(!1,t.type),i=r.length>0?Gp([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=j({token:n,providedIn:"environment",factory:()=>new n(de(En))})}return n})();function ze(n){return od(()=>{let e=fI(n),t=N(x({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===f2.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Z8).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||xi.Emulated,styles:n.styles||gr,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&pd("NgStandalone"),hI(t);let r=n.dependencies;return t.directiveDefs=VE(r,!1),t.pipeDefs=VE(r,!0),t.id=t6(t),t})}function Y8(n){return Qo(n)||mR(n)}function J8(n){return n!==null}function Pt(n){return od(()=>({type:n.type,bootstrap:n.bootstrap||gr,declarations:n.declarations||gr,imports:n.imports||gr,exports:n.exports||gr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function X8(n,e){if(n==null)return ia;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Vp.None,c=null),t[o]=[r,a,c],e[o]=s}return t}function e6(n){if(n==null)return ia;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function ot(n){return od(()=>{let e=fI(n);return hI(e),e})}function fI(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||ia,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||gr,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:X8(n.inputs,e),outputs:e6(n.outputs),debugInfo:null}}function hI(n){n.features?.forEach(e=>e(n))}function VE(n,e){if(!n)return null;let t=e?gR:Y8;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(J8)}function t6(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function n6(n){return Object.getPrototypeOf(n.prototype).constructor}function Ei(n){let e=n6(n.type),t=!0,r=[n];for(;e;){let i;if(gi(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new X(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=ey(n.inputs),s.declaredInputs=ey(n.declaredInputs),s.outputs=ey(n.outputs);let a=i.hostBindings;a&&a6(n,a);let c=i.viewQuery,l=i.contentQueries;if(c&&o6(n,c),l&&s6(n,l),r6(n,i),GO(n.outputs,i.outputs),gi(i)&&i.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Ei&&(t=!1)}}e=Object.getPrototypeOf(e)}i6(r)}function r6(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function i6(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=td(i.hostAttrs,t=td(t,i.hostAttrs))}}function ey(n){return n===ia?{}:n===gr?[]:n}function o6(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function s6(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function a6(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function pI(n){return l6(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function c6(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function l6(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function u6(n,e,t){return n[e]=t}function d6(n,e){return n[e]}function Yo(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function f6(n,e,t,r){let i=Yo(n,e,t);return Yo(n,e+1,r)||i}function h6(n,e,t,r,i,o,s,a,c){let l=e.consts,u=Hp(e,n,4,s||null,a||null);kA()&&rI(e,t,u,ap(l,c),B2),u.mergedAttrs=td(u.mergedAttrs,u.attrs),GA(e,u);let d=u.tView=xv(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function mI(n,e,t,r,i,o,s,a,c,l){let u=t+Hn,d=e.firstCreatePass?h6(u,e,n,r,i,o,s,a,c):e.data[u];ld(d,!1);let f=p6(e,n,d,t);dv()&&Nv(e,n,f,d),dd(f,n);let p=X2(f,n,f,d);return n[u]=p,_v(n,p),B8(p,d,n),ov(d)&&Cv(e,n,d),c!=null&&L2(n,d,l),d}function ae(n,e,t,r,i,o,s,a){let c=Ne(),l=en(),u=ap(l.consts,o);return mI(c,l,n,e,t,r,i,u,s,a),ae}var p6=m6;function m6(n,e,t,r){return fv(!0),e[Nt].createComment("")}var Bv=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var gI=new Q("");var g6=(()=>{class n{static \u0275prov=j({token:n,providedIn:"root",factory:()=>new $y})}return n})(),$y=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function ba(n){return!!n&&typeof n.then=="function"}function bI(n){return!!n&&typeof n.subscribe=="function"}var Wp=new Q("");var yI=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=I(Wp,{optional:!0})??[];injector=I(zt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=vr(this.injector,i);if(ba(o))t.push(o);else if(bI(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qp=new Q("");function b6(){RC(()=>{throw new X(600,!1)})}function y6(n){return n.isBoundToModule}var v6=10;var wi=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=I(I4);afterRenderManager=I(x2);zonelessEnabled=I(Fp);rootEffectScheduler=I(g6);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ft;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=I(tl).hasPendingTasks.pipe(Ae(t=>!t));constructor(){I(rl,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=I(En);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){tt(10);let i=t instanceof tI;if(!this._injector.get(yI).done){let f="";throw new X(405,f)}let s;i?s=t:s=this._injector.get(zp).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=y6(s)?void 0:this._injector.get(Zc),c=r||s.selector,l=s.create(zt.NULL,[],c,a),u=l.location.nativeElement,d=l.injector.get(gI,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Zh(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),tt(11,l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){tt(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(bv.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new X(101,!1);let t=Ce(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Ce(t),this.afterTick.next(),tt(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Zo,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<v6;)tt(14),this.synchronizeOnce(),tt(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)x6(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Op(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Zh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(qp,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Zh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new X(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Zh(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function x6(n,e,t,r){if(!t&&!Op(n))return;Q2(n,e,t&&!r?0:1)}function Gr(n,e,t,r){let i=Ne(),o=ud();if(Yo(i,o,e)){let s=en(),a=Rp();IP(a,i,n,e,t,r)}return Gr}function vI(n,e,t,r){return Yo(n,ud(),t)?e+zc(t)+r:zr}function w6(n,e,t,r,i,o){let s=KR(),a=f6(n,s,t,i);return LA(2),a?e+zc(t)+r+zc(i)+o:zr}function Gh(n,e){return n<<17|e<<2}function fa(n){return n>>17&32767}function _6(n){return(n&2)==2}function C6(n,e){return n&131071|e<<17}function Hy(n){return n|2}function Yc(n){return(n&131068)>>2}function ty(n,e){return n&-131069|e<<2}function E6(n){return(n&1)===1}function zy(n){return n|1}function A6(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=fa(s),c=Yc(s);n[r]=t;let l=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||sd(d,u)>0)&&(l=!0)}else u=t;if(i)if(c!==0){let f=fa(n[a+1]);n[r+1]=Gh(f,a),f!==0&&(n[f+1]=ty(n[f+1],r)),n[a+1]=C6(n[a+1],r)}else n[r+1]=Gh(a,0),a!==0&&(n[a+1]=ty(n[a+1],r)),a=r;else n[r+1]=Gh(c,0),a===0?a=r:n[c+1]=ty(n[c+1],r),c=r;l&&(n[r+1]=Hy(n[r+1])),jE(n,u,r,!0),jE(n,u,r,!1),I6(e,u,n,r,o),s=Gh(a,c),o?e.classBindings=s:e.styleBindings=s}function I6(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&sd(o,e)>=0&&(t[r+1]=zy(t[r+1]))}function jE(n,e,t,r){let i=n[t+1],o=e===null,s=r?fa(i):Yc(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];D6(c,e)&&(a=!0,n[s+1]=r?zy(l):Hy(l)),s=r?fa(l):Yc(l)}a&&(n[t+1]=r?Hy(i):zy(i))}function D6(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?sd(n,e)>=0:!1}function ne(n,e,t){let r=Ne(),i=ud();if(Yo(r,i,e)){let o=en(),s=Rp();Ev(o,s,r,n,e,r[Nt],t,!1)}return ne}function $E(n,e,t,r,i){Av(e,n,t,i?"class":"style",r)}function Gn(n,e){return S6(n,e,null,!0),Gn}function S6(n,e,t,r){let i=Ne(),o=en(),s=LA(2);if(o.firstUpdatePass&&M6(o,n,s,r),e!==zr&&Yo(i,s,e)){let a=o.data[pa()];P6(o,a,i,i[Nt],n,i[s+1]=F6(e,t),r,s)}}function T6(n,e){return e>=n.expandoStartIndex}function M6(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[pa()],s=T6(n,t);L6(o,r)&&e===null&&!s&&(e=!1),e=k6(i,o,e,r),A6(i,o,e,t,s,r)}}function k6(n,e,t,r){let i=XR(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=ny(null,n,e,t,r),t=id(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=ny(i,n,e,t,r),o===null){let c=N6(n,e,r);c!==void 0&&Array.isArray(c)&&(c=ny(null,n,e,c[1],r),c=id(c,e.attrs,r),O6(n,e,r,c))}else o=R6(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function N6(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Yc(r)!==0)return n[fa(r)]}function O6(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[fa(i)]=r}function R6(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=id(r,s,t)}return id(r,e.attrs,t)}function ny(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=id(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function id(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),hR(n,s,t?!0:e[++o]))}return n===void 0?null:n}function P6(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],u=E6(l)?HE(c,e,t,i,Yc(l),s):void 0;if(!Cp(u)){Cp(o)||_6(l)&&(o=HE(c,null,t,i,a,s));let d=AA(pa(),t);HP(r,s,d,i,o)}}function HE(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=t[i+1];f===zr&&(f=d?gr:void 0);let p=d?Wb(f,r):u===r?f:void 0;if(l&&!Cp(p)&&(p=Wb(c,r)),Cp(p)&&(a=p,s))return a;let m=n[i+1];i=s?fa(m):Yc(m)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Wb(c,r))}return a}function Cp(n){return n!==void 0}function F6(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=jn(md(n)))),n}function L6(n,e){return(n.flags&(e?8:16))!==0}function Se(n,e){pd("NgControlFlow");let t=Ne(),r=ud(),i=t[r]!==zr?t[r]:-1,o=i!==-1?zE(t,Hn+i):void 0,s=0;if(Yo(t,r,n)){let a=Ce(null);try{if(o!==void 0&&i8(o,s),n!==-1){let c=Hn+n,l=zE(t,c),u=B6(t[we],c),d=vp(l,u.tView.ssrId),f=Dv(t,u,e,{dehydratedView:d});Pv(l,f,s,gp(u,d))}}finally{Ce(a)}}else if(o!==void 0){let a=r8(o,s);a!==void 0&&(a[An]=e)}}function zE(n,e){return n[e]}function B6(n,e){return sv(n,e)}function v(n,e,t,r){let i=Ne(),o=en(),s=Hn+n,a=i[Nt],c=o.firstCreatePass?oI(s,o,i,e,B2,kA(),t,r):o.data[s],l=U6(o,i,c,a,e,n);i[s]=l;let u=ov(c);return ld(c,!0),N2(a,l,c),!Tv(c)&&dv()&&Nv(o,i,l,c),(VR()===0||u)&&dd(l,i),jR(),u&&(Cv(o,i,c),C2(o,c,i)),r!==null&&L2(i,c),v}function y(){let n=In();RA()?PA():(n=n.parent,ld(n,!1));let e=n;HR(e)&&zR(),$R();let t=en();return t.firstCreatePass&&sI(t,e),e.classesWithoutHost!=null&&o4(e)&&$E(t,e,Ne(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&s4(e)&&$E(t,e,Ne(),e.stylesWithoutHost,!1),y}function P(n,e,t,r){return v(n,e,t,r),y(),P}var U6=(n,e,t,r,i,o)=>(fv(!0),M2(r,i,n4()));function Pe(){return Ne()}var Ep="en-US";var V6=Ep;function j6(n){typeof n=="string"&&(V6=n.toLowerCase().replace(/_/g,"-"))}var $6=(n,e,t)=>{};function G(n,e,t,r){let i=Ne(),o=en(),s=In();return xI(o,i,i[Nt],s,n,e,r),G}function H6(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[rp],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function xI(n,e,t,r,i,o,s){let a=ov(r),l=n.firstCreatePass?MA(n):null,u=e[An],d=TA(e),f=!0;if(r.type&3||s){let p=_i(r,e),m=s?s(p):p,b=d.length,w=s?D=>s(bi(D[r.index])):r.index,_=null;if(!s&&a&&(_=H6(n,e,i,r.index)),_!==null){let D=_.__ngLastListenerFn__||_;D.__ngNextListenerFn__=o,_.__ngLastListenerFn__=o,f=!1}else{o=qE(r,e,u,o),$6(m,i,o);let D=t.listen(m,i,o);d.push(o,D),l&&l.push(i,w,b,b+1)}}else o=qE(r,e,u,o);if(f){let p=r.outputs?.[i],m=r.hostDirectiveOutputs?.[i];if(m&&m.length)for(let b=0;b<m.length;b+=2){let w=m[b],_=m[b+1];GE(r,n,e,w,_,i,o,d,l)}if(p&&p.length)for(let b of p)GE(r,n,e,b,i,i,o,d,l)}}function GE(n,e,t,r,i,o,s,a,c){let l=t[r],d=e.data[r].outputs[i],p=l[d].subscribe(s),m=a.length;a.push(s,p),c&&c.push(o,n.index,m,-(m+1))}function WE(n,e,t,r){let i=Ce(null);try{return tt(6,e,t),t(r)!==!1}catch(o){return U2(n,o),!1}finally{tt(7,e,t),Ce(i)}}function qE(n,e,t,r){return function i(o){if(o===Function)return r;let s=Xc(n)?yi(n.index,e):e;Rv(s,5);let a=WE(e,t,r,o),c=i.__ngNextListenerFn__;for(;c;)a=WE(e,t,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function O(n=1){return t4(n)}function z6(n,e){let t=null,r=rP(n);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){t=i;continue}if(r===null?T2(n,o,!0):sP(r,o))return i}return t}function gd(n){let e=Ne()[yr][zn];if(!e.projection){let t=n?n.length:1,r=e.projection=dR(t,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?z6(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function bd(n,e=0,t,r,i,o){let s=Ne(),a=en(),c=r?n+1:null;c!==null&&mI(s,a,c,r,i,o,null,t);let l=Hp(a,Hn+n,16,null,t||null);l.projection===null&&(l.projection=e),PA();let d=!s[Ju]||NA();s[yr][zn].projection[l.projection]===null&&c!==null?G6(s,a,c):d&&!Tv(l)&&jP(a,s,l)}function G6(n,e,t){let r=Hn+t,i=e.data[r],o=n[r],s=vp(o,i.tView.ssrId),a=Dv(n,i,void 0,{dehydratedView:s});Pv(o,a,0,gp(i,s))}function ct(n,e,t){return wI(n,"",e,"",t),ct}function wI(n,e,t,r,i){let o=Ne(),s=vI(o,e,t,r);if(s!==zr){let a=en(),c=Rp();Ev(a,c,o,n,s,o[Nt],i,!1)}return wI}function Uv(n,e,t,r){W8(n,e,t,r)}function yd(n,e,t){G8(n,e,t)}function ya(n){let e=Ne(),t=en(),r=BA();cv(r+1);let i=Fv(t,r);if(n.dirty&&PR(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=Q8(e,r);n.reset(o,T4),n.notifyOnChanges()}return!0}return!1}function va(){return z8(Ne(),BA())}function ol(n){let e=WR();return RR(e,Hn+n)}function C(n,e=""){let t=Ne(),r=en(),i=n+Hn,o=r.firstCreatePass?Hp(r,i,1,e,null):r.data[i],s=W6(r,t,o,e,n);t[i]=s,dv()&&Nv(r,t,s,o),ld(o,!1)}var W6=(n,e,t,r,i)=>(fv(!0),uP(e[Nt],r));function lt(n){return fe("",n,""),lt}function fe(n,e,t){let r=Ne(),i=vI(r,n,e,t);return i!==zr&&_I(r,pa(),i),fe}function vd(n,e,t,r,i){let o=Ne(),s=w6(o,n,e,t,r,i);return s!==zr&&_I(o,pa(),s),vd}function _I(n,e,t){let r=AA(e,n);dP(n[Nt],r,t)}function ht(n,e,t){u2(e)&&(e=e());let r=Ne(),i=ud();if(Yo(r,i,e)){let o=en(),s=Rp();Ev(o,s,r,n,e,r[Nt],t,!1)}return ht}function xt(n,e){let t=u2(n);return t&&n.set(e),t}function pt(n,e){let t=Ne(),r=en(),i=In();return xI(r,t,t[Nt],i,n,e),pt}function q6(n,e,t){let r=en();if(r.firstCreatePass){let i=gi(n);Gy(t,r.data,r.blueprint,i,!0),Gy(e,r.data,r.blueprint,i,!1)}}function Gy(n,e,t,r,i){if(n=Cn(n),Array.isArray(n))for(let o=0;o<n.length;o++)Gy(n[o],e,t,r,i);else{let o=en(),s=Ne(),a=In(),c=qc(n)?n:Cn(n.provide),l=gA(n),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(qc(n)||!n.multi){let p=new la(l,i,ee),m=iy(c,e,i?u:u+f,d);m===-1?(yy(up(a,s),o,c),ry(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(p),s.push(p)):(t[m]=p,s[m]=p)}else{let p=iy(c,e,u+f,d),m=iy(c,e,u,u+f),b=p>=0&&t[p],w=m>=0&&t[m];if(i&&!w||!i&&!b){yy(up(a,s),o,c);let _=Z6(i?Q6:K6,t.length,i,r,l);!i&&w&&(t[m].providerFactory=_),ry(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(_),s.push(_)}else{let _=CI(t[i?m:p],l,!i&&r);ry(o,n,p>-1?p:m,_)}!i&&r&&w&&t[m].componentProviders++}}}function ry(n,e,t,r){let i=qc(e),o=wR(e);if(i||o){let c=(o?Cn(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(t);u===-1?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function CI(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function iy(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function K6(n,e,t,r){return Wy(this.multi,[])}function Q6(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=nd(t,t[we],this.providerFactory.index,r);o=a.slice(0,s),Wy(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Wy(i,o);return o}function Wy(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function Z6(n,e,t,r,i){let o=new la(n,t,ee);return o.multi=[],o.index=e,o.componentProviders=0,CI(o,i,r&&!t),o}function es(n,e=[]){return t=>{t.providersResolver=(r,i)=>q6(r,i?i(n):n,e)}}function Dn(n,e,t){let r=qR()+n,i=Ne();return i[r]===zr?u6(i,r,t?e.call(t):e()):d6(i,r)}function sl(n,e){return $p(n,e)}var ha=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Vv=new ha("19.2.3"),qy=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Kp=(()=>{class n{compileModuleSync(t){return new jy(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=fA(t),o=D2(i.declarations).reduce((s,a)=>{let c=Qo(a);return c&&s.push(new da(c)),s},[]);return new qy(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Y6=(()=>{class n{zone=I(Ze);changeDetectionScheduler=I(Qc);applicationRef=I(wi);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),J6=new Q("",{factory:()=>!1});function EI({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ze(N(x({},II()),{scheduleInRootZone:t})),[{provide:Ze,useFactory:n},{provide:Wc,multi:!0,useFactory:()=>{let r=I(Y6,{optional:!0});return()=>r.initialize()}},{provide:Wc,multi:!0,useFactory:()=>{let r=I(X6);return()=>{r.initialize()}}},e===!0?{provide:o2,useValue:!0}:[],{provide:s2,useValue:t??i2}]}function AI(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=EI({ngZoneFactory:()=>{let i=II(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&pd("NgZone_CoalesceEvent"),new Ze(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Tp([{provide:J6,useValue:!0},{provide:Fp,useValue:!1},r])}function II(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var X6=(()=>{class n{subscription=new It;initialized=!1;zone=I(Ze);pendingTasks=I(tl);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ze.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ze.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var e7=(()=>{class n{appRef=I(wi);taskService=I(tl);ngZone=I(Ze);zonelessEnabled=I(Fp);tracing=I(rl,{optional:!0});disableScheduling=I(o2,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new It;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(hp):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(I(s2,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Cy||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?AE:a2;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(hp+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,AE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function t7(){return typeof $localize<"u"&&$localize.locale||Ep}var jv=new Q("",{providedIn:"root",factory:()=>I(jv,xe.Optional|xe.SkipSelf)||t7()});var Ky=new Q(""),n7=new Q("");function qu(n){return!n.moduleRef}function r7(n){let e=qu(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ze);return t.run(()=>{qu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(vi,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),qu(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Ky);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Ky);s.add(o),n.moduleRef.onDestroy(()=>{Zh(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return o7(r,t,()=>{let o=e.get(yI);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(jv,Ep);if(j6(s||Ep),!e.get(n7,!0))return qu(n)?e.get(wi):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(qu(n)){let c=e.get(wi);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return i7(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function i7(n,e){let t=n.injector.get(wi);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new X(-403,!1);e.push(n)}function o7(n,e,t){try{let r=t();return ba(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Yh=null;function s7(n=[],e){return zt.create({name:e,providers:[{provide:Mp,useValue:"platform"},{provide:Ky,useValue:new Set([()=>Yh=null])},...n]})}function a7(n=[]){if(Yh)return Yh;let e=s7(n);return Yh=e,b6(),c7(e),e}function c7(n){let e=n.get(gv,null);vr(n,()=>{e?.forEach(t=>t())})}var Ai=(()=>{class n{static __NG_ELEMENT_ID__=l7}return n})();function l7(n){return u7(In(),Ne(),(n&16)===16)}function u7(n,e,t){if(Xc(n)&&!t){let r=yi(n.index,e);return new rd(r,r)}else if(n.type&175){let r=e[yr];return new rd(r,e)}return null}var Qy=class{constructor(){}supports(e){return pI(e)}create(e){return new Zy(e)}},d7=(n,e)=>e,Zy=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||d7}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<KE(r,i,o)?t:r,a=KE(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){let p=f<o.length?o[f]:o[f]=0,m=p+f;u<=m&&m<l&&(o[f]=p+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!pI(e))throw new X(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,c6(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Yy(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ap),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ap),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Yy=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Jy=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Ap=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Jy,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function KE(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function QE(){return new $v([new Qy])}var $v=(()=>{class n{factories;static \u0275prov=j({token:n,providedIn:"root",factory:QE});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||QE()),deps:[[n,new cR,new cA]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new X(901,!1)}}return n})();function DI(n){tt(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=a7(r),o=[EI({}),{provide:Qc,useExisting:e7},...t||[]],s=new _p({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return r7({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{tt(9)}}function Wn(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Qp(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}function Xi(n){return LC(n)}function Sn(n,e){return kC(n,e?.equal)}var ZE=class{[hr];constructor(e){this[hr]=e}destroy(){this[hr].destroy()}};function SI(n,e){let t=Qo(n),r=e.elementInjector||kp();return new da(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}function TI(n){let e=Qo(n);if(!e)return null;let t=new da(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var PI=null;function to(){return PI}function FI(n){PI??=n}var Zp=class{};var Zt=new Q(""),qv=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>I(f7),providedIn:"platform"})}return n})(),LI=new Q(""),f7=(()=>{class n extends qv{_location;_history;_doc=I(Zt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return to().getBaseHref(this._doc)}onPopState(t){let r=to().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=to().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Kv(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function MI(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function eo(n){return n&&n[0]!=="?"?`?${n}`:n}var no=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>I(Qv),providedIn:"root"})}return n})(),BI=new Q(""),Qv=(()=>{class n extends no{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??I(Zt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Kv(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+eo(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+eo(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+eo(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(de(qv),de(BI,8))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),UI=(()=>{class n extends no{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Kv(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+eo(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+eo(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(de(qv),de(BI,8))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),al=(()=>{class n{_subject=new ft;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=m7(MI(kI(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+eo(r))}normalize(t){return n.stripTrailingSlash(p7(this._basePath,kI(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+eo(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+eo(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=eo;static joinWithSlash=Kv;static stripTrailingSlash=MI;static \u0275fac=function(r){return new(r||n)(de(no))};static \u0275prov=j({token:n,factory:()=>h7(),providedIn:"root"})}return n})();function h7(){return new al(de(no))}function p7(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function kI(n){return n.replace(/\/index.html$/,"")}function m7(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function VI(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Hv=/\s+/,NI=[],xr=(()=>{class n{_ngEl;_renderer;initialClasses=NI;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(Hv):NI}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Hv):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Hv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(ee(vt),ee(Xn))};static \u0275dir=ot({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var zv=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},cl=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new zv(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),OI(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);OI(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ee(Xo),ee(ua),ee($v))};static \u0275dir=ot({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function OI(n,e){n.context.$implicit=e.item}var ll=(()=>{class n{_viewContainer;_context=new Gv;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){RI(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){RI(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ee(Xo),ee(ua))};static \u0275dir=ot({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Gv=class{$implicit=null;ngIf=null};function RI(n,e){if(n&&!n.createEmbeddedView)throw new X(2020,!1)}var sn=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pt({type:n});static \u0275inj=Ot({})}return n})(),Zv="browser",g7="server";function jI(n){return n===Zv}function Yv(n){return n===g7}var $I=(()=>{class n{static \u0275prov=j({token:n,providedIn:"root",factory:()=>new Wv(I(Zt),window)})}return n})(),Wv=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=b7(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function b7(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Yp=class{};var Xv=class extends Zp{supportsDOMEvents=!0},ex=class n extends Xv{static makeCurrent(){FI(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=y7();return t==null?null:v7(t)}resetBaseElement(){xd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return VI(document.cookie,e)}},xd=null;function y7(){return xd=xd||document.querySelector("base"),xd?xd.getAttribute("href"):null}function v7(n){return new URL(n,document.baseURI).pathname}var x7=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),tx=new Q(""),KI=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new X(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(de(tx),de(Ze))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),Xp=class{_doc;constructor(e){this._doc=e}manager},Jp="ng-app-id";function HI(n){for(let e of n)e.remove()}function zI(n,e){let t=e.createElement("style");return t.textContent=n,t}function w7(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Jp}="${e}"],link[${Jp}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Jp),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function nx(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var QI=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Yv(o),w7(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,zI);r?.forEach(i=>this.addUsage(i,this.external,nx))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(HI(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])HI(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,zI(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,nx(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Jp,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(de(Zt),de(fd),de(hd,8),de(ga))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),Jv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ix=/%COMP%/g;var ZI="%COMP%",_7=`_nghost-${ZI}`,C7=`_ngcontent-${ZI}`,E7=!0,A7=new Q("",{providedIn:"root",factory:()=>E7});function I7(n){return C7.replace(ix,n)}function D7(n){return _7.replace(ix,n)}function YI(n,e){return e.map(t=>t.replace(ix,n))}var GI=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,c,l=null,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=Yv(a),this.defaultRenderer=new wd(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===xi.ShadowDom&&(r=N(x({},r),{encapsulation:xi.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof em?i.applyToHost(t):i instanceof _d&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case xi.Emulated:o=new em(c,l,r,this.appId,u,s,a,d,f);break;case xi.ShadowDom:return new rx(c,l,t,r,s,a,this.nonce,d,f);default:o=new _d(c,l,r,u,s,a,d,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(de(KI),de(QI),de(fd),de(A7),de(Zt),de(ga),de(Ze),de(hd),de(rl,8))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),wd=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Jv[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(WI(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(WI(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new X(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Jv[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Jv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Qi.DashCase|Qi.Important)?e.style.setProperty(t,r,i&Qi.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Qi.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=to().getGlobalEventTarget(this.doc,e),!e))throw new X(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function WI(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var rx=class extends wd{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,c,l){super(e,o,s,c,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=YI(i.id,u);for(let f of u){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=f,this.shadowRoot.appendChild(p)}let d=i.getExternalStyles?.();if(d)for(let f of d){let p=nx(f,o);a&&p.setAttribute("nonce",a),this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},_d=class extends wd{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,c,l){super(e,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=l?YI(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},em=class extends _d{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,c,l){let u=i+"-"+r.id;super(e,t,r,o,s,a,c,l,u),this.contentAttr=I7(u),this.hostAttr=D7(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},S7=(()=>{class n extends Xp{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(de(Zt))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),qI=["alt","control","meta","shift"],T7={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},M7={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},k7=(()=>{class n extends Xp{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>to().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),qI.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=T7[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),qI.forEach(s=>{if(s!==i){let a=M7[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(de(Zt))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();function JI(n,e){return DI(x({rootComponent:n},N7(e)))}function N7(n){return{appProviders:[...L7,...n?.providers??[]],platformProviders:F7}}function O7(){ex.makeCurrent()}function R7(){return new vi}function P7(){return b2(document),document}var F7=[{provide:ga,useValue:Zv},{provide:gv,useValue:O7,multi:!0},{provide:Zt,useFactory:P7,deps:[]}];var L7=[{provide:Mp,useValue:"root"},{provide:vi,useFactory:R7,deps:[]},{provide:tx,useClass:S7,multi:!0,deps:[Zt]},{provide:tx,useClass:k7,multi:!0,deps:[Zt]},GI,QI,KI,{provide:Zo,useExisting:GI},{provide:Yp,useClass:x7,deps:[]},[]];var XI=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(de(Zt))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var pe="primary",Pd=Symbol("RouteTitle"),lx=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ml(n){return new lx(n)}function U7(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function V7(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ii(n[t],e[t]))return!1;return!0}function Ii(n,e){let t=n?ux(n):void 0,r=e?ux(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!lD(n[i],e[i]))return!1;return!0}function ux(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function lD(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function uD(n){return n.length>0?n[n.length-1]:null}function is(n){return Vb(n)?n:ba(n)?yt(Promise.resolve(n)):ie(n)}var j7={exact:fD,subset:hD},dD={exact:$7,subset:H7,ignored:()=>!0};function eD(n,e,t){return j7[t.paths](n.root,e.root,t.matrixParams)&&dD[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function $7(n,e){return Ii(n,e)}function fD(n,e,t){if(!wa(n.segments,e.segments)||!rm(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!fD(n.children[r],e.children[r],t))return!1;return!0}function H7(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>lD(n[t],e[t]))}function hD(n,e,t){return pD(n,e,e.segments,t)}function pD(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!wa(i,t)||e.hasChildren()||!rm(i,t,r))}else if(n.segments.length===t.length){if(!wa(n.segments,t)||!rm(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!hD(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!wa(n.segments,i)||!rm(n.segments,i,r)||!n.children[pe]?!1:pD(n.children[pe],e,o,r)}}function rm(n,e,t){return e.every((r,i)=>dD[t](n[i].parameters,r.parameters))}var io=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ye([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ml(this.queryParams),this._queryParamMap}toString(){return W7.serialize(this)}},Ye=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return im(this)}},xa=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=ml(this.parameters),this._parameterMap}toString(){return gD(this)}};function z7(n,e){return wa(n,e)&&n.every((t,r)=>Ii(t.parameters,e[r].parameters))}function wa(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function G7(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===pe&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==pe&&(t=t.concat(e(i,r)))}),t}var Fd=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>new gl,providedIn:"root"})}return n})(),gl=class{parse(e){let t=new fx(e);return new io(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Cd(e.root,!0)}`,r=Q7(e.queryParams),i=typeof e.fragment=="string"?`#${q7(e.fragment)}`:"";return`${t}${r}${i}`}},W7=new gl;function im(n){return n.segments.map(e=>gD(e)).join("/")}function Cd(n,e){if(!n.hasChildren())return im(n);if(e){let t=n.children[pe]?Cd(n.children[pe],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==pe&&r.push(`${i}:${Cd(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=G7(n,(r,i)=>i===pe?[Cd(n.children[pe],!1)]:[`${i}:${Cd(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[pe]!=null?`${im(n)}/${t[0]}`:`${im(n)}/(${t.join("//")})`}}function mD(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tm(n){return mD(n).replace(/%3B/gi,";")}function q7(n){return encodeURI(n)}function dx(n){return mD(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function om(n){return decodeURIComponent(n)}function tD(n){return om(n.replace(/\+/g,"%20"))}function gD(n){return`${dx(n.path)}${K7(n.parameters)}`}function K7(n){return Object.entries(n).map(([e,t])=>`;${dx(e)}=${dx(t)}`).join("")}function Q7(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${tm(t)}=${tm(i)}`).join("&"):`${tm(t)}=${tm(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var Z7=/^[^\/()?;#]+/;function ox(n){let e=n.match(Z7);return e?e[0]:""}var Y7=/^[^\/()?;=#]+/;function J7(n){let e=n.match(Y7);return e?e[0]:""}var X7=/^[^=?&#]+/;function eF(n){let e=n.match(X7);return e?e[0]:""}var tF=/^[^&#]+/;function nF(n){let e=n.match(tF);return e?e[0]:""}var fx=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ye([],{}):new Ye([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[pe]=new Ye(e,t)),r}parseSegment(){let e=ox(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new X(4009,!1);return this.capture(e),new xa(om(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=J7(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=ox(this.remaining);i&&(r=i,this.capture(r))}e[om(t)]=om(r)}parseQueryParam(e){let t=eF(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=nF(this.remaining);s&&(r=s,this.capture(r))}let i=tD(t),o=tD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ox(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new X(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=pe);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[pe]:new Ye([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new X(4011,!1)}};function bD(n){return n.segments.length>0?new Ye([],{[pe]:n}):n}function yD(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=yD(i);if(r===pe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ye(n.segments,e);return rF(t)}function rF(n){if(n.numberOfChildren===1&&n.children[pe]){let e=n.children[pe];return new Ye(n.segments.concat(e.segments),e.children)}return n}function _a(n){return n instanceof io}function iF(n,e,t=null,r=null){let i=vD(n);return xD(i,e,t,r)}function vD(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new Ye(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=bD(r);return e??i}function xD(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return sx(i,i,i,t,r);let o=oF(e);if(o.toRoot())return sx(i,i,new Ye([],{}),t,r);let s=sF(o,i,n),a=s.processChildren?Ad(s.segmentGroup,s.index,o.commands):_D(s.segmentGroup,s.index,o.commands);return sx(i,s.segmentGroup,a,t,r)}function am(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Dd(n){return typeof n=="object"&&n!=null&&n.outlets}function sx(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;n===e?s=t:s=wD(n,e,t);let a=bD(yD(s));return new io(a,o,i)}function wD(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=wD(o,e,t)}),new Ye(n.segments,r)}var cm=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&am(r[0]))throw new X(4003,!1);let i=r.find(Dd);if(i&&i!==uD(r))throw new X(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function oF(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new cm(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new cm(t,e,r)}var fl=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function sF(n,e,t){if(n.isAbsolute)return new fl(e,!0,0);if(!t)return new fl(e,!1,NaN);if(t.parent===null)return new fl(t,!0,0);let r=am(n.commands[0])?0:1,i=t.segments.length-1+r;return aF(t,i,n.numberOfDoubleDots)}function aF(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new X(4005,!1);i=r.segments.length}return new fl(r,!1,i-o)}function cF(n){return Dd(n[0])?n[0].outlets:{[pe]:n}}function _D(n,e,t){if(n??=new Ye([],{}),n.segments.length===0&&n.hasChildren())return Ad(n,e,t);let r=lF(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ye(n.segments.slice(0,r.pathIndex),{});return o.children[pe]=new Ye(n.segments.slice(r.pathIndex),n.children),Ad(o,0,i)}else return r.match&&i.length===0?new Ye(n.segments,{}):r.match&&!n.hasChildren()?hx(n,e,t):r.match?Ad(n,0,i):hx(n,e,t)}function Ad(n,e,t){if(t.length===0)return new Ye(n.segments,{});{let r=cF(t),i={};if(Object.keys(r).some(o=>o!==pe)&&n.children[pe]&&n.numberOfChildren===1&&n.children[pe].segments.length===0){let o=Ad(n.children[pe],e,t);return new Ye(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=_D(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ye(n.segments,i)}}function lF(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Dd(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!rD(c,l,s))return o;r+=2}else{if(!rD(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function hx(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Dd(o)){let c=uF(o.outlets);return new Ye(r,c)}if(i===0&&am(t[0])){let c=n.segments[e];r.push(new xa(c.path,nD(t[0]))),i++;continue}let s=Dd(o)?o.outlets[pe]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&am(a)?(r.push(new xa(s,nD(a))),i+=2):(r.push(new xa(s,{})),i++)}return new Ye(r,{})}function uF(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=hx(new Ye([],{}),0,r))}),e}function nD(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function rD(n,e,t){return n==t.path&&Ii(e,t.parameters)}var sm="imperative",tn=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(tn||{}),wr=class{id;url;constructor(e,t){this.id=e,this.url=t}},bl=class extends wr{type=tn.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},qr=class extends wr{urlAfterRedirects;type=tn.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},tr=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(tr||{}),lm=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(lm||{}),ro=class extends wr{reason;code;type=tn.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ns=class extends wr{reason;code;type=tn.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Sd=class extends wr{error;target;type=tn.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},um=class extends wr{urlAfterRedirects;state;type=tn.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},px=class extends wr{urlAfterRedirects;state;type=tn.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mx=class extends wr{urlAfterRedirects;state;shouldActivate;type=tn.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},gx=class extends wr{urlAfterRedirects;state;type=tn.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bx=class extends wr{urlAfterRedirects;state;type=tn.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yx=class{route;type=tn.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},vx=class{route;type=tn.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},xx=class{snapshot;type=tn.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wx=class{snapshot;type=tn.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_x=class{snapshot;type=tn.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cx=class{snapshot;type=tn.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dm=class{routerEvent;position;anchor;type=tn.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Td=class{},yl=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function dF(n,e){return n.providers&&!n._injector&&(n._injector=Gp(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Wr(n){return n.outlet||pe}function fF(n,e){let t=n.filter(r=>Wr(r)===e);return t.push(...n.filter(r=>Wr(r)!==e)),t}function Ld(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Ex=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ld(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Bd(this.rootInjector)}},Bd=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Ex(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(de(En))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fm=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Ax(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Ax(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Ix(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ix(e,this._root).map(t=>t.value)}};function Ax(n,e){if(n===e.value)return e;for(let t of e.children){let r=Ax(n,t);if(r)return r}return null}function Ix(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Ix(n,t);if(r.length)return r.unshift(e),r}return[]}var er=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function dl(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var hm=class extends fm{snapshot;constructor(e,t){super(e),this.snapshot=t,Px(this,e)}toString(){return this.snapshot.toString()}};function CD(n){let e=hF(n),t=new Qt([new xa("",{})]),r=new Qt({}),i=new Qt({}),o=new Qt({}),s=new Qt(""),a=new rs(t,r,o,s,i,pe,n,e.root);return a.snapshot=e.root,new hm(new er(a,[]),e)}function hF(n){let e={},t={},r={},i="",o=new hl([],e,r,i,t,pe,n,null,{});return new mm("",new er(o,[]))}var rs=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Ae(l=>l[Pd]))??ie(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ae(e=>ml(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ae(e=>ml(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function pm(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:x(x({},e.params),n.params),data:x(x({},e.data),n.data),resolve:x(x(x(x({},n.data),e.data),i?.data),n._resolvedData)}:r={params:x({},n.params),data:x({},n.data),resolve:x(x({},n.data),n._resolvedData??{})},i&&AD(i)&&(r.resolve[Pd]=i.title),r}var hl=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Pd]}constructor(e,t,r,i,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ml(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ml(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},mm=class extends fm{url;constructor(e,t){super(t),this.url=e,Px(this,t)}toString(){return ED(this._root)}};function Px(n,e){e.value._routerState=n,e.children.forEach(t=>Px(n,t))}function ED(n){let e=n.children.length>0?` { ${n.children.map(ED).join(", ")} } `:"";return`${n.value}${e}`}function ax(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ii(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Ii(e.params,t.params)||n.paramsSubject.next(t.params),V7(e.url,t.url)||n.urlSubject.next(t.url),Ii(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Dx(n,e){let t=Ii(n.params,e.params)&&z7(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Dx(n.parent,e.parent))}function AD(n){return typeof n.title=="string"||n.title===null}var pF=new Q(""),Fx=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=pe;activateEvents=new Dt;deactivateEvents=new Dt;attachEvents=new Dt;detachEvents=new Dt;routerOutletData=Lp(void 0);parentContexts=I(Bd);location=I(Xo);changeDetector=I(Ai);inputBinder=I(xm,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new X(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new X(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new X(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new X(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Sx(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ot({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Jo]})}return n})(),Sx=class n{route;childContexts;parent;outletData;__ngOutletInjector(e){return new n(this.route,this.childContexts,e,this.outletData)}constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===rs?this.route:e===Bd?this.childContexts:e===pF?this.outletData:this.parent.get(e,t)}},xm=new Q(""),iD=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Xs([r.queryParams,r.params,r.data]).pipe(pr(([o,s,a],c)=>(a=x(x(x({},o),s),a),c===0?ie(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=TI(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();function mF(n,e,t){let r=Md(n,e._root,t?t._root:void 0);return new hm(r,e)}function Md(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=gF(n,e,t);return new er(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Md(n,a)),s}}let r=bF(e.value),i=e.children.map(o=>Md(n,o));return new er(r,i)}}function gF(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Md(n,r,i);return Md(n,r)})}function bF(n){return new rs(new Qt(n.url),new Qt(n.params),new Qt(n.queryParams),new Qt(n.fragment),new Qt(n.data),n.outlet,n.component,n)}var kd=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},ID="ngNavigationCancelingError";function gm(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=_a(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=DD(!1,tr.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function DD(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[ID]=!0,t.cancellationCode=e,t}function yF(n){return SD(n)&&_a(n.url)}function SD(n){return!!n&&n[ID]}var vF=(n,e,t,r)=>Ae(i=>(new Tx(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Tx=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),ax(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=dl(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=dl(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=dl(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=dl(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Cx(o.value.snapshot))}),e.children.length&&this.forwardEvent(new wx(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(ax(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),ax(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},bm=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},pl=class{component;route;constructor(e,t){this.component=e,this.route=t}};function xF(n,e,t){let r=n._root,i=e?e._root:null;return Ed(r,i,t,[r.value])}function wF(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function xl(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!tA(n)?n:e.get(n):r}function Ed(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=dl(e);return n.children.forEach(s=>{_F(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Id(a,t.getContext(s),i)),i}function _F(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=CF(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new bm(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ed(n,e,a?a.children:null,r,i):Ed(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new pl(a.outlet.component,s))}else s&&Id(e,a,i),i.canActivateChecks.push(new bm(r)),o.component?Ed(n,null,a?a.children:null,r,i):Ed(n,null,t,r,i);return i}function CF(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!wa(n.url,e.url);case"pathParamsOrQueryParamsChange":return!wa(n.url,e.url)||!Ii(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Dx(n,e)||!Ii(n.queryParams,e.queryParams);case"paramsChange":default:return!Dx(n,e)}}function Id(n,e,t){let r=dl(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Id(s,e.children.getContext(o),t):Id(s,null,t):Id(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new pl(e.outlet.component,i)):t.canDeactivateChecks.push(new pl(null,i)):t.canDeactivateChecks.push(new pl(null,i))}function Ud(n){return typeof n=="function"}function EF(n){return typeof n=="boolean"}function AF(n){return n&&Ud(n.canLoad)}function IF(n){return n&&Ud(n.canActivate)}function DF(n){return n&&Ud(n.canActivateChild)}function SF(n){return n&&Ud(n.canDeactivate)}function TF(n){return n&&Ud(n.canMatch)}function TD(n){return n instanceof Gi||n?.name==="EmptyError"}var nm=Symbol("INITIAL_VALUE");function vl(){return pr(n=>Xs(n.map(e=>e.pipe(jr(1),Wu(nm)))).pipe(Ae(e=>{for(let t of e)if(t!==!0){if(t===nm)return nm;if(t===!1||MF(t))return t}return!0}),Vn(e=>e!==nm),jr(1)))}function MF(n){return _a(n)||n instanceof kd}function kF(n,e){return Ht(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?ie(N(x({},t),{guardsResult:!0})):NF(s,r,i,n).pipe(Ht(a=>a&&EF(a)?OF(r,o,n,e):ie(a)),Ae(a=>N(x({},t),{guardsResult:a})))})}function NF(n,e,t,r){return yt(n).pipe(Ht(i=>BF(i.component,i.route,t,e,r)),Wi(i=>i!==!0,!0))}function OF(n,e,t,r){return yt(e).pipe(ea(i=>zo(PF(i.route.parent,r),RF(i.route,r),LF(n,i.path,t),FF(n,i.route,t))),Wi(i=>i!==!0,!0))}function RF(n,e){return n!==null&&e&&e(new _x(n)),ie(!0)}function PF(n,e){return n!==null&&e&&e(new xx(n)),ie(!0)}function FF(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ie(!0);let i=r.map(o=>jh(()=>{let s=Ld(e)??t,a=xl(o,s),c=IF(a)?a.canActivate(e,n):vr(s,()=>a(e,n));return is(c).pipe(Wi())}));return ie(i).pipe(vl())}function LF(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>wF(s)).filter(s=>s!==null).map(s=>jh(()=>{let a=s.guards.map(c=>{let l=Ld(s.node)??t,u=xl(c,l),d=DF(u)?u.canActivateChild(r,n):vr(l,()=>u(r,n));return is(d).pipe(Wi())});return ie(a).pipe(vl())}));return ie(o).pipe(vl())}function BF(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ie(!0);let s=o.map(a=>{let c=Ld(e)??i,l=xl(a,c),u=SF(l)?l.canDeactivate(n,e,t,r):vr(c,()=>l(n,e,t,r));return is(u).pipe(Wi())});return ie(s).pipe(vl())}function UF(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ie(!0);let o=i.map(s=>{let a=xl(s,n),c=AF(a)?a.canLoad(e,t):vr(n,()=>a(e,t));return is(c)});return ie(o).pipe(vl(),MD(r))}function MD(n){return Pb(on(e=>{if(typeof e!="boolean")throw gm(n,e)}),Ae(e=>e===!0))}function VF(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ie(!0);let o=i.map(s=>{let a=xl(s,n),c=TF(a)?a.canMatch(e,t):vr(n,()=>a(e,t));return is(c)});return ie(o).pipe(vl(),MD(r))}var Nd=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Od=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ul(n){return Fc(new Nd(n))}function jF(n){return Fc(new X(4e3,!1))}function $F(n){return Fc(DD(!1,tr.GuardRejected))}var Mx=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ie(r);if(i.numberOfChildren>1||!i.children[pe])return jF(`${e.redirectTo}`);i=i.children[pe]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,params:p,data:m,title:b}=i,w=vr(o,()=>a({params:p,data:m,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,title:b}));if(w instanceof io)throw new Od(w);t=w}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Od(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new io(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Ye(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new X(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},kx={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function HF(n,e,t,r,i){let o=kD(n,e,t);return o.matched?(r=dF(e,r),VF(r,e,t,i).pipe(Ae(s=>s===!0?o:x({},kx)))):ie(o)}function kD(n,e,t){if(e.path==="**")return zF(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?x({},kx):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||U7)(t,n,e);if(!i)return x({},kx);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?x(x({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function zF(n){return{matched:!0,parameters:n.length>0?uD(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function oD(n,e,t,r){return t.length>0&&qF(n,t,r)?{segmentGroup:new Ye(e,WF(r,new Ye(t,n.children))),slicedSegments:[]}:t.length===0&&KF(n,t,r)?{segmentGroup:new Ye(n.segments,GF(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ye(n.segments,n.children),slicedSegments:t}}function GF(n,e,t,r){let i={};for(let o of t)if(wm(n,e,o)&&!r[Wr(o)]){let s=new Ye([],{});i[Wr(o)]=s}return x(x({},r),i)}function WF(n,e){let t={};t[pe]=e;for(let r of n)if(r.path===""&&Wr(r)!==pe){let i=new Ye([],{});t[Wr(r)]=i}return t}function qF(n,e,t){return t.some(r=>wm(n,e,r)&&Wr(r)!==pe)}function KF(n,e,t){return t.some(r=>wm(n,e,r))}function wm(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function QF(n,e,t){return e.length===0&&!n.children[t]}var Nx=class{};function ZF(n,e,t,r,i,o,s="emptyOnly"){return new Ox(n,e,t,r,i,s,o).recognize()}var YF=31,Ox=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Mx(this.urlSerializer,this.urlTree)}noMatchError(e){return new X(4002,`'${e.segmentGroup}'`)}recognize(){let e=oD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ae(({children:t,rootSnapshot:r})=>{let i=new er(r,t),o=new mm("",i),s=iF(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new hl([],Object.freeze({}),Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),pe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,pe,t).pipe(Ae(r=>({children:r,rootSnapshot:t})),Go(r=>{if(r instanceof Od)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Nd?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(Ae(s=>s instanceof er?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return yt(o).pipe(ea(s=>{let a=r.children[s],c=fF(t,s);return this.processSegmentGroup(e,c,a,s,i)}),Gb((s,a)=>(s.push(...a),s)),Wo(null),zb(),Ht(s=>{if(s===null)return ul(r);let a=ND(s);return JF(a),ie(a)}))}processSegment(e,t,r,i,o,s,a){return yt(t).pipe(ea(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(Go(l=>{if(l instanceof Nd)return ie(null);throw l}))),Wi(c=>!!c),Go(c=>{if(TD(c))return QF(r,i,o)?ie(new Nx):ul(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return Wr(r)!==s&&(s===pe||!wm(i,o,r))?ul(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):ul(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=kD(t,i,o);if(!c)return ul(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>YF&&(this.allowRedirects=!1));let p=new hl(o,l,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,sD(i),Wr(i),i.component??i._loadedComponent??null,i,aD(i)),m=pm(p,a,this.paramsInheritanceStrategy);p.params=Object.freeze(m.params),p.data=Object.freeze(m.data);let b=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,p,e);return this.applyRedirects.lineralizeSegments(i,b).pipe(Ht(w=>this.processSegment(e,r,t,w.concat(f),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=HF(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(pr(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(pr(({routes:l})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:f,remainingSegments:p}=c,m=new hl(f,d,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,sD(r),Wr(r),r.component??r._loadedComponent??null,r,aD(r)),b=pm(m,s,this.paramsInheritanceStrategy);m.params=Object.freeze(b.params),m.data=Object.freeze(b.data);let{segmentGroup:w,slicedSegments:_}=oD(t,f,p,l);if(_.length===0&&w.hasChildren())return this.processChildren(u,l,w,m).pipe(Ae(T=>new er(m,T)));if(l.length===0&&_.length===0)return ie(new er(m,[]));let D=Wr(r)===o;return this.processSegment(u,l,w,_,D?pe:o,!0,m).pipe(Ae(T=>new er(m,T instanceof er?[T]:[])))}))):ul(t)))}getChildConfig(e,t,r){return t.children?ie({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ie({routes:t._loadedRoutes,injector:t._loadedInjector}):UF(e,t,r,this.urlSerializer).pipe(Ht(i=>i?this.configLoader.loadChildren(e,t).pipe(on(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):$F(t))):ie({routes:[],injector:e})}};function JF(n){n.sort((e,t)=>e.value.outlet===pe?-1:t.value.outlet===pe?1:e.value.outlet.localeCompare(t.value.outlet))}function XF(n){let e=n.value.routeConfig;return e&&e.path===""}function ND(n){let e=[],t=new Set;for(let r of n){if(!XF(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=ND(r.children);e.push(new er(r.value,i))}return e.filter(r=>!t.has(r))}function sD(n){return n.data||{}}function aD(n){return n.resolve||{}}function eL(n,e,t,r,i,o){return Ht(s=>ZF(n,e,t,r,s.extractedUrl,i,o).pipe(Ae(({state:a,tree:c})=>N(x({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function tL(n,e){return Ht(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ie(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of OD(c))s.add(l);let a=0;return yt(s).pipe(ea(c=>o.has(c)?nL(c,r,n,e):(c.data=pm(c,c.parent,n).resolve,ie(void 0))),on(()=>a++),Lc(1),Ht(c=>a===s.size?ie(t):Bn))})}function OD(n){let e=n.children.map(t=>OD(t)).flat();return[n,...e]}function nL(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!AD(i)&&(o[Pd]=i.title),rL(o,n,e,r).pipe(Ae(s=>(n._resolvedData=s,n.data=pm(n,n.parent,t).resolve,null)))}function rL(n,e,t,r){let i=ux(n);if(i.length===0)return ie({});let o={};return yt(i).pipe(Ht(s=>iL(n[s],e,t,r).pipe(Wi(),on(a=>{if(a instanceof kd)throw gm(new gl,a);o[s]=a}))),Lc(1),Ae(()=>o),Go(s=>TD(s)?Bn:Fc(s)))}function iL(n,e,t,r){let i=Ld(e)??r,o=xl(n,i),s=o.resolve?o.resolve(e,t):vr(i,()=>o(e,t));return is(s)}function cx(n){return pr(e=>{let t=n(e);return t?yt(t).pipe(Ae(()=>e)):ie(e)})}var RD=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===pe);return r}getResolvedTitleForRoute(t){return t.data[Pd]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>I(oL),providedIn:"root"})}return n})(),oL=(()=>{class n extends RD{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(de(XI))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vd=new Q("",{providedIn:"root",factory:()=>({})}),sL=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ze({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&P(0,"router-outlet")},dependencies:[Fx],encapsulation:2})}return n})();function Lx(n){let e=n.children&&n.children.map(Lx),t=e?N(x({},n),{children:e}):x({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==pe&&(t.component=sL),t}var Rd=new Q(""),Bx=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=I(Kp);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ie(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=is(t.loadComponent()).pipe(Ae(PD),on(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),zu(()=>{this.componentLoaders.delete(t)})),i=new Rc(r,()=>new ft).pipe(Oc());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ie({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=aL(r,this.compiler,t,this.onLoadEndListener).pipe(zu(()=>{this.childrenLoaders.delete(r)})),s=new Rc(o,()=>new ft).pipe(Oc());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function aL(n,e,t,r){return is(n.loadChildren()).pipe(Ae(PD),Ht(i=>i instanceof Lv||Array.isArray(i)?ie(i):yt(e.compileModuleAsync(i))),Ae(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Rd,[],{optional:!0,self:!0}).flat()),{routes:s.map(Lx),injector:o}}))}function cL(n){return n&&typeof n=="object"&&"default"in n}function PD(n){return cL(n)?n.default:n}var Ux=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>I(lL),providedIn:"root"})}return n})(),lL=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),FD=new Q(""),LD=new Q("");function uL(n,e,t){let r=n.get(LD),i=n.get(Zt);return n.get(Ze).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),dL(n))),{onViewTransitionCreated:c}=r;return c&&vr(n,()=>c({transition:a,from:e,to:t})),s})}function dL(n){return new Promise(e=>{il({read:()=>setTimeout(e)},{injector:n})})}var BD=new Q(""),Vx=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ft;transitionAbortSubject=new ft;configLoader=I(Bx);environmentInjector=I(En);destroyRef=I(el);urlSerializer=I(Fd);rootContexts=I(Bd);location=I(al);inputBindingEnabled=I(xm,{optional:!0})!==null;titleStrategy=I(RD);options=I(Vd,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=I(Ux);createViewTransition=I(FD,{optional:!0});navigationErrorHandler=I(BD,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ie(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new yx(i)),r=i=>this.events.next(new vx(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(N(x({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new Qt(null),this.transitions.pipe(Vn(r=>r!==null),pr(r=>{let i=!1,o=!1;return ie(r).pipe(pr(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",tr.SupersededByNewNavigation),Bn;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?N(x({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&c!=="reload"){let l="";return this.events.next(new ns(s.id,this.urlSerializer.serialize(s.rawUrl),l,lm.IgnoredSameUrlNavigation)),s.resolve(!1),Bn}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return ie(s).pipe(pr(l=>(this.events.next(new bl(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Bn:Promise.resolve(l))),eL(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),on(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=N(x({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let u=new um(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:u,source:d,restoredState:f,extras:p}=s,m=new bl(l,this.urlSerializer.serialize(u),d,f);this.events.next(m);let b=CD(this.rootComponentType).snapshot;return this.currentTransition=r=N(x({},s),{targetSnapshot:b,urlAfterRedirects:u,extras:N(x({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,ie(r)}else{let l="";return this.events.next(new ns(s.id,this.urlSerializer.serialize(s.extractedUrl),l,lm.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Bn}}),on(s=>{let a=new px(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Ae(s=>(this.currentTransition=r=N(x({},s),{guards:xF(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),kF(this.environmentInjector,s=>this.events.next(s)),on(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw gm(this.urlSerializer,s.guardsResult);let a=new mx(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Vn(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",tr.GuardRejected),!1)),cx(s=>{if(s.guards.canActivateChecks.length!==0)return ie(s).pipe(on(a=>{let c=new gx(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),pr(a=>{let c=!1;return ie(a).pipe(tL(this.paramsInheritanceStrategy,this.environmentInjector),on({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",tr.NoDataFromResolver)}}))}),on(a=>{let c=new bx(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),cx(s=>{let a=c=>{let l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(on(u=>{c.component=u}),Ae(()=>{})));for(let u of c.children)l.push(...a(u));return l};return Xs(a(s.targetSnapshot.root)).pipe(Wo(null),jr(1))}),cx(()=>this.afterPreactivation()),pr(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?yt(c).pipe(Ae(()=>r)):ie(r)}),Ae(s=>{let a=mF(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=N(x({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),on(()=>{this.events.next(new Td)}),vF(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),jr(1),on({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new qr(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),ta(this.transitionAbortSubject.pipe(on(s=>{throw s}))),zu(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",tr.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Go(s=>{if(this.destroyed)return r.resolve(!1),Bn;if(o=!0,SD(s))this.events.next(new ro(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),yF(s)?this.events.next(new yl(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Sd(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=vr(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof kd){let{message:l,cancellationCode:u}=gm(this.urlSerializer,c);this.events.next(new ro(r.id,this.urlSerializer.serialize(r.extractedUrl),l,u)),this.events.next(new yl(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Bn}))}))}cancelNavigationTransition(t,r,i){let o=new ro(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fL(n){return n!==sm}var hL=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>I(pL),providedIn:"root"})}return n})(),Rx=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},pL=(()=>{class n extends Rx{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ma(n)))(i||n)}})();static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),UD=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>I(mL),providedIn:"root"})}return n})(),mL=(()=>{class n extends UD{location=I(al);urlSerializer=I(Fd);options=I(Vd,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=I(Ux);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new io;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=CD(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof bl)this.stateMemento=this.createStateMemento();else if(t instanceof ns)this.rawUrlTree=r.initialUrl;else if(t instanceof um){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Td?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof ro&&(t.code===tr.GuardRejected||t.code===tr.NoDataFromResolver)?this.restoreHistory(r):t instanceof Sd?this.restoreHistory(r,!0):t instanceof qr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof io?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=x(x({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=x(x({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ma(n)))(i||n)}})();static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function VD(n,e){n.events.pipe(Vn(t=>t instanceof qr||t instanceof ro||t instanceof Sd||t instanceof ns),Ae(t=>t instanceof qr||t instanceof ns?0:(t instanceof ro?t.code===tr.Redirect||t.code===tr.SupersededByNewNavigation:!1)?2:1),Vn(t=>t!==2),jr(1)).subscribe(()=>{e()})}var gL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ft=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=I(Bv);stateManager=I(UD);options=I(Vd,{optional:!0})||{};pendingTasks=I(tl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=I(Vx);urlSerializer=I(Fd);location=I(al);urlHandlingStrategy=I(Ux);_events=new ft;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=I(hL);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=I(Rd,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!I(xm,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new It;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof ro&&r.code!==tr.Redirect&&r.code!==tr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof qr)this.navigated=!0;else if(r instanceof yl){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=x({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||fL(i.source)},s);this.scheduleNavigation(a,sm,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}vL(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),sm,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=x({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Lx),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=x(x({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=vD(f)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return xD(d,t,u,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=_a(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,sm,null,r)}navigate(t,r={skipLocationChange:!1}){return yL(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=x({},gL):r===!1?i=x({},bL):i=r,_a(t))return eD(this.currentUrlTree,t,i);let o=this.parseUrl(t);return eD(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,f)=>{a=d,c=f});let u=this.pendingTasks.add();return VD(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yL(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new X(4008,!1)}function vL(n){return!(n instanceof Td)&&!(n instanceof yl)}var ym=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ft;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof qr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(_a(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:A2(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:_a(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(ee(Ft),ee(rs),Pp("tabindex"),ee(Xn),ee(vt),ee(no))};static \u0275dir=ot({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&G("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Gr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Wn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Wn],replaceUrl:[2,"replaceUrl","replaceUrl",Wn],routerLink:"routerLink"},features:[Jo]})}return n})(),jD=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Dt;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof qr&&this.update()})}ngAfterContentInit(){ie(this.links.changes,ie(null)).pipe(Ho()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=yt(t).pipe(Ho()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=xL(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(ee(Ft),ee(vt),ee(Xn),ee(Ai),ee(ym,8))};static \u0275dir=ot({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&Uv(o,ym,5),r&2){let s;ya(s=va())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Jo]})}return n})();function xL(n){return!!n.paths}var vm=class{};var wL=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Vn(t=>t instanceof qr),ea(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Gp(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return yt(i).pipe(Ho())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=ie(null);let o=i.pipe(Ht(s=>s===null?ie(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return yt([o,s]).pipe(Ho())}else return o})}static \u0275fac=function(r){return new(r||n)(de(Ft),de(Kp),de(En),de(vm),de(Bx))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$D=new Q(""),_L=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof bl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof qr?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof ns&&t.code===lm.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof dm&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new dm(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){nI()};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();function HD(n,...e){return Tp([{provide:Rd,multi:!0,useValue:n},[],{provide:rs,useFactory:zD,deps:[Ft]},{provide:qp,multi:!0,useFactory:GD},e.map(t=>t.\u0275providers)])}function zD(n){return n.routerState.root}function jd(n,e){return{\u0275kind:n,\u0275providers:e}}function GD(){let n=I(zt);return e=>{let t=n.get(wi);if(e!==t.components[0])return;let r=n.get(Ft),i=n.get(WD);n.get(jx)===1&&r.initialNavigation(),n.get(qD,null,xe.Optional)?.setUpPreloading(),n.get($D,null,xe.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var WD=new Q("",{factory:()=>new ft}),jx=new Q("",{providedIn:"root",factory:()=>1});function CL(){return jd(2,[{provide:jx,useValue:0},{provide:Wp,multi:!0,deps:[zt],useFactory:e=>{let t=e.get(LI,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(Ft),o=e.get(WD);VD(i,()=>{r(!0)}),e.get(Vx).afterPreactivation=()=>(r(!0),o.closed?ie(void 0):o),i.initialNavigation()}))}}])}function EL(){return jd(3,[{provide:Wp,multi:!0,useFactory:()=>{let e=I(Ft);return()=>{e.setUpLocationChangeListener()}}},{provide:jx,useValue:2}])}var qD=new Q("");function AL(n){return jd(0,[{provide:qD,useExisting:wL},{provide:vm,useExisting:n}])}function IL(){return jd(8,[iD,{provide:xm,useExisting:iD}])}function DL(n){let e=[{provide:FD,useValue:uL},{provide:LD,useValue:x({skipNextTransition:!!n?.skipInitialTransition},n)}];return jd(9,e)}var SL=[al,{provide:Fd,useClass:gl},Ft,Bd,{provide:rs,useFactory:zD,deps:[Ft]},Bx,[]],KD=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[SL,[],{provide:Rd,multi:!0,useValue:t},[],r?.errorHandler?{provide:BD,useValue:r.errorHandler}:[],{provide:Vd,useValue:r||{}},r?.useHash?ML():kL(),TL(),r?.preloadingStrategy?AL(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?NL(r):[],r?.bindToComponentInputs?IL().\u0275providers:[],r?.enableViewTransitions?DL().\u0275providers:[],OL()]}}static forChild(t){return{ngModule:n,providers:[{provide:Rd,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pt({type:n});static \u0275inj=Ot({})}return n})();function TL(){return{provide:$D,useFactory:()=>{let n=I($I),e=I(Ze),t=I(Vd),r=I(Vx),i=I(Fd);return t.scrollOffset&&n.setOffset(t.scrollOffset),new _L(i,r,n,e,t)}}}function ML(){return{provide:no,useClass:UI}}function kL(){return{provide:no,useClass:Qv}}function NL(n){return[n.initialNavigation==="disabled"?EL().\u0275providers:[],n.initialNavigation==="enabledBlocking"?CL().\u0275providers:[]]}var cD=new Q("");function OL(){return[{provide:cD,useFactory:GD},{provide:qp,multi:!0,useExisting:cD}]}var rS=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(ee(Xn),ee(vt))};static \u0275dir=ot({type:n})}return n})(),Hx=(()=>{class n extends rS{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ma(n)))(i||n)}})();static \u0275dir=ot({type:n,features:[Ei]})}return n})(),Mm=new Q("");var RL={provide:Mm,useExisting:Zi(()=>Di),multi:!0};function PL(){let n=to()?to().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var FL=new Q(""),Di=(()=>{class n extends rS{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!PL())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(ee(Xn),ee(vt),ee(FL,8))};static \u0275dir=ot({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&G("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[es([RL]),Ei]})}return n})();var iS=new Q(""),oS=new Q("");function sS(n){return n!=null}function aS(n){return ba(n)?yt(n):n}function cS(n){let e={};return n.forEach(t=>{e=t!=null?x(x({},e),t):e}),Object.keys(e).length===0?null:e}function lS(n,e){return e.map(t=>t(n))}function LL(n){return!n.validate}function uS(n){return n.map(e=>LL(e)?e:t=>e.validate(t))}function BL(n){if(!n)return null;let e=n.filter(sS);return e.length==0?null:function(t){return cS(lS(t,e))}}function zx(n){return n!=null?BL(uS(n)):null}function UL(n){if(!n)return null;let e=n.filter(sS);return e.length==0?null:function(t){let r=lS(t,e).map(aS);return jb(r).pipe(Ae(cS))}}function Gx(n){return n!=null?UL(uS(n)):null}function QD(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function VL(n){return n._rawValidators}function jL(n){return n._rawAsyncValidators}function $x(n){return n?Array.isArray(n)?n:[n]:[]}function Em(n,e){return Array.isArray(n)?n.includes(e):n===e}function ZD(n,e){let t=$x(e);return $x(n).forEach(i=>{Em(t,i)||t.push(i)}),t}function YD(n,e){return $x(e).filter(t=>!Em(n,t))}var Am=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=zx(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Gx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Cl=class extends Am{name;get formDirective(){return null}get path(){return null}},qd=class extends Am{_parent=null;name=null;valueAccessor=null},Im=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},$L={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},kee=N(x({},$L),{"[class.ng-submitted]":"isSubmitted"}),os=(()=>{class n extends Im{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(ee(qd,2))};static \u0275dir=ot({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Gn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Ei]})}return n})(),dS=(()=>{class n extends Im{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(ee(Cl,10))};static \u0275dir=ot({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Gn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Ei]})}return n})();var $d="VALID",Cm="INVALID",wl="PENDING",Hd="DISABLED",El=class{},Dm=class extends El{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Gd=class extends El{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Wd=class extends El{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},_l=class extends El{status;source;constructor(e,t){super(),this.status=e,this.source=t}};function fS(n){return(km(n)?n.validators:n)||null}function HL(n){return Array.isArray(n)?zx(n):n||null}function hS(n,e){return(km(e)?e.asyncValidators:n)||null}function zL(n){return Array.isArray(n)?Gx(n):n||null}function km(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function GL(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new X(1e3,"");if(!r[t])throw new X(1001,"")}function WL(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new X(1002,"")})}var Sm=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Xi(this.statusReactive)}set status(e){Xi(()=>this.statusReactive.set(e))}_status=Sn(()=>this.statusReactive());statusReactive=Gt(void 0);get valid(){return this.status===$d}get invalid(){return this.status===Cm}get pending(){return this.status==wl}get disabled(){return this.status===Hd}get enabled(){return this.status!==Hd}errors;get pristine(){return Xi(this.pristineReactive)}set pristine(e){Xi(()=>this.pristineReactive.set(e))}_pristine=Sn(()=>this.pristineReactive());pristineReactive=Gt(!0);get dirty(){return!this.pristine}get touched(){return Xi(this.touchedReactive)}set touched(e){Xi(()=>this.touchedReactive.set(e))}_touched=Sn(()=>this.touchedReactive());touchedReactive=Gt(!1);get untouched(){return!this.touched}_events=new ft;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ZD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ZD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(YD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(YD(e,this._rawAsyncValidators))}hasValidator(e){return Em(this._rawValidators,e)}hasAsyncValidator(e){return Em(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(N(x({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Wd(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Wd(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(N(x({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Gd(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Gd(!0,r))}markAsPending(e={}){this.status=wl;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new _l(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(N(x({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Hd,this.errors=null,this._forEachChild(i=>{i.disable(N(x({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Dm(this.value,r)),this._events.next(new _l(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(N(x({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=$d,this._forEachChild(r=>{r.enable(N(x({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(N(x({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$d||this.status===wl)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Dm(this.value,t)),this._events.next(new _l(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(N(x({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Hd:$d}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=wl,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=aS(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new _l(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Dt,this.statusChanges=new Dt}_calculateStatus(){return this._allControlsDisabled()?Hd:this.errors?Cm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wl)?wl:this._anyControlsHaveStatus(Cm)?Cm:$d}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Gd(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Wd(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){km(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=HL(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=zL(this._rawAsyncValidators)}},Tm=class extends Sm{constructor(e,t,r){super(fS(t),hS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){WL(this,!0,e),Object.keys(e).forEach(r=>{GL(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Wx=new Q("",{providedIn:"root",factory:()=>qx}),qx="always";function qL(n,e){return[...e.path,n]}function pS(n,e,t=qx){mS(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),QL(n,e),YL(n,e),ZL(n,e),KL(n,e)}function JD(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function KL(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function mS(n,e){let t=VL(n);e.validator!==null?n.setValidators(QD(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=jL(n);e.asyncValidator!==null?n.setAsyncValidators(QD(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();JD(e._rawValidators,i),JD(e._rawAsyncValidators,i)}function QL(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&gS(n,e)})}function ZL(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&gS(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function gS(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function YL(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function JL(n,e){n==null,mS(n,e)}function XL(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function e9(n){return Object.getPrototypeOf(n.constructor)===Hx}function t9(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function n9(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Di?t=o:e9(o)?r=o:i=o}),i||r||t||null}var r9={provide:Cl,useExisting:Zi(()=>Kx)},zd=Promise.resolve(),Kx=(()=>{class n extends Cl{callSetDisabledState;get submitted(){return Xi(this.submittedReactive)}_submitted=Sn(()=>this.submittedReactive());submittedReactive=Gt(!1);_directives=new Set;form;ngSubmit=new Dt;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Tm({},zx(t),Gx(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){zd.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),pS(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){zd.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){zd.then(()=>{let r=this._findContainer(t.path),i=new Tm({});JL(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){zd.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){zd.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),t9(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(ee(iS,10),ee(oS,10),ee(Wx,8))};static \u0275dir=ot({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&G("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[es([r9]),Ei]})}return n})();function XD(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function eS(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var i9=class extends Sm{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(fS(t),hS(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),km(t)&&(t.nonNullable||t.initialValueIsDefault)&&(eS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){XD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){XD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){eS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var o9={provide:qd,useExisting:Zi(()=>oo)},tS=Promise.resolve(),oo=(()=>{class n extends qd{_changeDetectorRef;callSetDisabledState;control=new i9;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Dt;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=n9(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),XL(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){pS(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){tS.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Wn(r);tS.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?qL(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(ee(Cl,9),ee(iS,10),ee(oS,10),ee(Mm,10),ee(Ai,8),ee(Wx,8))};static \u0275dir=ot({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[es([o9]),Ei,Jo]})}return n})();var bS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=ot({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var s9={provide:Mm,useExisting:Zi(()=>Nm),multi:!0};function yS(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function a9(n){return n.split(":")[0]}var Nm=(()=>{class n extends Hx{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=yS(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=a9(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ma(n)))(i||n)}})();static \u0275dir=ot({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&G("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[es([s9]),Ei]})}return n})(),vS=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(yS(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(ee(vt),ee(Xn),ee(Nm,9))};static \u0275dir=ot({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),c9={provide:Mm,useExisting:Zi(()=>xS),multi:!0};function nS(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function l9(n){return n.split(":")[0]}var xS=(()=>{class n extends Hx{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=l9(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ma(n)))(i||n)}})();static \u0275dir=ot({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&G("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[es([c9]),Ei]})}return n})(),wS=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(nS(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(nS(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(ee(vt),ee(Xn),ee(xS,9))};static \u0275dir=ot({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var u9=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pt({type:n});static \u0275inj=Ot({})}return n})();var _r=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Wx,useValue:t.callSetDisabledState??qx}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pt({type:n});static \u0275inj=Ot({imports:[u9]})}return n})();var Cr=class{constructor(e=0,t="Network Error"){this.status=e,this.text=t}};var _S=()=>{if(!(typeof localStorage>"u"))return{get:n=>Promise.resolve(localStorage.getItem(n)),set:(n,e)=>Promise.resolve(localStorage.setItem(n,e)),remove:n=>Promise.resolve(localStorage.removeItem(n))}};var Lt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:_S()};var Al=n=>n?typeof n=="string"?{publicKey:n}:n.toString()==="[object Object]"?n:{}:{};var CS=(n,e="https://api.emailjs.com")=>{if(!n)return;let t=Al(n);Lt.publicKey=t.publicKey,Lt.blockHeadless=t.blockHeadless,Lt.storageProvider=t.storageProvider,Lt.blockList=t.blockList,Lt.limitRate=t.limitRate,Lt.origin=t.origin||e};var Rm=(r,i,...o)=>h(void 0,[r,i,...o],function*(n,e,t={}){let s=yield fetch(Lt.origin+n,{method:"POST",headers:t,body:e}),a=yield s.text(),c=new Cr(s.status,a);if(s.ok)return c;throw c});var Pm=(n,e,t)=>{if(!n||typeof n!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"};var ES=n=>{if(n&&n.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"};var Fm=n=>n.webdriver||!n.languages||n.languages.length===0;var Lm=()=>new Cr(451,"Unavailable For Headless Browser");var AS=(n,e)=>{if(!Array.isArray(n))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"};var d9=n=>!n.list?.length||!n.watchVariable,f9=(n,e)=>n instanceof FormData?n.get(e):n[e],Bm=(n,e)=>{if(d9(n))return!1;AS(n.list,n.watchVariable);let t=f9(e,n.watchVariable);return typeof t!="string"?!1:n.list.includes(t)};var Um=()=>new Cr(403,"Forbidden");var IS=(n,e)=>{if(typeof n!="number"||n<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"};var h9=(n,e,t)=>h(void 0,null,function*(){let r=Number((yield t.get(n))||0);return e-Date.now()+r}),Vm=(n,e,t)=>h(void 0,null,function*(){if(!e.throttle||!t)return!1;IS(e.throttle,e.id);let r=e.id||n;return(yield h9(r,e.throttle,t))>0?!0:(yield t.set(r,Date.now().toString()),!1)});var jm=()=>new Cr(429,"Too Many Requests");var DS=(n,e,t,r)=>h(void 0,null,function*(){let i=Al(r),o=i.publicKey||Lt.publicKey,s=i.blockHeadless||Lt.blockHeadless,a=i.storageProvider||Lt.storageProvider,c=x(x({},Lt.blockList),i.blockList),l=x(x({},Lt.limitRate),i.limitRate);return s&&Fm(navigator)?Promise.reject(Lm()):(Pm(o,n,e),ES(t),t&&Bm(c,t)?Promise.reject(Um()):(yield Vm(location.pathname,l,a))?Promise.reject(jm()):Rm("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:o,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"}))});var SS=n=>{if(!n||n.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"};var p9=n=>typeof n=="string"?document.querySelector(n):n,TS=(n,e,t,r)=>h(void 0,null,function*(){let i=Al(r),o=i.publicKey||Lt.publicKey,s=i.blockHeadless||Lt.blockHeadless,a=Lt.storageProvider||i.storageProvider,c=x(x({},Lt.blockList),i.blockList),l=x(x({},Lt.limitRate),i.limitRate);if(s&&Fm(navigator))return Promise.reject(Lm());let u=p9(t);Pm(o,n,e),SS(u);let d=new FormData(u);return Bm(c,d)?Promise.reject(Um()):(yield Vm(location.pathname,l,a))?Promise.reject(jm()):(d.append("lib_version","4.4.1"),d.append("service_id",n),d.append("template_id",e),d.append("user_id",o),Rm("/api/v1.0/email/send-form",d))});var MS={init:CS,send:DS,sendForm:TS,EmailJSResponseStatus:Cr};var Bf={};xb(Bf,{AbiCoder:()=>Dr,AbstractProvider:()=>Tr,AbstractSigner:()=>Mr,AlchemyProvider:()=>Xa,AnkrProvider:()=>Ja,BaseContract:()=>Eo,BaseWallet:()=>Io,Block:()=>Ga,BlockscoutProvider:()=>Sf,BrowserProvider:()=>Df,ChainstackProvider:()=>ec,CloudflareProvider:()=>tc,ConstructorFragment:()=>Ti,Contract:()=>Qn,ContractEventPayload:()=>Wa,ContractFactory:()=>yf,ContractTransactionReceipt:()=>Yl,ContractTransactionResponse:()=>Co,ContractUnknownEventPayload:()=>Cs,EnsPlugin:()=>Is,EnsResolver:()=>Es,ErrorDescription:()=>Ql,ErrorFragment:()=>On,EtherSymbol:()=>Ow,EtherscanPlugin:()=>Ef,EtherscanProvider:()=>nc,EventFragment:()=>Si,EventLog:()=>_o,EventPayload:()=>lo,FallbackFragment:()=>Ha,FallbackProvider:()=>oc,FeeData:()=>ws,FeeDataNetworkPlugin:()=>wf,FetchCancelSignal:()=>Tl,FetchRequest:()=>Ke,FetchResponse:()=>Zr,FetchUrlFeeDataNetworkPlugin:()=>Qa,FixedNumber:()=>as,Fragment:()=>ki,FunctionFragment:()=>Mi,GasCostPlugin:()=>As,HDNodeVoidWallet:()=>dc,HDNodeWallet:()=>To,Indexed:()=>za,InfuraProvider:()=>ks,InfuraWebSocketProvider:()=>iu,Interface:()=>xo,IpcSocketProvider:()=>N1,JsonRpcApiProvider:()=>Ts,JsonRpcProvider:()=>mt,JsonRpcSigner:()=>Ss,LangEn:()=>Zn,Log:()=>sr,LogDescription:()=>ql,MaxInt256:()=>Nw,MaxUint256:()=>Mw,MessagePrefix:()=>sf,MinInt256:()=>kw,Mnemonic:()=>Oi,MulticoinProviderPlugin:()=>Jl,N:()=>Sw,NamedFragment:()=>vo,Network:()=>De,NetworkPlugin:()=>di,NonceManager:()=>If,ParamType:()=>Tt,PocketProvider:()=>Tf,QuickNodeProvider:()=>ic,Result:()=>Jr,Signature:()=>Vt,SigningKey:()=>ln,SocketBlockSubscriber:()=>tu,SocketEventSubscriber:()=>ru,SocketPendingSubscriber:()=>nu,SocketProvider:()=>rc,SocketSubscriber:()=>Ms,StructFragment:()=>vs,Transaction:()=>or,TransactionDescription:()=>Kl,TransactionReceipt:()=>wo,TransactionResponse:()=>Ni,Typed:()=>nt,TypedDataEncoder:()=>Ir,UndecodedEventLog:()=>_s,UnmanagedSubscriber:()=>fi,Utf8ErrorFuncs:()=>Gm,VoidSigner:()=>Ya,Wallet:()=>Ff,WebSocketProvider:()=>Ao,WeiPerEther:()=>Tw,Wordlist:()=>sc,WordlistOwl:()=>Do,WordlistOwlA:()=>Lf,ZeroAddress:()=>oi,ZeroHash:()=>Ll,accessListify:()=>un,assert:()=>E,assertArgument:()=>g,assertArgumentCount:()=>Ca,assertNormalize:()=>Ea,assertPrivate:()=>an,authorizationify:()=>Ba,checkResultErrors:()=>Xm,computeAddress:()=>ai,computeHmac:()=>ti,concat:()=>te,copyRequest:()=>Sr,dataLength:()=>qn,dataSlice:()=>Ue,decodeBase58:()=>Qd,decodeBase64:()=>Zd,decodeBytes32String:()=>u1,decodeRlp:()=>uo,decryptCrowdsaleJson:()=>fu,decryptKeystoreJson:()=>Pf,decryptKeystoreJsonSync:()=>Rf,defaultPath:()=>uu,defineProperties:()=>k,dnsEncode:()=>pf,encodeBase58:()=>Ia,encodeBase64:()=>Yd,encodeBytes32String:()=>l1,encodeRlp:()=>Mn,encryptKeystoreJson:()=>uc,encryptKeystoreJsonSync:()=>lc,ensNormalize:()=>Fg,formatEther:()=>ew,formatUnits:()=>Qm,fromTwos:()=>ao,getAccountPath:()=>H1,getAddress:()=>J,getBigInt:()=>R,getBytes:()=>M,getBytesCopy:()=>ut,getCreate2Address:()=>Fw,getCreateAddress:()=>Fa,getDefaultProvider:()=>k1,getIcapAddress:()=>Pw,getIndexedAccountPath:()=>z1,getNumber:()=>Z,getUint:()=>Aa,hashAuthorization:()=>jl,hashMessage:()=>Wl,hexlify:()=>S,id:()=>dn,isAddress:()=>Bw,isAddressable:()=>Ul,isBytesLike:()=>Kr,isCallException:()=>ss,isCrowdsaleJson:()=>du,isError:()=>Ve,isHexString:()=>me,isKeystoreJson:()=>lu,isValidName:()=>t1,keccak256:()=>he,lock:()=>yM,makeError:()=>Ie,mask:()=>nr,namehash:()=>ys,parseEther:()=>tw,parseUnits:()=>Zm,pbkdf2:()=>kn,randomBytes:()=>xn,recoverAddress:()=>ci,resolveAddress:()=>dt,resolveProperties:()=>st,ripemd160:()=>ni,scrypt:()=>ri,scryptSync:()=>ii,sha256:()=>Ut,sha512:()=>ka,showThrottleMessage:()=>hn,solidityPacked:()=>mf,solidityPackedKeccak256:()=>r1,solidityPackedSha256:()=>i1,stripZerosLeft:()=>Qx,toBeArray:()=>We,toBeHex:()=>nn,toBigInt:()=>Er,toNumber:()=>Kd,toQuantity:()=>Yt,toTwos:()=>co,toUtf8Bytes:()=>qe,toUtf8CodePoints:()=>Yx,toUtf8String:()=>Tn,uuidV4:()=>Xd,verifyAuthorization:()=>Hw,verifyMessage:()=>n1,verifyTypedData:()=>a1,version:()=>Il,wordlists:()=>G1,zeroPadBytes:()=>so,zeroPadValue:()=>Bt});var Il="6.14.1";function m9(n,e,t){let r=e.split("|").map(o=>o.trim());for(let o=0;o<r.length;o++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof n===e)return}let i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${t}`,i.value=n,i}function st(n){return h(this,null,function*(){let e=Object.keys(n);return(yield Promise.all(e.map(r=>Promise.resolve(n[r])))).reduce((r,i,o)=>(r[e[o]]=i,r),{})})}function k(n,e,t){for(let r in e){let i=e[r],o=t?t[r]:null;o&&m9(i,o,r),Object.defineProperty(n,r,{enumerable:!0,value:i,writable:!1})}}function Dl(n){if(n==null)return"null";if(Array.isArray(n))return"[ "+n.map(Dl).join(", ")+" ]";if(n instanceof Uint8Array){let e="0123456789abcdef",t="0x";for(let r=0;r<n.length;r++)t+=e[n[r]>>4],t+=e[n[r]&15];return t}if(typeof n=="object"&&typeof n.toJSON=="function")return Dl(n.toJSON());switch(typeof n){case"boolean":case"symbol":return n.toString();case"bigint":return BigInt(n).toString();case"number":return n.toString();case"string":return JSON.stringify(n);case"object":{let e=Object.keys(n);return e.sort(),"{ "+e.map(t=>`${Dl(t)}: ${Dl(n[t])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Ve(n,e){return n&&n.code===e}function ss(n){return Ve(n,"CALL_EXCEPTION")}function Ie(n,e,t){let r=n;{let o=[];if(t){if("message"in t||"code"in t||"name"in t)throw new Error(`value will overwrite populated values: ${Dl(t)}`);for(let s in t){if(s==="shortMessage")continue;let a=t[s];o.push(s+"="+Dl(a))}}o.push(`code=${e}`),o.push(`version=${Il}`),o.length&&(n+=" ("+o.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(n);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(n);break;default:i=new Error(n)}return k(i,{code:e}),t&&Object.assign(i,t),i.shortMessage==null&&k(i,{shortMessage:r}),i}function E(n,e,t,r){if(!n)throw Ie(e,t,r)}function g(n,e,t,r){E(n,e,"INVALID_ARGUMENT",{argument:t,value:r})}function Ca(n,e,t){t==null&&(t=""),t&&(t=": "+t),E(n>=e,"missing argument"+t,"MISSING_ARGUMENT",{count:n,expectedCount:e}),E(n<=e,"too many arguments"+t,"UNEXPECTED_ARGUMENT",{count:n,expectedCount:e})}var g9=["NFD","NFC","NFKD","NFKC"].reduce((n,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"\xE9".normalize("NFD")!=="e\u0301")throw new Error("broken");n.push(e)}catch{}return n},[]);function Ea(n){E(g9.indexOf(n)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:n}})}function an(n,e,t){if(t==null&&(t=""),n!==e){let r=t,i="new";t&&(r+=".",i+=" "+t),E(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function NS(n,e,t){if(n instanceof Uint8Array)return t?new Uint8Array(n):n;if(typeof n=="string"&&n.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){let r=new Uint8Array((n.length-2)/2),i=2;for(let o=0;o<r.length;o++)r[o]=parseInt(n.substring(i,i+2),16),i+=2;return r}g(!1,"invalid BytesLike value",e||"value",n)}function M(n,e){return NS(n,e,!1)}function ut(n,e){return NS(n,e,!0)}function me(n,e){return!(typeof n!="string"||!n.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&n.length!==2+2*e||e===!0&&n.length%2!==0)}function Kr(n){return me(n,!0)||n instanceof Uint8Array}var kS="0123456789abcdef";function S(n){let e=M(n),t="0x";for(let r=0;r<e.length;r++){let i=e[r];t+=kS[(i&240)>>4]+kS[i&15]}return t}function te(n){return"0x"+n.map(e=>S(e).substring(2)).join("")}function qn(n){return me(n,!0)?(n.length-2)/2:M(n).length}function Ue(n,e,t){let r=M(n);return t!=null&&t>r.length&&E(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:t}),S(r.slice(e??0,t??r.length))}function Qx(n){let e=S(n).substring(2);for(;e.startsWith("00");)e=e.substring(2);return"0x"+e}function OS(n,e,t){let r=M(n);E(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});let i=new Uint8Array(e);return i.fill(0),t?i.set(r,e-r.length):i.set(r,0),S(i)}function Bt(n,e){return OS(n,e,!0)}function so(n,e){return OS(n,e,!1)}var $m=BigInt(0),Qr=BigInt(1),Sl=9007199254740991;function ao(n,e){let t=Aa(n,"value"),r=BigInt(Z(e,"width"));if(E(t>>r===$m,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:n}),t>>r-Qr){let i=(Qr<<r)-Qr;return-((~t&i)+Qr)}return t}function co(n,e){let t=R(n,"value"),r=BigInt(Z(e,"width")),i=Qr<<r-Qr;if(t<$m){t=-t,E(t<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});let o=(Qr<<r)-Qr;return(~t&o)+Qr}else E(t<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});return t}function nr(n,e){let t=Aa(n,"value"),r=BigInt(Z(e,"bits"));return t&(Qr<<r)-Qr}function R(n,e){switch(typeof n){case"bigint":return n;case"number":return g(Number.isInteger(n),"underflow",e||"value",n),g(n>=-Sl&&n<=Sl,"overflow",e||"value",n),BigInt(n);case"string":try{if(n==="")throw new Error("empty string");return n[0]==="-"&&n[1]!=="-"?-BigInt(n.substring(1)):BigInt(n)}catch(t){g(!1,`invalid BigNumberish string: ${t.message}`,e||"value",n)}}g(!1,"invalid BigNumberish value",e||"value",n)}function Aa(n,e){let t=R(n,e);return E(t>=$m,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:n}),t}var RS="0123456789abcdef";function Er(n){if(n instanceof Uint8Array){let e="0x0";for(let t of n)e+=RS[t>>4],e+=RS[t&15];return BigInt(e)}return R(n)}function Z(n,e){switch(typeof n){case"bigint":return g(n>=-Sl&&n<=Sl,"overflow",e||"value",n),Number(n);case"number":return g(Number.isInteger(n),"underflow",e||"value",n),g(n>=-Sl&&n<=Sl,"overflow",e||"value",n),n;case"string":try{if(n==="")throw new Error("empty string");return Z(BigInt(n),e)}catch(t){g(!1,`invalid numeric string: ${t.message}`,e||"value",n)}}g(!1,"invalid numeric value",e||"value",n)}function Kd(n){return Z(Er(n))}function nn(n,e){let r=Aa(n,"value").toString(16);if(e==null)r.length%2&&(r="0"+r);else{let i=Z(e,"width");for(E(i*2>=r.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:n});r.length<i*2;)r="0"+r}return"0x"+r}function We(n){let e=Aa(n,"value");if(e===$m)return new Uint8Array([]);let t=e.toString(16);t.length%2&&(t="0"+t);let r=new Uint8Array(t.length/2);for(let i=0;i<r.length;i++){let o=i*2;r[i]=parseInt(t.substring(o,o+2),16)}return r}function Yt(n){let e=S(Kr(n)?n:We(n)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}var zm="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Hm=null;function b9(n){if(Hm==null){Hm={};for(let t=0;t<zm.length;t++)Hm[zm[t]]=BigInt(t)}let e=Hm[n];return g(e!=null,"invalid base58 value","letter",n),e}var y9=BigInt(0),Zx=BigInt(58);function Ia(n){let e=M(n),t=Er(e),r="";for(;t;)r=zm[Number(t%Zx)]+r,t/=Zx;for(let i=0;i<e.length&&!e[i];i++)r=zm[0]+r;return r}function Qd(n){let e=y9;for(let t=0;t<n.length;t++)e*=Zx,e+=b9(n[t]);return e}function Zd(n){n=atob(n);let e=new Uint8Array(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return M(e)}function Yd(n){let e=M(n),t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}var lo=class{filter;emitter;#e;constructor(e,t,r){this.#e=t,k(this,{emitter:e,filter:r})}removeListener(){return h(this,null,function*(){this.#e!=null&&(yield this.emitter.off(this.filter,this.#e))})}};function v9(n,e,t,r,i){g(!1,`invalid codepoint at offset ${e}; ${n}`,"bytes",t)}function PS(n,e,t,r,i){if(n==="BAD_PREFIX"||n==="UNEXPECTED_CONTINUE"){let o=0;for(let s=e+1;s<t.length&&t[s]>>6===2;s++)o++;return o}return n==="OVERRUN"?t.length-e-1:0}function x9(n,e,t,r,i){return n==="OVERLONG"?(g(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),PS(n,e,t,r,i))}var Gm=Object.freeze({error:v9,ignore:PS,replace:x9});function FS(n,e){e==null&&(e=Gm.error);let t=M(n,"bytes"),r=[],i=0;for(;i<t.length;){let o=t[i++];if(o>>7===0){r.push(o);continue}let s=null,a=null;if((o&224)===192)s=1,a=127;else if((o&240)===224)s=2,a=2047;else if((o&248)===240)s=3,a=65535;else{(o&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,t,r):i+=e("BAD_PREFIX",i-1,t,r);continue}if(i-1+s>=t.length){i+=e("OVERRUN",i-1,t,r);continue}let c=o&(1<<8-s-1)-1;for(let l=0;l<s;l++){let u=t[i];if((u&192)!=128){i+=e("MISSING_CONTINUE",i,t,r),c=null;break}c=c<<6|u&63,i++}if(c!==null){if(c>1114111){i+=e("OUT_OF_RANGE",i-1-s,t,r,c);continue}if(c>=55296&&c<=57343){i+=e("UTF16_SURROGATE",i-1-s,t,r,c);continue}if(c<=a){i+=e("OVERLONG",i-1-s,t,r,c);continue}r.push(c)}}return r}function qe(n,e){g(typeof n=="string","invalid string value","str",n),e!=null&&(Ea(e),n=n.normalize(e));let t=[];for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192),t.push(i&63|128);else if((i&64512)==55296){r++;let o=n.charCodeAt(r);g(r<n.length&&(o&64512)===56320,"invalid surrogate pair","str",n);let s=65536+((i&1023)<<10)+(o&1023);t.push(s>>18|240),t.push(s>>12&63|128),t.push(s>>6&63|128),t.push(s&63|128)}else t.push(i>>12|224),t.push(i>>6&63|128),t.push(i&63|128)}return new Uint8Array(t)}function w9(n){return n.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Tn(n,e){return w9(FS(n,e))}function Yx(n,e){return FS(qe(n,e))}function Wm(n){function e(t,r){return h(this,null,function*(){E(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");let i=t.url.split(":")[0].toLowerCase();E(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),E(i==="https"||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let o=null,s=new AbortController,a=setTimeout(()=>{o=Ie("request timeout","TIMEOUT"),s.abort()},t.timeout);r&&r.addListener(()=>{o=Ie("request cancelled","CANCELLED"),s.abort()});let c=Object.assign({},n,{method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:s.signal}),l;try{l=yield fetch(t.url,c)}catch(p){throw clearTimeout(a),o||p}clearTimeout(a);let u={};l.headers.forEach((p,m)=>{u[m.toLowerCase()]=p});let d=yield l.arrayBuffer(),f=d==null?null:new Uint8Array(d);return{statusCode:l.status,statusMessage:l.statusText,headers:u,body:f}})}return e}var une=Wm({});var _9=12,C9=250,LS=Wm(),E9=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),A9=new RegExp("^ipfs://(ipfs/)?(.*)$","i"),Jx=!1;function US(n,e){return h(this,null,function*(){try{let t=n.match(E9);if(!t)throw new Error("invalid data");return new Zr(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?Zd(t[3]):I9(t[3]))}catch{return new Zr(599,"BAD REQUEST (invalid data: URI)",{},null,new Ke(n))}})}function VS(n){function e(t,r){return h(this,null,function*(){try{let i=t.match(A9);if(!i)throw new Error("invalid link");return new Ke(`${n}${i[2]}`)}catch{return new Zr(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Ke(t))}})}return e}var qm={data:US,ipfs:VS("https://gateway.ipfs.io/ipfs/")},jS=new WeakMap,Tl=class{#e;#t;constructor(e){this.#e=[],this.#t=!1,jS.set(e,()=>{if(!this.#t){this.#t=!0;for(let t of this.#e)setTimeout(()=>{t()},0);this.#e=[]}})}addListener(e){E(!this.#t,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#e.push(e)}get cancelled(){return this.#t}checkSignal(){E(!this.cancelled,"cancelled","CANCELLED",{})}};function Km(n){if(n==null)throw new Error("missing signal; should not happen");return n.checkSignal(),n}var Ke=class n{#e;#t;#n;#r;#i;#s;#o;#a;#d;#l;#p;#m;#c;#u;#f;get url(){return this.#s}set url(e){this.#s=String(e)}get body(){return this.#o==null?null:new Uint8Array(this.#o)}set body(e){if(e==null)this.#o=void 0,this.#a=void 0;else if(typeof e=="string")this.#o=qe(e),this.#a="text/plain";else if(e instanceof Uint8Array)this.#o=e,this.#a="application/octet-stream";else if(typeof e=="object")this.#o=qe(JSON.stringify(e)),this.#a="application/json";else throw new Error("invalid body")}hasBody(){return this.#o!=null}get method(){return this.#r?this.#r:this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),this.#r=String(e).toUpperCase()}get headers(){let e=Object.assign({},this.#n);return this.#d&&(e.authorization=`Basic ${Yd(qe(this.#d))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&this.#a&&(e["content-type"]=this.#a),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){this.#n[String(e).toLowerCase()]=String(t)}clearHeaders(){this.#n={}}[Symbol.iterator](){let e=this.headers,t=Object.keys(e),r=0;return{next:()=>{if(r<t.length){let i=t[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#d||null}setCredentials(e,t){g(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#d=`${e}:${t}`}get allowGzip(){return this.#t}set allowGzip(e){this.#t=!!e}get allowInsecureAuthentication(){return!!this.#e}set allowInsecureAuthentication(e){this.#e=!!e}get timeout(){return this.#i}set timeout(e){g(e>=0,"timeout must be non-zero","timeout",e),this.#i=e}get preflightFunc(){return this.#l||null}set preflightFunc(e){this.#l=e}get processFunc(){return this.#p||null}set processFunc(e){this.#p=e}get retryFunc(){return this.#m||null}set retryFunc(e){this.#m=e}get getUrlFunc(){return this.#f||LS}set getUrlFunc(e){this.#f=e}constructor(e){this.#s=String(e),this.#e=!1,this.#t=!0,this.#n={},this.#r="",this.#i=3e5,this.#u={slotInterval:C9,maxAttempts:_9},this.#f=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#o?S(this.#o):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(this.#u.slotInterval=e.slotInterval),e.maxAttempts!=null&&(this.#u.maxAttempts=e.maxAttempts)}#h(e,t,r,i,o){return h(this,null,function*(){if(e>=this.#u.maxAttempts)return o.makeServerError("exceeded maximum retry limit");E(BS()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),r>0&&(yield D9(r));let s=this.clone(),a=(s.url.split(":")[0]||"").toLowerCase();if(a in qm){let u=yield qm[a](s.url,Km(i.#c));if(u instanceof Zr){let d=u;if(this.processFunc){Km(i.#c);try{d=yield this.processFunc(s,d)}catch(f){(f.throttle==null||typeof f.stall!="number")&&d.makeServerError("error in post-processing function",f).assertOk()}}return d}s=u}this.preflightFunc&&(s=yield this.preflightFunc(s));let c=yield this.getUrlFunc(s,Km(i.#c)),l=new Zr(c.statusCode,c.statusMessage,c.headers,c.body,i);if(l.statusCode===301||l.statusCode===302){try{let u=l.headers.location||"";return s.redirect(u).#h(e+1,t,0,i,l)}catch{}return l}else if(l.statusCode===429&&(this.retryFunc==null||(yield this.retryFunc(s,l,e)))){let u=l.headers["retry-after"],d=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof u=="string"&&u.match(/^[1-9][0-9]*$/)&&(d=parseInt(u)),s.clone().#h(e+1,t,d,i,l)}if(this.processFunc){Km(i.#c);try{l=yield this.processFunc(s,l)}catch(u){(u.throttle==null||typeof u.stall!="number")&&l.makeServerError("error in post-processing function",u).assertOk();let d=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return u.stall>=0&&(d=u.stall),s.clone().#h(e+1,t,d,i,l)}}return l})}send(){return E(this.#c==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#c=new Tl(this),this.#h(0,BS()+this.timeout,0,this,new Zr(0,"",{},null,this))}cancel(){E(this.#c!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});let e=jS.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){let t=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();E(this.method==="GET"&&(t!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});let i=new n(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,i.#n=Object.assign({},this.#n),this.#o&&(i.#o=new Uint8Array(this.#o)),i.#a=this.#a,i}clone(){let e=new n(this.url);return e.#r=this.#r,this.#o&&(e.#o=this.#o),e.#a=this.#a,e.#n=Object.assign({},this.#n),e.#d=this.#d,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#l=this.#l,e.#p=this.#p,e.#m=this.#m,e.#u=Object.assign({},this.#u),e.#f=this.#f,e}static lockConfig(){Jx=!0}static getGateway(e){return qm[e.toLowerCase()]||null}static registerGateway(e,t){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(Jx)throw new Error("gateways locked");qm[e]=t}static registerGetUrl(e){if(Jx)throw new Error("gateways locked");LS=e}static createGetUrlFunc(e){return Wm(e)}static createDataGateway(){return US}static createIpfsGatewayFunc(e){return VS(e)}},Zr=class n{#e;#t;#n;#r;#i;#s;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#r?S(this.#r):"null"}>`}get statusCode(){return this.#e}get statusMessage(){return this.#t}get headers(){return Object.assign({},this.#n)}get body(){return this.#r==null?null:new Uint8Array(this.#r)}get bodyText(){try{return this.#r==null?"":Tn(this.#r)}catch{E(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{E(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){let e=this.headers,t=Object.keys(e),r=0;return{next:()=>{if(r<t.length){let i=t[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,t,r,i,o){this.#e=e,this.#t=t,this.#n=Object.keys(r).reduce((s,a)=>(s[a.toLowerCase()]=String(r[a]),s),{}),this.#r=i==null?null:new Uint8Array(i),this.#i=o||null,this.#s={message:""}}makeServerError(e,t){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);let i=new n(599,r,this.headers,this.body,this.#i||void 0);return i.#s={message:e,error:t},i}throwThrottleError(e,t){t==null?t=-1:g(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);let r=new Error(e||"throttling requests");throw k(r,{stall:t,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return this.#r!=null}get request(){return this.#i}ok(){return this.#s.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=this.#s;e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let i=null;try{this.#r&&(i=Tn(this.#r))}catch{}E(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:r,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};function BS(){return new Date().getTime()}function I9(n){return qe(n.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function D9(n){return new Promise(e=>setTimeout(e,n))}var S9=BigInt(-1),Yr=BigInt(0),kl=BigInt(1),T9=BigInt(5),Ml={},Nl="0000";for(;Nl.length<80;)Nl+=Nl;function Da(n){let e=Nl;for(;e.length<n;)e+=e;return BigInt("1"+e.substring(0,n))}function Jd(n,e,t){let r=BigInt(e.width);if(e.signed){let i=kl<<r-kl;E(t==null||n>=-i&&n<i,"overflow","NUMERIC_FAULT",{operation:t,fault:"overflow",value:n}),n>Yr?n=ao(nr(n,r),r):n=-ao(nr(-n,r),r)}else{let i=kl<<r;E(t==null||n>=0&&n<i,"overflow","NUMERIC_FAULT",{operation:t,fault:"overflow",value:n}),n=(n%i+i)%i&i-kl}return n}function Xx(n){typeof n=="number"&&(n=`fixed128x${n}`);let e=!0,t=128,r=18;if(typeof n=="string"){if(n!=="fixed")if(n==="ufixed")e=!1;else{let o=n.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);g(o,"invalid fixed format","format",n),e=o[1]!=="u",t=parseInt(o[2]),r=parseInt(o[3])}}else if(n){let o=n,s=(a,c,l)=>o[a]==null?l:(g(typeof o[a]===c,"invalid fixed format ("+a+" not "+c+")","format."+a,o[a]),o[a]);e=s("signed","boolean",e),t=s("width","number",t),r=s("decimals","number",r)}g(t%8===0,"invalid FixedNumber width (not byte aligned)","format.width",t),g(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);let i=(e?"":"u")+"fixed"+String(t)+"x"+String(r);return{signed:e,width:t,decimals:r,name:i}}function M9(n,e){let t="";n<Yr&&(t="-",n*=S9);let r=n.toString();if(e===0)return t+r;for(;r.length<=e;)r=Nl+r;let i=r.length-e;for(r=r.substring(0,i)+"."+r.substring(i);r[0]==="0"&&r[1]!==".";)r=r.substring(1);for(;r[r.length-1]==="0"&&r[r.length-2]!==".";)r=r.substring(0,r.length-1);return t+r}var as=class n{format;#e;#t;#n;_value;constructor(e,t,r){an(e,Ml,"FixedNumber"),this.#t=t,this.#e=r;let i=M9(t,r.decimals);k(this,{format:r.name,_value:i}),this.#n=Da(r.decimals)}get signed(){return this.#e.signed}get width(){return this.#e.width}get decimals(){return this.#e.decimals}get value(){return this.#t}#r(e){g(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)}#i(e,t){return e=Jd(e,this.#e,t),new n(Ml,e,this.#e)}#s(e,t){return this.#r(e),this.#i(this.#t+e.#t,t)}addUnsafe(e){return this.#s(e)}add(e){return this.#s(e,"add")}#o(e,t){return this.#r(e),this.#i(this.#t-e.#t,t)}subUnsafe(e){return this.#o(e)}sub(e){return this.#o(e,"sub")}#a(e,t){return this.#r(e),this.#i(this.#t*e.#t/this.#n,t)}mulUnsafe(e){return this.#a(e)}mul(e){return this.#a(e,"mul")}mulSignal(e){this.#r(e);let t=this.#t*e.#t;return E(t%this.#n===Yr,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#i(t/this.#n,"mulSignal")}#d(e,t){return E(e.#t!==Yr,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#r(e),this.#i(this.#t*this.#n/e.#t,t)}divUnsafe(e){return this.#d(e)}div(e){return this.#d(e,"div")}divSignal(e){E(e.#t!==Yr,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#r(e);let t=this.#t*this.#n;return E(t%e.#t===Yr,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#i(t/e.#t,"divSignal")}cmp(e){let t=this.value,r=e.value,i=this.decimals-e.decimals;return i>0?r*=Da(i):i<0&&(t*=Da(-i)),t<r?-1:t>r?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=this.#t;return this.#t<Yr&&(e-=this.#n-kl),e=this.#t/this.#n*this.#n,this.#i(e,"floor")}ceiling(){let e=this.#t;return this.#t>Yr&&(e+=this.#n-kl),e=this.#t/this.#n*this.#n,this.#i(e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;let t=this.decimals-e,r=T9*Da(t-1),i=this.value+r,o=Da(t);return i=i/o*o,Jd(i,this.#e,"round"),new n(Ml,i,this.#e)}isZero(){return this.#t===Yr}isNegative(){return this.#t<Yr}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return n.fromString(this.toString(),e)}static fromValue(e,t,r){let i=t==null?0:Z(t),o=Xx(r),s=R(e,"value"),a=i-o.decimals;if(a>0){let c=Da(a);E(s%c===Yr,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),s/=c}else a<0&&(s*=Da(-a));return Jd(s,o,"fromValue"),new n(Ml,s,o)}static fromString(e,t){let r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);g(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);let i=Xx(t),o=r[2]||"0",s=r[3]||"";for(;s.length<i.decimals;)s+=Nl;E(s.substring(i.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),s=s.substring(0,i.decimals);let a=BigInt(r[1]+o+s);return Jd(a,i,"fromString"),new n(Ml,a,i)}static fromBytes(e,t){let r=Er(M(e,"value")),i=Xx(t);return i.signed&&(r=ao(r,i.width)),Jd(r,i,"fromBytes"),new n(Ml,r,i)}};function k9(n){let e=n.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function $S(n,e,t){let r=0;for(let i=0;i<t;i++)r=r*256+n[e+i];return r}function HS(n,e,t,r){let i=[];for(;t<e+1+r;){let o=zS(n,t);i.push(o.result),t+=o.consumed,E(t<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:n,length:r,offset:e})}return{consumed:1+r,result:i}}function zS(n,e){E(n.length!==0,"data too short","BUFFER_OVERRUN",{buffer:n,length:0,offset:1});let t=r=>{E(r<=n.length,"data short segment too short","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r})};if(n[e]>=248){let r=n[e]-247;t(e+1+r);let i=$S(n,e+1,r);return t(e+1+r+i),HS(n,e,e+1+r,r+i)}else if(n[e]>=192){let r=n[e]-192;return t(e+1+r),HS(n,e,e+1,r)}else if(n[e]>=184){let r=n[e]-183;t(e+1+r);let i=$S(n,e+1,r);t(e+1+r+i);let o=S(n.slice(e+1+r,e+1+r+i));return{consumed:1+r+i,result:o}}else if(n[e]>=128){let r=n[e]-128;t(e+1+r);let i=S(n.slice(e+1,e+1+r));return{consumed:1+r,result:i}}return{consumed:1,result:k9(n[e])}}function uo(n){let e=M(n,"data"),t=zS(e,0);return g(t.consumed===e.length,"unexpected junk after rlp payload","data",n),t.result}function GS(n){let e=[];for(;n;)e.unshift(n&255),n>>=8;return e}function qS(n){if(Array.isArray(n)){let r=[];if(n.forEach(function(o){r=r.concat(qS(o))}),r.length<=55)return r.unshift(192+r.length),r;let i=GS(r.length);return i.unshift(247+i.length),i.concat(r)}let e=Array.prototype.slice.call(M(n,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;let t=GS(e.length);return t.unshift(183+t.length),t.concat(e)}var WS="0123456789abcdef";function Mn(n){let e="0x";for(let t of qS(n))e+=WS[t>>4],e+=WS[t&15];return e}var KS=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Qm(n,e){let t=18;if(typeof e=="string"){let r=KS.indexOf(e);g(r>=0,"invalid unit","unit",e),t=3*r}else e!=null&&(t=Z(e,"unit"));return as.fromValue(n,t,{decimals:t,width:512}).toString()}function Zm(n,e){g(typeof n=="string","value must be a string","value",n);let t=18;if(typeof e=="string"){let r=KS.indexOf(e);g(r>=0,"invalid unit","unit",e),t=3*r}else e!=null&&(t=Z(e,"unit"));return as.fromString(n,{decimals:t,width:512}).value}function ew(n){return Qm(n,18)}function tw(n){return Zm(n,18)}function Xd(n){let e=M(n,"randomBytes");e[6]=e[6]&15|64,e[8]=e[8]&63|128;let t=S(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}var cn=32,nw=new Uint8Array(cn),N9=["then"],Ym={},YS=new WeakMap;function Sa(n){return YS.get(n)}function QS(n,e){YS.set(n,e)}function ef(n,e){let t=new Error(`deferred error during ABI decoding triggered accessing ${n}`);throw t.error=e,t}function rw(n,e,t){return n.indexOf(null)>=0?e.map((r,i)=>r instanceof Jr?rw(Sa(r),r,t):r):n.reduce((r,i,o)=>{let s=e.getValue(i);return i in r||(t&&s instanceof Jr&&(s=rw(Sa(s),s,t)),r[i]=s),r},{})}var Jr=class n extends Array{#e;constructor(...e){let t=e[0],r=e[1],i=(e[2]||[]).slice(),o=!0;t!==Ym&&(r=e,i=[],o=!1),super(r.length),r.forEach((c,l)=>{this[l]=c});let s=i.reduce((c,l)=>(typeof l=="string"&&c.set(l,(c.get(l)||0)+1),c),new Map);if(QS(this,Object.freeze(r.map((c,l)=>{let u=i[l];return u!=null&&s.get(u)===1?u:null}))),this.#e=[],this.#e==null&&this.#e,!o)return;Object.freeze(this);let a=new Proxy(this,{get:(c,l,u)=>{if(typeof l=="string"){if(l.match(/^[0-9]+$/)){let f=Z(l,"%index");if(f<0||f>=this.length)throw new RangeError("out of result range");let p=c[f];return p instanceof Error&&ef(`index ${f}`,p),p}if(N9.indexOf(l)>=0)return Reflect.get(c,l,u);let d=c[l];if(d instanceof Function)return function(...f){return d.apply(this===u?c:this,f)};if(!(l in c))return c.getValue.apply(this===u?c:this,[l])}return Reflect.get(c,l,u)}});return QS(a,Sa(this)),a}toArray(e){let t=[];return this.forEach((r,i)=>{r instanceof Error&&ef(`index ${i}`,r),e&&r instanceof n&&(r=r.toArray(e)),t.push(r)}),t}toObject(e){let t=Sa(this);return t.reduce((r,i,o)=>(E(i!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),rw(t,this,e)),{})}slice(e,t){e==null&&(e=0),e<0&&(e+=this.length,e<0&&(e=0)),t==null&&(t=this.length),t<0&&(t+=this.length,t<0&&(t=0)),t>this.length&&(t=this.length);let r=Sa(this),i=[],o=[];for(let s=e;s<t;s++)i.push(this[s]),o.push(r[s]);return new n(Ym,i,o)}filter(e,t){let r=Sa(this),i=[],o=[];for(let s=0;s<this.length;s++){let a=this[s];a instanceof Error&&ef(`index ${s}`,a),e.call(t,a,s,this)&&(i.push(a),o.push(r[s]))}return new n(Ym,i,o)}map(e,t){let r=[];for(let i=0;i<this.length;i++){let o=this[i];o instanceof Error&&ef(`index ${i}`,o),r.push(e.call(t,o,i,this))}return r}getValue(e){let t=Sa(this).indexOf(e);if(t===-1)return;let r=this[t];return r instanceof Error&&ef(`property ${JSON.stringify(e)}`,r.error),r}static fromItems(e,t){return new n(Ym,e,t)}};function Xm(n){let e=[],t=function(r,i){if(Array.isArray(i))for(let o in i){let s=r.slice();s.push(o);try{t(s,i[o])}catch(a){e.push({path:s,error:a})}}};return t([],n),e}function ZS(n){let e=We(n);return E(e.length<=cn,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:cn,offset:e.length}),e.length!==cn&&(e=ut(te([nw.slice(e.length%cn),e]))),e}var Wt=class{name;type;localName;dynamic;constructor(e,t,r,i){k(this,{name:e,type:t,localName:r,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){g(!1,e,this.localName,t)}},Ta=class{#e;#t;constructor(){this.#e=[],this.#t=0}get data(){return te(this.#e)}get length(){return this.#t}#n(e){return this.#e.push(e),this.#t+=e.length,e.length}appendWriter(e){return this.#n(ut(e.data))}writeBytes(e){let t=ut(e),r=t.length%cn;return r&&(t=ut(te([t,nw.slice(r)]))),this.#n(t)}writeValue(e){return this.#n(ZS(e))}writeUpdatableValue(){let e=this.#e.length;return this.#e.push(nw),this.#t+=cn,t=>{this.#e[e]=ZS(t)}}},Jm=class n{allowLoose;#e;#t;#n;#r;#i;constructor(e,t,r){k(this,{allowLoose:!!t}),this.#e=ut(e),this.#n=0,this.#r=null,this.#i=r??1024,this.#t=0}get data(){return S(this.#e)}get dataLength(){return this.#e.length}get consumed(){return this.#t}get bytes(){return new Uint8Array(this.#e)}#s(e){if(this.#r)return this.#r.#s(e);this.#n+=e,E(this.#i<1||this.#n<=this.#i*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#i} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:ut(this.#e),offset:this.#t,length:e,info:{bytesRead:this.#n,dataLength:this.dataLength}})}#o(e,t,r){let i=Math.ceil(t/cn)*cn;return this.#t+i>this.#e.length&&(this.allowLoose&&r&&this.#t+t<=this.#e.length?i=t:E(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:ut(this.#e),length:this.#e.length,offset:this.#t+i})),this.#e.slice(this.#t,this.#t+i)}subReader(e){let t=new n(this.#e.slice(this.#t+e),this.allowLoose,this.#i);return t.#r=this,t}readBytes(e,t){let r=this.#o(0,e,!!t);return this.#s(e),this.#t+=r.length,r.slice(0,e)}readValue(){return Er(this.readBytes(cn))}readIndex(){return Kd(this.readBytes(cn))}};function vn(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`Wrong positive integer: ${n}`)}function tf(n,...e){if(!(n instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(n.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${n.length}`)}function eg(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");vn(n.outputLen),vn(n.blockLen)}function fo(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function tg(n,e){tf(n);let t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}var ng=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var JS=n=>n instanceof Uint8Array;var Ol=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),Rl=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Xr=(n,e)=>n<<32-e|n>>>e,O9=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!O9)throw new Error("Non little-endian hardware is not supported");var R9=()=>h(void 0,null,function*(){});function rg(n,e,t){return h(this,null,function*(){let r=Date.now();for(let i=0;i<n;i++){t(i);let o=Date.now()-r;o>=0&&o<e||(yield R9(),r+=o)}})}function P9(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function ei(n){if(typeof n=="string"&&(n=P9(n)),!JS(n))throw new Error(`expected Uint8Array, got ${typeof n}`);return n}function XS(...n){let e=new Uint8Array(n.reduce((r,i)=>r+i.length,0)),t=0;return n.forEach(r=>{if(!JS(r))throw new Error("Uint8Array expected");e.set(r,t),t+=r.length}),e}var cs=class{clone(){return this._cloneInto()}},F9={}.toString;function ig(n,e){if(e!==void 0&&F9.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(n,e)}function ls(n){let e=r=>n().update(ei(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function eT(n){let e=(r,i)=>n(i).update(ei(r)).digest(),t=n({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=r=>n(r),e}function tT(n=32){if(ng&&typeof ng.getRandomValues=="function")return ng.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}var og=class extends cs{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,eg(e);let r=ei(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return fo(this),this.iHash.update(e),this}digestInto(e){fo(this),tf(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Ma=(n,e,t)=>new og(n,e).update(t).digest();Ma.create=(n,e)=>new og(n,e);function L9(n,e,t,r){eg(n);let i=ig({dkLen:32,asyncTick:10},r),{c:o,dkLen:s,asyncTick:a}=i;if(vn(o),vn(s),vn(a),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let c=ei(e),l=ei(t),u=new Uint8Array(s),d=Ma.create(n,c),f=d._cloneInto().update(l);return{c:o,dkLen:s,asyncTick:a,DK:u,PRF:d,PRFSalt:f}}function B9(n,e,t,r,i){return n.destroy(),e.destroy(),r&&r.destroy(),i.fill(0),t}function nf(n,e,t,r){let{c:i,dkLen:o,DK:s,PRF:a,PRFSalt:c}=L9(n,e,t,r),l,u=new Uint8Array(4),d=Rl(u),f=new Uint8Array(a.outputLen);for(let p=1,m=0;m<o;p++,m+=a.outputLen){let b=s.subarray(m,m+a.outputLen);d.setInt32(0,p,!1),(l=c._cloneInto(l)).update(u).digestInto(f),b.set(f.subarray(0,b.length));for(let w=1;w<i;w++){a._cloneInto(l).update(f).digestInto(f);for(let _=0;_<b.length;_++)b[_]^=f[_]}}return B9(a,c,s,l,f)}function U9(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);let i=BigInt(32),o=BigInt(4294967295),s=Number(t>>i&o),a=Number(t&o),c=r?4:0,l=r?0:4;n.setUint32(e+c,s,r),n.setUint32(e+l,a,r)}var us=class extends cs{constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Rl(this.buffer)}update(e){fo(this);let{view:t,buffer:r,blockLen:i}=this;e=ei(e);let o=e.length;for(let s=0;s<o;){let a=Math.min(i-this.pos,o-s);if(a===i){let c=Rl(e);for(;i<=o-s;s+=i)this.process(c,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){fo(this),tg(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:i,isLE:o}=this,{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let d=s;d<i;d++)t[d]=0;U9(r,i-8,BigInt(this.length*8),o),this.process(r,0);let a=Rl(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],o)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return e.length=i,e.pos=a,e.finished=o,e.destroyed=s,i%t&&e.buffer.set(r),e}};var V9=(n,e,t)=>n&e^~n&t,j9=(n,e,t)=>n&e^n&t^e&t,$9=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ds=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),fs=new Uint32Array(64),iw=class extends us{constructor(){super(64,32,8,!1),this.A=ds[0]|0,this.B=ds[1]|0,this.C=ds[2]|0,this.D=ds[3]|0,this.E=ds[4]|0,this.F=ds[5]|0,this.G=ds[6]|0,this.H=ds[7]|0}get(){let{A:e,B:t,C:r,D:i,E:o,F:s,G:a,H:c}=this;return[e,t,r,i,o,s,a,c]}set(e,t,r,i,o,s,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)fs[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){let f=fs[d-15],p=fs[d-2],m=Xr(f,7)^Xr(f,18)^f>>>3,b=Xr(p,17)^Xr(p,19)^p>>>10;fs[d]=b+fs[d-7]+m+fs[d-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){let f=Xr(a,6)^Xr(a,11)^Xr(a,25),p=u+f+V9(a,c,l)+$9[d]+fs[d]|0,b=(Xr(r,2)^Xr(r,13)^Xr(r,22))+j9(r,i,o)|0;u=l,l=c,c=a,a=s+p|0,s=o,o=i,i=r,r=p+b|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,o,s,a,c,l,u)}roundClean(){fs.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var ho=ls(()=>new iw);var sg=BigInt(4294967295),ow=BigInt(32);function nT(n,e=!1){return e?{h:Number(n&sg),l:Number(n>>ow&sg)}:{h:Number(n>>ow&sg)|0,l:Number(n&sg)|0}}function sw(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let i=0;i<n.length;i++){let{h:o,l:s}=nT(n[i],e);[t[i],r[i]]=[o,s]}return[t,r]}var H9=(n,e)=>BigInt(n>>>0)<<ow|BigInt(e>>>0),z9=(n,e,t)=>n>>>t,G9=(n,e,t)=>n<<32-t|e>>>t,W9=(n,e,t)=>n>>>t|e<<32-t,q9=(n,e,t)=>n<<32-t|e>>>t,K9=(n,e,t)=>n<<64-t|e>>>t-32,Q9=(n,e,t)=>n>>>t-32|e<<64-t,Z9=(n,e)=>e,Y9=(n,e)=>n,aw=(n,e,t)=>n<<t|e>>>32-t,cw=(n,e,t)=>e<<t|n>>>32-t,lw=(n,e,t)=>e<<t-32|n>>>64-t,uw=(n,e,t)=>n<<t-32|e>>>64-t;function J9(n,e,t,r){let i=(e>>>0)+(r>>>0);return{h:n+t+(i/2**32|0)|0,l:i|0}}var X9=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),eB=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,tB=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),nB=(n,e,t,r,i)=>e+t+r+i+(n/2**32|0)|0,rB=(n,e,t,r,i)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),iB=(n,e,t,r,i,o)=>e+t+r+i+o+(n/2**32|0)|0;var oB={fromBig:nT,split:sw,toBig:H9,shrSH:z9,shrSL:G9,rotrSH:W9,rotrSL:q9,rotrBH:K9,rotrBL:Q9,rotr32H:Z9,rotr32L:Y9,rotlSH:aw,rotlSL:cw,rotlBH:lw,rotlBL:uw,add:J9,add3L:X9,add3H:eB,add4L:tB,add4H:nB,add5H:iB,add5L:rB},ge=oB;var[sB,aB]=ge.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),hs=new Uint32Array(80),ps=new Uint32Array(80),dw=class extends us{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:t,Bh:r,Bl:i,Ch:o,Cl:s,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:f,Gh:p,Gl:m,Hh:b,Hl:w}=this;return[e,t,r,i,o,s,a,c,l,u,d,f,p,m,b,w]}set(e,t,r,i,o,s,a,c,l,u,d,f,p,m,b,w){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=f|0,this.Gh=p|0,this.Gl=m|0,this.Hh=b|0,this.Hl=w|0}process(e,t){for(let T=0;T<16;T++,t+=4)hs[T]=e.getUint32(t),ps[T]=e.getUint32(t+=4);for(let T=16;T<80;T++){let W=hs[T-15]|0,F=ps[T-15]|0,B=ge.rotrSH(W,F,1)^ge.rotrSH(W,F,8)^ge.shrSH(W,F,7),q=ge.rotrSL(W,F,1)^ge.rotrSL(W,F,8)^ge.shrSL(W,F,7),U=hs[T-2]|0,Y=ps[T-2]|0,re=ge.rotrSH(U,Y,19)^ge.rotrBH(U,Y,61)^ge.shrSH(U,Y,6),oe=ge.rotrSL(U,Y,19)^ge.rotrBL(U,Y,61)^ge.shrSL(U,Y,6),Me=ge.add4L(q,oe,ps[T-7],ps[T-16]),He=ge.add4H(Me,B,re,hs[T-7],hs[T-16]);hs[T]=He|0,ps[T]=Me|0}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:f,Fh:p,Fl:m,Gh:b,Gl:w,Hh:_,Hl:D}=this;for(let T=0;T<80;T++){let W=ge.rotrSH(d,f,14)^ge.rotrSH(d,f,18)^ge.rotrBH(d,f,41),F=ge.rotrSL(d,f,14)^ge.rotrSL(d,f,18)^ge.rotrBL(d,f,41),B=d&p^~d&b,q=f&m^~f&w,U=ge.add5L(D,F,q,aB[T],ps[T]),Y=ge.add5H(U,_,W,B,sB[T],hs[T]),re=U|0,oe=ge.rotrSH(r,i,28)^ge.rotrBH(r,i,34)^ge.rotrBH(r,i,39),Me=ge.rotrSL(r,i,28)^ge.rotrBL(r,i,34)^ge.rotrBL(r,i,39),He=r&o^r&a^o&a,_t=i&s^i&c^s&c;_=b|0,D=w|0,b=p|0,w=m|0,p=d|0,m=f|0,{h:d,l:f}=ge.add(l|0,u|0,Y|0,re|0),l=a|0,u=c|0,a=o|0,c=s|0,o=r|0,s=i|0;let L=ge.add3L(re,Me,_t);r=ge.add3H(L,Y,oe,He),i=L|0}({h:r,l:i}=ge.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:s}=ge.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l:c}=ge.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=ge.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:f}=ge.add(this.Eh|0,this.El|0,d|0,f|0),{h:p,l:m}=ge.add(this.Fh|0,this.Fl|0,p|0,m|0),{h:b,l:w}=ge.add(this.Gh|0,this.Gl|0,b|0,w|0),{h:_,l:D}=ge.add(this.Hh|0,this.Hl|0,_|0,D|0),this.set(r,i,o,s,a,c,l,u,d,f,p,m,b,w,_,D)}roundClean(){hs.fill(0),ps.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var ag=ls(()=>new dw);function cB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}var rT=cB(),iT=rT.crypto||rT.msCrypto;function fw(n){switch(n){case"sha256":return ho.create();case"sha512":return ag.create()}g(!1,"invalid hashing algorithm name","algorithm",n)}function oT(n,e){let t={sha256:ho,sha512:ag}[n];return g(t!=null,"invalid hmac algorithm","algorithm",n),Ma.create(t,e)}function sT(n,e,t,r,i){let o={sha256:ho,sha512:ag}[i];return g(o!=null,"invalid pbkdf2 algorithm","algorithm",i),nf(o,n,e,{c:t,dkLen:r})}function aT(n){E(iT!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),g(Number.isInteger(n)&&n>0&&n<=1024,"invalid length","length",n);let e=new Uint8Array(n);return iT.getRandomValues(e),e}var cT=!1,lT=function(n,e,t){return oT(n,e).update(t).digest()},uT=lT;function ti(n,e,t){let r=M(e,"key"),i=M(t,"data");return S(uT(n,r,i))}ti._=lT;ti.lock=function(){cT=!0};ti.register=function(n){if(cT)throw new Error("computeHmac is locked");uT=n};Object.freeze(ti);var[hT,pT,mT]=[[],[],[]],lB=BigInt(0),rf=BigInt(1),uB=BigInt(2),dB=BigInt(7),fB=BigInt(256),hB=BigInt(113);for(let n=0,e=rf,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],hT.push(2*(5*r+t)),pT.push((n+1)*(n+2)/2%64);let i=lB;for(let o=0;o<7;o++)e=(e<<rf^(e>>dB)*hB)%fB,e&uB&&(i^=rf<<(rf<<BigInt(o))-rf);mT.push(i)}var[pB,mB]=sw(mT,!0),dT=(n,e,t)=>t>32?lw(n,e,t):aw(n,e,t),fT=(n,e,t)=>t>32?uw(n,e,t):cw(n,e,t);function gB(n,e=24){let t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let s=0;s<10;s++)t[s]=n[s]^n[s+10]^n[s+20]^n[s+30]^n[s+40];for(let s=0;s<10;s+=2){let a=(s+8)%10,c=(s+2)%10,l=t[c],u=t[c+1],d=dT(l,u,1)^t[a],f=fT(l,u,1)^t[a+1];for(let p=0;p<50;p+=10)n[s+p]^=d,n[s+p+1]^=f}let i=n[2],o=n[3];for(let s=0;s<24;s++){let a=pT[s],c=dT(i,o,a),l=fT(i,o,a),u=hT[s];i=n[u],o=n[u+1],n[u]=c,n[u+1]=l}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)t[a]=n[s+a];for(let a=0;a<10;a++)n[s+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=pB[r],n[1]^=mB[r]}t.fill(0)}var cg=class n extends cs{constructor(e,t,r,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,vn(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Ol(this.state)}keccak(){gB(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){fo(this);let{blockLen:t,state:r}=this;e=ei(e);let i=e.length;for(let o=0;o<i;){let s=Math.min(t-this.pos,i-o);for(let a=0;a<s;a++)r[this.pos++]^=e[o++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,(t&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){fo(this,!1),tf(e),this.finish();let t=this.state,{blockLen:r}=this;for(let i=0,o=e.length;i<o;){this.posOut>=r&&this.keccak();let s=Math.min(r-this.posOut,o-i);e.set(t.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return vn(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(tg(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new n(t,r,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}},ms=(n,e,t)=>ls(()=>new cg(e,n,t)),Lre=ms(6,144,224/8),Bre=ms(6,136,256/8),Ure=ms(6,104,384/8),Vre=ms(6,72,512/8),jre=ms(1,144,224/8),gT=ms(1,136,256/8),$re=ms(1,104,384/8),Hre=ms(1,72,512/8),bT=(n,e,t)=>eT((r={})=>new cg(e,n,r.dkLen===void 0?t:r.dkLen,!0)),zre=bT(31,168,128/8),Gre=bT(31,136,256/8);var yT=!1,vT=function(n){return gT(n)},xT=vT;function he(n){let e=M(n,"data");return S(xT(e))}he._=vT;he.lock=function(){yT=!0};he.register=function(n){if(yT)throw new TypeError("keccak256 is locked");xT=n};Object.freeze(he);var bB=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),_T=Uint8Array.from({length:16},(n,e)=>e),yB=_T.map(n=>(9*n+5)%16),pw=[_T],mw=[yB];for(let n=0;n<4;n++)for(let e of[pw,mw])e.push(e[n].map(t=>bB[t]));var CT=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(n=>new Uint8Array(n)),vB=pw.map((n,e)=>n.map(t=>CT[e][t])),xB=mw.map((n,e)=>n.map(t=>CT[e][t])),wB=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),_B=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),lg=(n,e)=>n<<e|n>>>32-e;function wT(n,e,t,r){return n===0?e^t^r:n===1?e&t|~e&r:n===2?(e|~t)^r:n===3?e&r|t&~r:e^(t|~r)}var ug=new Uint32Array(16),hw=class extends us{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:t,h2:r,h3:i,h4:o}=this;return[e,t,r,i,o]}set(e,t,r,i,o){this.h0=e|0,this.h1=t|0,this.h2=r|0,this.h3=i|0,this.h4=o|0}process(e,t){for(let p=0;p<16;p++,t+=4)ug[p]=e.getUint32(t,!0);let r=this.h0|0,i=r,o=this.h1|0,s=o,a=this.h2|0,c=a,l=this.h3|0,u=l,d=this.h4|0,f=d;for(let p=0;p<5;p++){let m=4-p,b=wB[p],w=_B[p],_=pw[p],D=mw[p],T=vB[p],W=xB[p];for(let F=0;F<16;F++){let B=lg(r+wT(p,o,a,l)+ug[_[F]]+b,T[F])+d|0;r=d,d=l,l=lg(a,10)|0,a=o,o=B}for(let F=0;F<16;F++){let B=lg(i+wT(m,s,c,u)+ug[D[F]]+w,W[F])+f|0;i=f,f=u,u=lg(c,10)|0,c=s,s=B}}this.set(this.h1+a+u|0,this.h2+l+f|0,this.h3+d+i|0,this.h4+r+s|0,this.h0+o+c|0)}roundClean(){ug.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}},ET=ls(()=>new hw);var AT=!1,IT=function(n){return ET(n)},DT=IT;function ni(n){let e=M(n,"data");return S(DT(e))}ni._=IT;ni.lock=function(){AT=!0};ni.register=function(n){if(AT)throw new TypeError("ripemd160 is locked");DT=n};Object.freeze(ni);var ST=!1,TT=function(n,e,t,r,i){return sT(n,e,t,r,i)},MT=TT;function kn(n,e,t,r,i){let o=M(n,"password"),s=M(e,"salt");return S(MT(o,s,t,r,i))}kn._=TT;kn.lock=function(){ST=!0};kn.register=function(n){if(ST)throw new Error("pbkdf2 is locked");MT=n};Object.freeze(kn);var kT=!1,NT=function(n){return new Uint8Array(aT(n))},OT=NT;function xn(n){return OT(n)}xn._=NT;xn.lock=function(){kT=!0};xn.register=function(n){if(kT)throw new Error("randomBytes is locked");OT=n};Object.freeze(xn);var je=(n,e)=>n<<e|n>>>32-e;function RT(n,e,t,r,i,o){let s=n[e++]^t[r++],a=n[e++]^t[r++],c=n[e++]^t[r++],l=n[e++]^t[r++],u=n[e++]^t[r++],d=n[e++]^t[r++],f=n[e++]^t[r++],p=n[e++]^t[r++],m=n[e++]^t[r++],b=n[e++]^t[r++],w=n[e++]^t[r++],_=n[e++]^t[r++],D=n[e++]^t[r++],T=n[e++]^t[r++],W=n[e++]^t[r++],F=n[e++]^t[r++],B=s,q=a,U=c,Y=l,re=u,oe=d,Me=f,He=p,_t=m,L=b,$=w,se=_,Le=D,ke=T,at=W,Mt=F;for(let bn=0;bn<8;bn+=2)re^=je(B+Le|0,7),_t^=je(re+B|0,9),Le^=je(_t+re|0,13),B^=je(Le+_t|0,18),L^=je(oe+q|0,7),ke^=je(L+oe|0,9),q^=je(ke+L|0,13),oe^=je(q+ke|0,18),at^=je($+Me|0,7),U^=je(at+$|0,9),Me^=je(U+at|0,13),$^=je(Me+U|0,18),Y^=je(Mt+se|0,7),He^=je(Y+Mt|0,9),se^=je(He+Y|0,13),Mt^=je(se+He|0,18),q^=je(B+Y|0,7),U^=je(q+B|0,9),Y^=je(U+q|0,13),B^=je(Y+U|0,18),Me^=je(oe+re|0,7),He^=je(Me+oe|0,9),re^=je(He+Me|0,13),oe^=je(re+He|0,18),se^=je($+L|0,7),_t^=je(se+$|0,9),L^=je(_t+se|0,13),$^=je(L+_t|0,18),Le^=je(Mt+at|0,7),ke^=je(Le+Mt|0,9),at^=je(ke+Le|0,13),Mt^=je(at+ke|0,18);i[o++]=s+B|0,i[o++]=a+q|0,i[o++]=c+U|0,i[o++]=l+Y|0,i[o++]=u+re|0,i[o++]=d+oe|0,i[o++]=f+Me|0,i[o++]=p+He|0,i[o++]=m+_t|0,i[o++]=b+L|0,i[o++]=w+$|0,i[o++]=_+se|0,i[o++]=D+Le|0,i[o++]=T+ke|0,i[o++]=W+at|0,i[o++]=F+Mt|0}function Pl(n,e,t,r,i){let o=r+0,s=r+16*i;for(let a=0;a<16;a++)t[s+a]=n[e+(2*i-1)*16+a];for(let a=0;a<i;a++,o+=16,e+=16)RT(t,s,n,e,t,o),a>0&&(s+=16),RT(t,o,n,e+=16,t,s)}function PT(n,e,t){let r=ig({dkLen:32,asyncTick:10,maxmem:1073742848},t),{N:i,r:o,p:s,dkLen:a,asyncTick:c,maxmem:l,onProgress:u}=r;if(vn(i),vn(o),vn(s),vn(a),vn(c),vn(l),u!==void 0&&typeof u!="function")throw new Error("progressCb should be function");let d=128*o,f=d/4;if(i<=1||(i&i-1)!==0||i>=2**(d/8)||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(s<0||s>(2**32-1)*32/d)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(a<0||a>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");let p=d*(i+s);if(p>l)throw new Error(`Scrypt: parameters too large, ${p} (128 * r * (N + p)) > ${l} (maxmem)`);let m=nf(ho,n,e,{c:1,dkLen:d*s}),b=Ol(m),w=Ol(new Uint8Array(d*i)),_=Ol(new Uint8Array(d)),D=()=>{};if(u){let T=2*i*s,W=Math.max(Math.floor(T/1e4),1),F=0;D=()=>{F++,u&&(!(F%W)||F===T)&&u(F/T)}}return{N:i,r:o,p:s,dkLen:a,blockSize32:f,V:w,B32:b,B:m,tmp:_,blockMixCb:D,asyncTick:c}}function FT(n,e,t,r,i){let o=nf(ho,n,t,{c:1,dkLen:e});return t.fill(0),r.fill(0),i.fill(0),o}function LT(n,e,t){let{N:r,r:i,p:o,dkLen:s,blockSize32:a,V:c,B32:l,B:u,tmp:d,blockMixCb:f}=PT(n,e,t);for(let p=0;p<o;p++){let m=a*p;for(let b=0;b<a;b++)c[b]=l[m+b];for(let b=0,w=0;b<r-1;b++)Pl(c,w,c,w+=a,i),f();Pl(c,(r-1)*a,l,m,i),f();for(let b=0;b<r;b++){let w=l[m+a-16]%r;for(let _=0;_<a;_++)d[_]=l[m+_]^c[w*a+_];Pl(d,0,l,m,i),f()}}return FT(n,s,u,c,d)}function BT(n,e,t){return h(this,null,function*(){let{N:r,r:i,p:o,dkLen:s,blockSize32:a,V:c,B32:l,B:u,tmp:d,blockMixCb:f,asyncTick:p}=PT(n,e,t);for(let m=0;m<o;m++){let b=a*m;for(let _=0;_<a;_++)c[_]=l[b+_];let w=0;yield rg(r-1,p,()=>{Pl(c,w,c,w+=a,i),f()}),Pl(c,(r-1)*a,l,b,i),f(),yield rg(r,p,()=>{let _=l[b+a-16]%r;for(let D=0;D<a;D++)d[D]=l[b+D]^c[_*a+D];Pl(d,0,l,b,i),f()})}return FT(n,s,u,c,d)})}var UT=!1,VT=!1,jT=function(n,e,t,r,i,o,s){return h(this,null,function*(){return yield BT(n,e,{N:t,r,p:i,dkLen:o,onProgress:s})})},$T=function(n,e,t,r,i,o){return LT(n,e,{N:t,r,p:i,dkLen:o})},HT=jT,zT=$T;function ri(n,e,t,r,i,o,s){return h(this,null,function*(){let a=M(n,"passwd"),c=M(e,"salt");return S(yield HT(a,c,t,r,i,o,s))})}ri._=jT;ri.lock=function(){VT=!0};ri.register=function(n){if(VT)throw new Error("scrypt is locked");HT=n};Object.freeze(ri);function ii(n,e,t,r,i,o){let s=M(n,"passwd"),a=M(e,"salt");return S(zT(s,a,t,r,i,o))}ii._=$T;ii.lock=function(){UT=!0};ii.register=function(n){if(UT)throw new Error("scryptSync is locked");zT=n};Object.freeze(ii);var GT=function(n){return fw("sha256").update(n).digest()},WT=function(n){return fw("sha512").update(n).digest()},qT=GT,KT=WT,QT=!1,ZT=!1;function Ut(n){let e=M(n,"data");return S(qT(e))}Ut._=GT;Ut.lock=function(){QT=!0};Ut.register=function(n){if(QT)throw new Error("sha256 is locked");qT=n};Object.freeze(Ut);function ka(n){let e=M(n,"data");return S(KT(e))}ka._=WT;ka.lock=function(){ZT=!0};ka.register=function(n){if(ZT)throw new Error("sha512 is locked");KT=n};Object.freeze(Ut);var vw={};xb(vw,{bitGet:()=>TB,bitLen:()=>SB,bitMask:()=>of,bitSet:()=>MB,bytesToHex:()=>Na,bytesToNumberBE:()=>po,bytesToNumberLE:()=>hg,concatBytes:()=>Fl,createHmacDrbg:()=>yw,ensureBytes:()=>rr,equalBytes:()=>IB,hexToBytes:()=>Oa,hexToNumber:()=>bw,numberToBytesBE:()=>gs,numberToBytesLE:()=>pg,numberToHexUnpadded:()=>XT,numberToVarBytesBE:()=>AB,utf8ToBytes:()=>DB,validateObject:()=>bs});var JT=BigInt(0),dg=BigInt(1),CB=BigInt(2),fg=n=>n instanceof Uint8Array,EB=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function Na(n){if(!fg(n))throw new Error("Uint8Array expected");let e="";for(let t=0;t<n.length;t++)e+=EB[n[t]];return e}function XT(n){let e=n.toString(16);return e.length&1?`0${e}`:e}function bw(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}function Oa(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);let e=n.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let t=new Uint8Array(e/2);for(let r=0;r<t.length;r++){let i=r*2,o=n.slice(i,i+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");t[r]=s}return t}function po(n){return bw(Na(n))}function hg(n){if(!fg(n))throw new Error("Uint8Array expected");return bw(Na(Uint8Array.from(n).reverse()))}function gs(n,e){return Oa(n.toString(16).padStart(e*2,"0"))}function pg(n,e){return gs(n,e).reverse()}function AB(n){return Oa(XT(n))}function rr(n,e,t){let r;if(typeof e=="string")try{r=Oa(e)}catch(o){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${o}`)}else if(fg(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);let i=r.length;if(typeof t=="number"&&i!==t)throw new Error(`${n} expected ${t} bytes, got ${i}`);return r}function Fl(...n){let e=new Uint8Array(n.reduce((r,i)=>r+i.length,0)),t=0;return n.forEach(r=>{if(!fg(r))throw new Error("Uint8Array expected");e.set(r,t),t+=r.length}),e}function IB(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function DB(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function SB(n){let e;for(e=0;n>JT;n>>=dg,e+=1);return e}function TB(n,e){return n>>BigInt(e)&dg}var MB=(n,e,t)=>n|(t?dg:JT)<<BigInt(e),of=n=>(CB<<BigInt(n-1))-dg,gw=n=>new Uint8Array(n),YT=n=>Uint8Array.from(n);function yw(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=gw(n),i=gw(n),o=0,s=()=>{r.fill(1),i.fill(0),o=0},a=(...d)=>t(i,r,...d),c=(d=gw())=>{i=a(YT([0]),d),r=a(),d.length!==0&&(i=a(YT([1]),d),r=a())},l=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0,f=[];for(;d<e;){r=a();let p=r.slice();f.push(p),d+=r.length}return Fl(...f)};return(d,f)=>{s(),c(d);let p;for(;!(p=f(l()));)c();return s(),p}}var kB={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||n instanceof Uint8Array,isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function bs(n,e,t={}){let r=(i,o,s)=>{let a=kB[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);let c=n[i];if(!(s&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${o}`)};for(let[i,o]of Object.entries(e))r(i,o,!1);for(let[i,o]of Object.entries(t))r(i,o,!0);return n}var Jt=BigInt(0),St=BigInt(1),Ra=BigInt(2),NB=BigInt(3),xw=BigInt(4),eM=BigInt(5),tM=BigInt(8),OB=BigInt(9),RB=BigInt(16);function wn(n,e){let t=n%e;return t>=Jt?t:e+t}function PB(n,e,t){if(t<=Jt||e<Jt)throw new Error("Expected power/modulo > 0");if(t===St)return Jt;let r=St;for(;e>Jt;)e&St&&(r=r*n%t),n=n*n%t,e>>=St;return r}function ir(n,e,t){let r=n;for(;e-- >Jt;)r*=r,r%=t;return r}function mg(n,e){if(n===Jt||e<=Jt)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=wn(n,e),r=e,i=Jt,o=St,s=St,a=Jt;for(;t!==Jt;){let l=r/t,u=r%t,d=i-s*l,f=o-a*l;r=t,t=u,i=s,o=a,s=d,a=f}if(r!==St)throw new Error("invert: does not exist");return wn(i,e)}function FB(n){let e=(n-St)/Ra,t,r,i;for(t=n-St,r=0;t%Ra===Jt;t/=Ra,r++);for(i=Ra;i<n&&PB(i,e,n)!==n-St;i++);if(r===1){let s=(n+St)/xw;return function(c,l){let u=c.pow(l,s);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}let o=(t+St)/Ra;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=r,u=a.pow(a.mul(a.ONE,i),t),d=a.pow(c,o),f=a.pow(c,t);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let p=1;for(let b=a.sqr(f);p<l&&!a.eql(b,a.ONE);p++)b=a.sqr(b);let m=a.pow(u,St<<BigInt(l-p-1));u=a.sqr(m),d=a.mul(d,m),f=a.mul(f,u),l=p}return d}}function LB(n){if(n%xw===NB){let e=(n+St)/xw;return function(r,i){let o=r.pow(i,e);if(!r.eql(r.sqr(o),i))throw new Error("Cannot find square root");return o}}if(n%tM===eM){let e=(n-eM)/tM;return function(r,i){let o=r.mul(i,Ra),s=r.pow(o,e),a=r.mul(i,s),c=r.mul(r.mul(a,Ra),s),l=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(l),i))throw new Error("Cannot find square root");return l}}return n%RB,FB(n)}var BB=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ww(n){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=BB.reduce((r,i)=>(r[i]="function",r),e);return bs(n,t)}function UB(n,e,t){if(t<Jt)throw new Error("Expected power > 0");if(t===Jt)return n.ONE;if(t===St)return e;let r=n.ONE,i=e;for(;t>Jt;)t&St&&(r=n.mul(r,i)),i=n.sqr(i),t>>=St;return r}function VB(n,e){let t=new Array(e.length),r=e.reduce((o,s,a)=>n.is0(s)?o:(t[a]=o,n.mul(o,s)),n.ONE),i=n.inv(r);return e.reduceRight((o,s,a)=>n.is0(s)?o:(t[a]=n.mul(o,t[a]),n.mul(o,s)),i),t}function _w(n,e){let t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function nM(n,e,t=!1,r={}){if(n<=Jt)throw new Error(`Expected Field ORDER > 0, got ${n}`);let{nBitLength:i,nByteLength:o}=_w(n,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");let s=LB(n),a=Object.freeze({ORDER:n,BITS:i,BYTES:o,MASK:of(i),ZERO:Jt,ONE:St,create:c=>wn(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Jt<=c&&c<n},is0:c=>c===Jt,isOdd:c=>(c&St)===St,neg:c=>wn(-c,n),eql:(c,l)=>c===l,sqr:c=>wn(c*c,n),add:(c,l)=>wn(c+l,n),sub:(c,l)=>wn(c-l,n),mul:(c,l)=>wn(c*l,n),pow:(c,l)=>UB(a,c,l),div:(c,l)=>wn(c*mg(l,n),n),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>mg(c,n),sqrt:r.sqrt||(c=>s(a,c)),invertBatch:c=>VB(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>t?pg(c,o):gs(c,o),fromBytes:c=>{if(c.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${c.length}`);return t?hg(c):po(c)}});return Object.freeze(a)}function rM(n){if(typeof n!="bigint")throw new Error("field order must be bigint");let e=n.toString(2).length;return Math.ceil(e/8)}function Cw(n){let e=rM(n);return e+Math.ceil(e/2)}function iM(n,e,t=!1){let r=n.length,i=rM(e),o=Cw(e);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);let s=t?po(n):hg(n),a=wn(s,e-St)+St;return t?pg(a,i):gs(a,i)}var $B=BigInt(0),Ew=BigInt(1);function oM(n,e){let t=(i,o)=>{let s=o.negate();return i?s:o},r=i=>{let o=Math.ceil(e/i)+1,s=2**(i-1);return{windows:o,windowSize:s}};return{constTimeNegate:t,unsafeLadder(i,o){let s=n.ZERO,a=i;for(;o>$B;)o&Ew&&(s=s.add(a)),a=a.double(),o>>=Ew;return s},precomputeWindow(i,o){let{windows:s,windowSize:a}=r(o),c=[],l=i,u=l;for(let d=0;d<s;d++){u=l,c.push(u);for(let f=1;f<a;f++)u=u.add(l),c.push(u);l=u.double()}return c},wNAF(i,o,s){let{windows:a,windowSize:c}=r(i),l=n.ZERO,u=n.BASE,d=BigInt(2**i-1),f=2**i,p=BigInt(i);for(let m=0;m<a;m++){let b=m*c,w=Number(s&d);s>>=p,w>c&&(w-=f,s+=Ew);let _=b,D=b+Math.abs(w)-1,T=m%2!==0,W=w<0;w===0?u=u.add(t(T,o[_])):l=l.add(t(W,o[D]))}return{p:l,f:u}},wNAFCached(i,o,s,a){let c=i._WINDOW_SIZE||1,l=o.get(i);return l||(l=this.precomputeWindow(i,c),c!==1&&o.set(i,a(l))),this.wNAF(c,l,s)}}}function Aw(n){return ww(n.Fp),bs(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze(N(x(x({},_w(n.n,n.nBitLength)),n),{p:n.Fp.ORDER}))}function HB(n){let e=Aw(n);bs(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:t,Fp:r,a:i}=e;if(t){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze(x({},e))}var{bytesToNumberBE:zB,hexToBytes:GB}=vw,Pa={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){let{Err:e}=Pa;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");let t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:zB(r),l:n.subarray(t+2)}},toSig(n){let{Err:e}=Pa,t=typeof n=="string"?GB(n):n;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");let{d:i,l:o}=Pa._parseInt(t.subarray(2)),{d:s,l:a}=Pa._parseInt(o);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(n){let e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,t=l=>{let u=l.toString(16);return u.length&1?`0${u}`:u},r=e(t(n.s)),i=e(t(n.r)),o=r.length/2,s=i.length/2,a=t(o),c=t(s);return`30${t(s+o+4)}02${c}${i}02${a}${r}`}},mo=BigInt(0),Ar=BigInt(1),Sie=BigInt(2),sM=BigInt(3),Tie=BigInt(4);function WB(n){let e=HB(n),{Fp:t}=e,r=e.toBytes||((m,b,w)=>{let _=b.toAffine();return Fl(Uint8Array.from([4]),t.toBytes(_.x),t.toBytes(_.y))}),i=e.fromBytes||(m=>{let b=m.subarray(1),w=t.fromBytes(b.subarray(0,t.BYTES)),_=t.fromBytes(b.subarray(t.BYTES,2*t.BYTES));return{x:w,y:_}});function o(m){let{a:b,b:w}=e,_=t.sqr(m),D=t.mul(_,m);return t.add(t.add(D,t.mul(m,b)),w)}if(!t.eql(t.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function s(m){return typeof m=="bigint"&&mo<m&&m<e.n}function a(m){if(!s(m))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(m){let{allowedPrivateKeyLengths:b,nByteLength:w,wrapPrivateKey:_,n:D}=e;if(b&&typeof m!="bigint"){if(m instanceof Uint8Array&&(m=Na(m)),typeof m!="string"||!b.includes(m.length))throw new Error("Invalid key");m=m.padStart(w*2,"0")}let T;try{T=typeof m=="bigint"?m:po(rr("private key",m,w))}catch{throw new Error(`private key must be ${w} bytes, hex or bigint, not ${typeof m}`)}return _&&(T=wn(T,D)),a(T),T}let l=new Map;function u(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(b,w,_){if(this.px=b,this.py=w,this.pz=_,b==null||!t.isValid(b))throw new Error("x required");if(w==null||!t.isValid(w))throw new Error("y required");if(_==null||!t.isValid(_))throw new Error("z required")}static fromAffine(b){let{x:w,y:_}=b||{};if(!b||!t.isValid(w)||!t.isValid(_))throw new Error("invalid affine point");if(b instanceof d)throw new Error("projective point not allowed");let D=T=>t.eql(T,t.ZERO);return D(w)&&D(_)?d.ZERO:new d(w,_,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(b){let w=t.invertBatch(b.map(_=>_.pz));return b.map((_,D)=>_.toAffine(w[D])).map(d.fromAffine)}static fromHex(b){let w=d.fromAffine(i(rr("pointHex",b)));return w.assertValidity(),w}static fromPrivateKey(b){return d.BASE.multiply(c(b))}_setWindowSize(b){this._WINDOW_SIZE=b,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:b,y:w}=this.toAffine();if(!t.isValid(b)||!t.isValid(w))throw new Error("bad point: x or y not FE");let _=t.sqr(w),D=o(b);if(!t.eql(_,D))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:b}=this.toAffine();if(t.isOdd)return!t.isOdd(b);throw new Error("Field doesn't support isOdd")}equals(b){u(b);let{px:w,py:_,pz:D}=this,{px:T,py:W,pz:F}=b,B=t.eql(t.mul(w,F),t.mul(T,D)),q=t.eql(t.mul(_,F),t.mul(W,D));return B&&q}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){let{a:b,b:w}=e,_=t.mul(w,sM),{px:D,py:T,pz:W}=this,F=t.ZERO,B=t.ZERO,q=t.ZERO,U=t.mul(D,D),Y=t.mul(T,T),re=t.mul(W,W),oe=t.mul(D,T);return oe=t.add(oe,oe),q=t.mul(D,W),q=t.add(q,q),F=t.mul(b,q),B=t.mul(_,re),B=t.add(F,B),F=t.sub(Y,B),B=t.add(Y,B),B=t.mul(F,B),F=t.mul(oe,F),q=t.mul(_,q),re=t.mul(b,re),oe=t.sub(U,re),oe=t.mul(b,oe),oe=t.add(oe,q),q=t.add(U,U),U=t.add(q,U),U=t.add(U,re),U=t.mul(U,oe),B=t.add(B,U),re=t.mul(T,W),re=t.add(re,re),U=t.mul(re,oe),F=t.sub(F,U),q=t.mul(re,Y),q=t.add(q,q),q=t.add(q,q),new d(F,B,q)}add(b){u(b);let{px:w,py:_,pz:D}=this,{px:T,py:W,pz:F}=b,B=t.ZERO,q=t.ZERO,U=t.ZERO,Y=e.a,re=t.mul(e.b,sM),oe=t.mul(w,T),Me=t.mul(_,W),He=t.mul(D,F),_t=t.add(w,_),L=t.add(T,W);_t=t.mul(_t,L),L=t.add(oe,Me),_t=t.sub(_t,L),L=t.add(w,D);let $=t.add(T,F);return L=t.mul(L,$),$=t.add(oe,He),L=t.sub(L,$),$=t.add(_,D),B=t.add(W,F),$=t.mul($,B),B=t.add(Me,He),$=t.sub($,B),U=t.mul(Y,L),B=t.mul(re,He),U=t.add(B,U),B=t.sub(Me,U),U=t.add(Me,U),q=t.mul(B,U),Me=t.add(oe,oe),Me=t.add(Me,oe),He=t.mul(Y,He),L=t.mul(re,L),Me=t.add(Me,He),He=t.sub(oe,He),He=t.mul(Y,He),L=t.add(L,He),oe=t.mul(Me,L),q=t.add(q,oe),oe=t.mul($,L),B=t.mul(_t,B),B=t.sub(B,oe),oe=t.mul(_t,Me),U=t.mul($,U),U=t.add(U,oe),new d(B,q,U)}subtract(b){return this.add(b.negate())}is0(){return this.equals(d.ZERO)}wNAF(b){return p.wNAFCached(this,l,b,w=>{let _=t.invertBatch(w.map(D=>D.pz));return w.map((D,T)=>D.toAffine(_[T])).map(d.fromAffine)})}multiplyUnsafe(b){let w=d.ZERO;if(b===mo)return w;if(a(b),b===Ar)return this;let{endo:_}=e;if(!_)return p.unsafeLadder(this,b);let{k1neg:D,k1:T,k2neg:W,k2:F}=_.splitScalar(b),B=w,q=w,U=this;for(;T>mo||F>mo;)T&Ar&&(B=B.add(U)),F&Ar&&(q=q.add(U)),U=U.double(),T>>=Ar,F>>=Ar;return D&&(B=B.negate()),W&&(q=q.negate()),q=new d(t.mul(q.px,_.beta),q.py,q.pz),B.add(q)}multiply(b){a(b);let w=b,_,D,{endo:T}=e;if(T){let{k1neg:W,k1:F,k2neg:B,k2:q}=T.splitScalar(w),{p:U,f:Y}=this.wNAF(F),{p:re,f:oe}=this.wNAF(q);U=p.constTimeNegate(W,U),re=p.constTimeNegate(B,re),re=new d(t.mul(re.px,T.beta),re.py,re.pz),_=U.add(re),D=Y.add(oe)}else{let{p:W,f:F}=this.wNAF(w);_=W,D=F}return d.normalizeZ([_,D])[0]}multiplyAndAddUnsafe(b,w,_){let D=d.BASE,T=(F,B)=>B===mo||B===Ar||!F.equals(D)?F.multiplyUnsafe(B):F.multiply(B),W=T(this,w).add(T(b,_));return W.is0()?void 0:W}toAffine(b){let{px:w,py:_,pz:D}=this,T=this.is0();b==null&&(b=T?t.ONE:t.inv(D));let W=t.mul(w,b),F=t.mul(_,b),B=t.mul(D,b);if(T)return{x:t.ZERO,y:t.ZERO};if(!t.eql(B,t.ONE))throw new Error("invZ was invalid");return{x:W,y:F}}isTorsionFree(){let{h:b,isTorsionFree:w}=e;if(b===Ar)return!0;if(w)return w(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:b,clearCofactor:w}=e;return b===Ar?this:w?w(d,this):this.multiplyUnsafe(e.h)}toRawBytes(b=!0){return this.assertValidity(),r(d,this,b)}toHex(b=!0){return Na(this.toRawBytes(b))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);let f=e.nBitLength,p=oM(d,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:s}}function qB(n){let e=Aw(n);return bs(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze(x({lowS:!0},e))}function aM(n){let e=qB(n),{Fp:t,n:r}=e,i=t.BYTES+1,o=2*t.BYTES+1;function s(L){return mo<L&&L<t.ORDER}function a(L){return wn(L,r)}function c(L){return mg(L,r)}let{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:f}=WB(N(x({},e),{toBytes(L,$,se){let Le=$.toAffine(),ke=t.toBytes(Le.x),at=Fl;return se?at(Uint8Array.from([$.hasEvenY()?2:3]),ke):at(Uint8Array.from([4]),ke,t.toBytes(Le.y))},fromBytes(L){let $=L.length,se=L[0],Le=L.subarray(1);if($===i&&(se===2||se===3)){let ke=po(Le);if(!s(ke))throw new Error("Point is not on curve");let at=d(ke),Mt=t.sqrt(at),bn=(Mt&Ar)===Ar;return(se&1)===1!==bn&&(Mt=t.neg(Mt)),{x:ke,y:Mt}}else if($===o&&se===4){let ke=t.fromBytes(Le.subarray(0,t.BYTES)),at=t.fromBytes(Le.subarray(t.BYTES,2*t.BYTES));return{x:ke,y:at}}else throw new Error(`Point of length ${$} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}})),p=L=>Na(gs(L,e.nByteLength));function m(L){let $=r>>Ar;return L>$}function b(L){return m(L)?a(-L):L}let w=(L,$,se)=>po(L.slice($,se));class _{constructor($,se,Le){this.r=$,this.s=se,this.recovery=Le,this.assertValidity()}static fromCompact($){let se=e.nByteLength;return $=rr("compactSignature",$,se*2),new _(w($,0,se),w($,se,2*se))}static fromDER($){let{r:se,s:Le}=Pa.toSig(rr("DER",$));return new _(se,Le)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit($){return new _(this.r,this.s,$)}recoverPublicKey($){let{r:se,s:Le,recovery:ke}=this,at=q(rr("msgHash",$));if(ke==null||![0,1,2,3].includes(ke))throw new Error("recovery id invalid");let Mt=ke===2||ke===3?se+e.n:se;if(Mt>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");let bn=(ke&1)===0?"02":"03",Uo=l.fromHex(bn+p(Mt)),Vo=c(Mt),Ac=a(-at*Vo),Bu=a(Le*Vo),jo=l.BASE.multiplyAndAddUnsafe(Uo,Ac,Bu);if(!jo)throw new Error("point at infinify");return jo.assertValidity(),jo}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new _(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Oa(this.toDERHex())}toDERHex(){return Pa.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Oa(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}let D={isValidPrivateKey(L){try{return u(L),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{let L=Cw(e.n);return iM(e.randomBytes(L),e.n)},precompute(L=8,$=l.BASE){return $._setWindowSize(L),$.multiply(BigInt(3)),$}};function T(L,$=!0){return l.fromPrivateKey(L).toRawBytes($)}function W(L){let $=L instanceof Uint8Array,se=typeof L=="string",Le=($||se)&&L.length;return $?Le===i||Le===o:se?Le===2*i||Le===2*o:L instanceof l}function F(L,$,se=!0){if(W(L))throw new Error("first arg must be private key");if(!W($))throw new Error("second arg must be public key");return l.fromHex($).multiply(u(L)).toRawBytes(se)}let B=e.bits2int||function(L){let $=po(L),se=L.length*8-e.nBitLength;return se>0?$>>BigInt(se):$},q=e.bits2int_modN||function(L){return a(B(L))},U=of(e.nBitLength);function Y(L){if(typeof L!="bigint")throw new Error("bigint expected");if(!(mo<=L&&L<U))throw new Error(`bigint expected < 2^${e.nBitLength}`);return gs(L,e.nByteLength)}function re(L,$,se=oe){if(["recovered","canonical"].some(Ks=>Ks in se))throw new Error("sign() legacy options not supported");let{hash:Le,randomBytes:ke}=e,{lowS:at,prehash:Mt,extraEntropy:bn}=se;at==null&&(at=!0),L=rr("msgHash",L),Mt&&(L=rr("prehashed msgHash",Le(L)));let Uo=q(L),Vo=u($),Ac=[Y(Vo),Y(Uo)];if(bn!=null){let Ks=bn===!0?ke(t.BYTES):bn;Ac.push(rr("extraEntropy",Ks))}let Bu=Fl(...Ac),jo=Uo;function vb(Ks){let Ic=B(Ks);if(!f(Ic))return;let pC=c(Ic),pi=l.BASE.multiply(Ic).toAffine(),Dc=a(pi.x);if(Dc===mo)return;let ch=a(pC*a(jo+Dc*Vo));if(ch===mo)return;let mC=(pi.x===Dc?0:2)|Number(pi.y&Ar),gC=ch;return at&&m(ch)&&(gC=b(ch),mC^=1),new _(Dc,gC,mC)}return{seed:Bu,k2sig:vb}}let oe={lowS:e.lowS,prehash:!1},Me={lowS:e.lowS,prehash:!1};function He(L,$,se=oe){let{seed:Le,k2sig:ke}=re(L,$,se),at=e;return yw(at.hash.outputLen,at.nByteLength,at.hmac)(Le,ke)}l.BASE._setWindowSize(8);function _t(L,$,se,Le=Me){let ke=L;if($=rr("msgHash",$),se=rr("publicKey",se),"strict"in Le)throw new Error("options.strict was renamed to lowS");let{lowS:at,prehash:Mt}=Le,bn,Uo;try{if(typeof ke=="string"||ke instanceof Uint8Array)try{bn=_.fromDER(ke)}catch(pi){if(!(pi instanceof Pa.Err))throw pi;bn=_.fromCompact(ke)}else if(typeof ke=="object"&&typeof ke.r=="bigint"&&typeof ke.s=="bigint"){let{r:pi,s:Dc}=ke;bn=new _(pi,Dc)}else throw new Error("PARSE");Uo=l.fromHex(se)}catch(pi){if(pi.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(at&&bn.hasHighS())return!1;Mt&&($=e.hash($));let{r:Vo,s:Ac}=bn,Bu=q($),jo=c(Ac),vb=a(Bu*jo),Ks=a(Vo*jo),Ic=l.BASE.multiplyAndAddUnsafe(Uo,vb,Ks)?.toAffine();return Ic?a(Ic.x)===Vo:!1}return{CURVE:e,getPublicKey:T,getSharedSecret:F,sign:He,verify:_t,ProjectivePoint:l,Signature:_,utils:D}}function KB(n){return{hash:n,hmac:(e,...t)=>Ma(n,e,XS(...t)),randomBytes:tT}}function cM(n,e){let t=r=>aM(x(x({},n),KB(r)));return Object.freeze(N(x({},t(e)),{create:t}))}var dM=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),lM=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),QB=BigInt(1),Iw=BigInt(2),uM=(n,e)=>(n+e/Iw)/e;function ZB(n){let e=dM,t=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),l=n*n*n%e,u=l*l*n%e,d=ir(u,t,e)*u%e,f=ir(d,t,e)*u%e,p=ir(f,Iw,e)*l%e,m=ir(p,i,e)*p%e,b=ir(m,o,e)*m%e,w=ir(b,a,e)*b%e,_=ir(w,c,e)*w%e,D=ir(_,a,e)*b%e,T=ir(D,t,e)*u%e,W=ir(T,s,e)*m%e,F=ir(W,r,e)*l%e,B=ir(F,Iw,e);if(!Dw.eql(Dw.sqr(B),n))throw new Error("Cannot find square root");return B}var Dw=nM(dM,void 0,void 0,{sqrt:ZB}),go=cM({a:BigInt(0),b:BigInt(7),Fp:Dw,n:lM,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{let e=lM,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-QB*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=t,s=BigInt("0x100000000000000000000000000000000"),a=uM(o*n,e),c=uM(-r*n,e),l=wn(n-a*t-c*i,e),u=wn(-a*r-c*o,e),d=l>s,f=u>s;if(d&&(l=e-l),f&&(u=e-u),l>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:l,k2neg:f,k2:u}}}},ho),Vie=BigInt(0);var jie=go.ProjectivePoint;var oi="0x0000000000000000000000000000000000000000";var Ll="0x0000000000000000000000000000000000000000000000000000000000000000";var Sw=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Tw=BigInt("1000000000000000000"),Mw=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),kw=BigInt("0x8000000000000000000000000000000000000000000000000000000000000000")*BigInt(-1),Nw=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var Ow="\u039E",sf=`Ethereum Signed Message:
`;var fM=BigInt(0),hM=BigInt(1),pM=BigInt(2),mM=BigInt(27),gM=BigInt(28),gg=BigInt(35),Bl={};function bM(n){return Bt(We(n),32)}var Vt=class n{#e;#t;#n;#r;get r(){return this.#e}set r(e){g(qn(e)===32,"invalid r","value",e),this.#e=S(e)}get s(){return this.#t}set s(e){g(qn(e)===32,"invalid s","value",e);let t=S(e);g(parseInt(t.substring(0,3))<8,"non-canonical s","value",t),this.#t=t}get v(){return this.#n}set v(e){let t=Z(e,"value");g(t===27||t===28,"invalid v","v",e),this.#n=t}get networkV(){return this.#r}get legacyChainId(){let e=this.networkV;return e==null?null:n.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){let e=M(this.s);return this.yParity&&(e[0]|=128),S(e)}get compactSerialized(){return te([this.r,this.yParityAndS])}get serialized(){return te([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,r,i){an(e,Bl,"Signature"),this.#e=t,this.#t=r,this.#n=i,this.#r=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){let e=new n(Bl,this.r,this.s,this.v);return this.networkV&&(e.#r=this.networkV),e}toJSON(){let e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){let t=R(e,"v");return t==mM||t==gM?fM:(g(t>=gg,"invalid EIP-155 v","v",e),(t-gg)/pM)}static getChainIdV(e,t){return R(e)*pM+BigInt(35+t-27)}static getNormalizedV(e){let t=R(e);return t===fM||t===mM?27:t===hM||t===gM?28:(g(t>=gg,"invalid v","v",e),t&hM?27:28)}static from(e){function t(l,u){g(l,u,"signature",e)}if(e==null)return new n(Bl,Ll,Ll,27);if(typeof e=="string"){let l=M(e,"signature");if(l.length===64){let u=S(l.slice(0,32)),d=l.slice(32,64),f=d[0]&128?28:27;return d[0]&=127,new n(Bl,u,S(d),f)}if(l.length===65){let u=S(l.slice(0,32)),d=l.slice(32,64);t((d[0]&128)===0,"non-canonical s");let f=n.getNormalizedV(l[64]);return new n(Bl,u,S(d),f)}t(!1,"invalid raw signature length")}if(e instanceof n)return e.clone();let r=e.r;t(r!=null,"missing r");let i=bM(r),o=function(l,u){if(l!=null)return bM(l);if(u!=null){t(me(u,32),"invalid yParityAndS");let d=M(u);return d[0]&=127,S(d)}t(!1,"missing s")}(e.s,e.yParityAndS);t((M(o)[0]&128)==0,"non-canonical s");let{networkV:s,v:a}=function(l,u,d){if(l!=null){let f=R(l);return{networkV:f>=gg?f:void 0,v:n.getNormalizedV(f)}}if(u!=null)return t(me(u,32),"invalid yParityAndS"),{v:M(u)[0]&128?28:27};if(d!=null){switch(Z(d,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),c=new n(Bl,i,o,a);return s&&(c.#r=s),t(e.yParity==null||Z(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),t(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}};var ln=class n{#e;constructor(e){g(qn(e)===32,"invalid private key","privateKey","[REDACTED]"),this.#e=S(e)}get privateKey(){return this.#e}get publicKey(){return n.computePublicKey(this.#e)}get compressedPublicKey(){return n.computePublicKey(this.#e,!0)}sign(e){g(qn(e)===32,"invalid digest length","digest",e);let t=go.sign(ut(e),ut(this.#e),{lowS:!0});return Vt.from({r:nn(t.r,32),s:nn(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){let t=n.computePublicKey(e);return S(go.getSharedSecret(ut(this.#e),M(t),!1))}static computePublicKey(e,t){let r=M(e,"key");if(r.length===32){let o=go.getPublicKey(r,!!t);return S(o)}if(r.length===64){let o=new Uint8Array(65);o[0]=4,o.set(r,1),r=o}let i=go.ProjectivePoint.fromHex(r);return S(i.toRawBytes(t))}static recoverPublicKey(e,t){g(qn(e)===32,"invalid digest length","digest",e);let r=Vt.from(t),i=go.Signature.fromCompact(ut(te([r.r,r.s])));i=i.addRecoveryBit(r.yParity);let o=i.recoverPublicKey(ut(e));return g(o!=null,"invalid signature for digest","signature",t),"0x"+o.toHex(!1)}static addPoints(e,t,r){let i=go.ProjectivePoint.fromHex(n.computePublicKey(e).substring(2)),o=go.ProjectivePoint.fromHex(n.computePublicKey(t).substring(2));return"0x"+i.add(o).toHex(!!r)}};function yM(){ti.lock(),he.lock(),kn.lock(),xn.lock(),ni.lock(),ri.lock(),ii.lock(),Ut.lock(),ka.lock(),xn.lock()}var YB=BigInt(0),JB=BigInt(36);function vM(n){n=n.toLowerCase();let e=n.substring(2).split(""),t=new Uint8Array(40);for(let i=0;i<40;i++)t[i]=e[i].charCodeAt(0);let r=M(he(t));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}var Rw={};for(let n=0;n<10;n++)Rw[String(n)]=String(n);for(let n=0;n<26;n++)Rw[String.fromCharCode(65+n)]=String(10+n);var xM=15;function wM(n){n=n.toUpperCase(),n=n.substring(4)+n.substring(0,2)+"00";let e=n.split("").map(r=>Rw[r]).join("");for(;e.length>=xM;){let r=e.substring(0,xM);e=parseInt(r,10)%97+e.substring(r.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}var XB=function(){let n={};for(let e=0;e<36;e++){let t="0123456789abcdefghijklmnopqrstuvwxyz"[e];n[t]=BigInt(e)}return n}();function eU(n){n=n.toLowerCase();let e=YB;for(let t=0;t<n.length;t++)e=e*JB+XB[n[t]];return e}function J(n){if(g(typeof n=="string","invalid address","address",n),n.match(/^(0x)?[0-9a-fA-F]{40}$/)){n.startsWith("0x")||(n="0x"+n);let e=vM(n);return g(!n.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===n,"bad address checksum","address",n),e}if(n.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){g(n.substring(2,4)===wM(n),"bad icap checksum","address",n);let e=eU(n.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return vM("0x"+e)}g(!1,"invalid address","address",n)}function Pw(n){let e=BigInt(J(n)).toString(36).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+wM("XE00"+e)+e}function Fa(n){let e=J(n.from),r=R(n.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,J(Ue(he(Mn([e,r])),12))}function Fw(n,e,t){let r=J(n),i=M(e,"salt"),o=M(t,"initCodeHash");return g(i.length===32,"salt must be 32 bytes","salt",e),g(o.length===32,"initCodeHash must be 32 bytes","initCodeHash",t),J(Ue(he(te(["0xff",r,i,o])),12))}function Ul(n){return n&&typeof n.getAddress=="function"}function Bw(n){try{return J(n),!0}catch{}return!1}function Lw(n,e){return h(this,null,function*(){let t=yield e;return(t==null||t==="0x0000000000000000000000000000000000000000")&&(E(typeof n!="string","unconfigured name","UNCONFIGURED_NAME",{value:n}),g(!1,"invalid AddressLike value; did not resolve to a value address","target",n)),J(t)})}function dt(n,e){if(typeof n=="string")return n.match(/^0x[0-9a-f]{40}$/i)?J(n):(E(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Lw(n,e.resolveName(n)));if(Ul(n))return Lw(n,n.getAddress());if(n&&typeof n.then=="function")return Lw(n,n);g(!1,"unsupported addressable value","target",n)}var si={};function K(n,e){let t=!1;return e<0&&(t=!0,e*=-1),new nt(si,`${t?"":"u"}int${e}`,n,{signed:t,width:e})}function $e(n,e){return new nt(si,`bytes${e||""}`,n,{size:e})}var _M=Symbol.for("_ethers_typed"),nt=class n{type;value;#e;_typedSymbol;constructor(e,t,r,i){i==null&&(i=null),an(si,e,"Typed"),k(this,{_typedSymbol:_M,type:t,value:r}),this.#e=i,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#e}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#e===!0?-1:this.#e===!1?this.value.length:null}static from(e,t){return new n(si,e,t)}static uint8(e){return K(e,8)}static uint16(e){return K(e,16)}static uint24(e){return K(e,24)}static uint32(e){return K(e,32)}static uint40(e){return K(e,40)}static uint48(e){return K(e,48)}static uint56(e){return K(e,56)}static uint64(e){return K(e,64)}static uint72(e){return K(e,72)}static uint80(e){return K(e,80)}static uint88(e){return K(e,88)}static uint96(e){return K(e,96)}static uint104(e){return K(e,104)}static uint112(e){return K(e,112)}static uint120(e){return K(e,120)}static uint128(e){return K(e,128)}static uint136(e){return K(e,136)}static uint144(e){return K(e,144)}static uint152(e){return K(e,152)}static uint160(e){return K(e,160)}static uint168(e){return K(e,168)}static uint176(e){return K(e,176)}static uint184(e){return K(e,184)}static uint192(e){return K(e,192)}static uint200(e){return K(e,200)}static uint208(e){return K(e,208)}static uint216(e){return K(e,216)}static uint224(e){return K(e,224)}static uint232(e){return K(e,232)}static uint240(e){return K(e,240)}static uint248(e){return K(e,248)}static uint256(e){return K(e,256)}static uint(e){return K(e,256)}static int8(e){return K(e,-8)}static int16(e){return K(e,-16)}static int24(e){return K(e,-24)}static int32(e){return K(e,-32)}static int40(e){return K(e,-40)}static int48(e){return K(e,-48)}static int56(e){return K(e,-56)}static int64(e){return K(e,-64)}static int72(e){return K(e,-72)}static int80(e){return K(e,-80)}static int88(e){return K(e,-88)}static int96(e){return K(e,-96)}static int104(e){return K(e,-104)}static int112(e){return K(e,-112)}static int120(e){return K(e,-120)}static int128(e){return K(e,-128)}static int136(e){return K(e,-136)}static int144(e){return K(e,-144)}static int152(e){return K(e,-152)}static int160(e){return K(e,-160)}static int168(e){return K(e,-168)}static int176(e){return K(e,-176)}static int184(e){return K(e,-184)}static int192(e){return K(e,-192)}static int200(e){return K(e,-200)}static int208(e){return K(e,-208)}static int216(e){return K(e,-216)}static int224(e){return K(e,-224)}static int232(e){return K(e,-232)}static int240(e){return K(e,-240)}static int248(e){return K(e,-248)}static int256(e){return K(e,-256)}static int(e){return K(e,-256)}static bytes1(e){return $e(e,1)}static bytes2(e){return $e(e,2)}static bytes3(e){return $e(e,3)}static bytes4(e){return $e(e,4)}static bytes5(e){return $e(e,5)}static bytes6(e){return $e(e,6)}static bytes7(e){return $e(e,7)}static bytes8(e){return $e(e,8)}static bytes9(e){return $e(e,9)}static bytes10(e){return $e(e,10)}static bytes11(e){return $e(e,11)}static bytes12(e){return $e(e,12)}static bytes13(e){return $e(e,13)}static bytes14(e){return $e(e,14)}static bytes15(e){return $e(e,15)}static bytes16(e){return $e(e,16)}static bytes17(e){return $e(e,17)}static bytes18(e){return $e(e,18)}static bytes19(e){return $e(e,19)}static bytes20(e){return $e(e,20)}static bytes21(e){return $e(e,21)}static bytes22(e){return $e(e,22)}static bytes23(e){return $e(e,23)}static bytes24(e){return $e(e,24)}static bytes25(e){return $e(e,25)}static bytes26(e){return $e(e,26)}static bytes27(e){return $e(e,27)}static bytes28(e){return $e(e,28)}static bytes29(e){return $e(e,29)}static bytes30(e){return $e(e,30)}static bytes31(e){return $e(e,31)}static bytes32(e){return $e(e,32)}static address(e){return new n(si,"address",e)}static bool(e){return new n(si,"bool",!!e)}static bytes(e){return new n(si,"bytes",e)}static string(e){return new n(si,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new n(si,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===_M}static dereference(e,t){if(n.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}};var bg=class extends Wt{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let r=nt.dereference(t,"string");try{r=J(r)}catch(i){return this._throwError(i.message,t)}return e.writeValue(r)}decode(e){return J(nn(e.readValue(),20))}};var yg=class extends Wt{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}};function Uw(n,e,t){let r=[];if(Array.isArray(t))r=t;else if(t&&typeof t=="object"){let c={};r=e.map(l=>{let u=l.localName;return E(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:t}),E(!c[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:t}),c[u]=!0,t[u]})}else g(!1,"invalid tuple value","tuple",t);g(e.length===r.length,"types/value length mismatch","tuple",t);let i=new Ta,o=new Ta,s=[];e.forEach((c,l)=>{let u=r[l];if(c.dynamic){let d=o.length;c.encode(o,u);let f=i.writeUpdatableValue();s.push(p=>{f(p+d)})}else c.encode(i,u)}),s.forEach(c=>{c(i.length)});let a=n.appendWriter(i);return a+=n.appendWriter(o),a}function Vw(n,e){let t=[],r=[],i=n.subReader(0);return e.forEach(o=>{let s=null;if(o.dynamic){let a=n.readIndex(),c=i.subReader(a);try{s=o.decode(c)}catch(l){if(Ve(l,"BUFFER_OVERRUN"))throw l;s=l,s.baseType=o.name,s.name=o.localName,s.type=o.type}}else try{s=o.decode(n)}catch(a){if(Ve(a,"BUFFER_OVERRUN"))throw a;s=a,s.baseType=o.name,s.name=o.localName,s.type=o.type}if(s==null)throw new Error("investigate");t.push(s),r.push(o.localName||null)}),Jr.fromItems(t,r)}var vg=class extends Wt{coder;length;constructor(e,t,r){let i=e.type+"["+(t>=0?t:"")+"]",o=t===-1||e.dynamic;super("array",i,r,o),k(this,{coder:e,length:t})}defaultValue(){let e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){let r=nt.dereference(t,"array");Array.isArray(r)||this._throwError("expected array value",r);let i=this.length;i===-1&&(i=r.length,e.writeValue(r.length)),Ca(r.length,i,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let s=0;s<r.length;s++)o.push(this.coder);return Uw(e,o,r)}decode(e){let t=this.length;t===-1&&(t=e.readIndex(),E(t*cn<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:t*cn,length:e.dataLength}));let r=[];for(let i=0;i<t;i++)r.push(new yg(this.coder));return Vw(e,r)}};var xg=class extends Wt{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){let r=nt.dereference(t,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}};var af=class extends Wt{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=ut(t);let r=e.writeValue(t.length);return r+=e.writeBytes(t),r}decode(e){return e.readBytes(e.readIndex(),!0)}},wg=class extends af{constructor(e){super("bytes",e)}decode(e){return S(super.decode(e))}};var _g=class extends Wt{size;constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),k(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,t){let r=ut(nt.dereference(t,this.type));return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return S(e.readBytes(this.size))}};var tU=new Uint8Array([]),Cg=class extends Wt{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes(tU)}decode(e){return e.readBytes(0),null}};var nU=BigInt(0),rU=BigInt(1),iU=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Eg=class extends Wt{size;signed;constructor(e,t,r){let i=(t?"int":"uint")+e*8;super(i,i,r,!1),k(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let r=R(nt.dereference(t,this.type)),i=nr(iU,cn*8);if(this.signed){let o=nr(i,this.size*8-1);(r>o||r<-(o+rU))&&this._throwError("value out-of-bounds",t),r=co(r,8*cn)}else(r<nU||r>nr(i,this.size*8))&&this._throwError("value out-of-bounds",t);return e.writeValue(r)}decode(e){let t=nr(e.readValue(),this.size*8);return this.signed&&(t=ao(t,this.size*8)),t}};var Ag=class extends af{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,qe(nt.dereference(t,"string")))}decode(e){return Tn(super.decode(e))}};var La=class extends Wt{coders;constructor(e,t){let r=!1,i=[];e.forEach(s=>{s.dynamic&&(r=!0),i.push(s.type)});let o="tuple("+i.join(",")+")";super("tuple",o,t,r),k(this,{coders:Object.freeze(e.slice())})}defaultValue(){let e=[];this.coders.forEach(r=>{e.push(r.defaultValue())});let t=this.coders.reduce((r,i)=>{let o=i.localName;return o&&(r[o]||(r[o]=0),r[o]++),r},{});return this.coders.forEach((r,i)=>{let o=r.localName;!o||t[o]!==1||(o==="length"&&(o="_length"),e[o]==null&&(e[o]=e[i]))}),Object.freeze(e)}encode(e,t){let r=nt.dereference(t,"tuple");return Uw(e,this.coders,r)}decode(e){return Vw(e,this.coders)}};function jw(n,e){return{address:J(n),storageKeys:e.map((t,r)=>(g(me(t,32),"invalid slot",`storageKeys[${r}]`,t),t.toLowerCase()))}}function un(n){if(Array.isArray(n))return n.map((t,r)=>Array.isArray(t)?(g(t.length===2,"invalid slot set",`value[${r}]`,t),jw(t[0],t[1])):(g(t!=null&&typeof t=="object","invalid address-slot set","value",n),jw(t.address,t.storageKeys)));g(n!=null&&typeof n=="object","invalid access list","value",n);let e=Object.keys(n).map(t=>{let r=n[t].reduce((i,o)=>(i[o]=!0,i),{});return jw(t,Object.keys(r).sort())});return e.sort((t,r)=>t.address.localeCompare(r.address)),e}function Ba(n){return{address:J(n.address),nonce:R(n.nonce!=null?n.nonce:0),chainId:R(n.chainId!=null?n.chainId:0),signature:Vt.from(n.signature)}}function ai(n){let e;return typeof n=="string"?e=ln.computePublicKey(n,!1):e=n.publicKey,J(he("0x"+e.substring(4)).substring(26))}function ci(n,e){return ai(ln.recoverPublicKey(n,e))}var rn=BigInt(0),oU=BigInt(2),sU=BigInt(27),aU=BigInt(28),cU=BigInt(35),lU=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),$w=4096*32;function uU(n){return{blobToKzgCommitment:r=>{if("computeBlobProof"in n){if("blobToKzgCommitment"in n&&typeof n.blobToKzgCommitment=="function")return M(n.blobToKzgCommitment(S(r)))}else if("blobToKzgCommitment"in n&&typeof n.blobToKzgCommitment=="function")return M(n.blobToKzgCommitment(r));if("blobToKZGCommitment"in n&&typeof n.blobToKZGCommitment=="function")return M(n.blobToKZGCommitment(S(r)));g(!1,"unsupported KZG library","kzg",n)},computeBlobKzgProof:(r,i)=>{if("computeBlobProof"in n&&typeof n.computeBlobProof=="function")return M(n.computeBlobProof(S(r),S(i)));if("computeBlobKzgProof"in n&&typeof n.computeBlobKzgProof=="function")return n.computeBlobKzgProof(r,i);if("computeBlobKZGProof"in n&&typeof n.computeBlobKZGProof=="function")return M(n.computeBlobKZGProof(S(r),S(i)));g(!1,"unsupported KZG library","kzg",n)}}}function CM(n,e){let t=n.toString(16);for(;t.length<2;)t="0"+t;return t+=Ut(e).substring(4),"0x"+t}function Vl(n){return n==="0x"?null:J(n)}function Ig(n,e){try{return un(n)}catch(t){g(!1,t.message,e,n)}}function dU(n,e){try{if(!Array.isArray(n))throw new Error("authorizationList: invalid array");let t=[];for(let r=0;r<n.length;r++){let i=n[r];if(!Array.isArray(i))throw new Error(`authorization[${r}]: invalid array`);if(i.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!i[1])throw new Error(`authorization[${r}]: null address`);t.push({address:Vl(i[1]),nonce:rt(i[2],"nonce"),chainId:rt(i[0],"chainId"),signature:Vt.from({yParity:Ua(i[3],"yParity"),r:Bt(i[4],32),s:Bt(i[5],32)})})}return t}catch(t){g(!1,t.message,e,n)}}function Ua(n,e){return n==="0x"?0:Z(n,e)}function rt(n,e){if(n==="0x")return rn;let t=R(n,e);return g(t<=lU,"value exceeds uint size",e,t),t}function Oe(n,e){let t=R(n,"value"),r=We(t);return g(r.length<=32,"value too large",`tx.${e}`,t),r}function Dg(n){return un(n).map(e=>[e.address,e.storageKeys])}function fU(n){return n.map(e=>[Oe(e.chainId,"chainId"),e.address,Oe(e.nonce,"nonce"),Oe(e.signature.yParity,"yParity"),e.signature.r,e.signature.s])}function hU(n,e){g(Array.isArray(n),`invalid ${e}`,"value",n);for(let t=0;t<n.length;t++)g(me(n[t],32),"invalid ${ param } hash",`value[${t}]`,n[t]);return n}function pU(n){let e=uo(n);g(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",n);let t={type:0,nonce:Ua(e[0],"nonce"),gasPrice:rt(e[1],"gasPrice"),gasLimit:rt(e[2],"gasLimit"),to:Vl(e[3]),value:rt(e[4],"value"),data:S(e[5]),chainId:rn};if(e.length===6)return t;let r=rt(e[6],"v"),i=rt(e[7],"r"),o=rt(e[8],"s");if(i===rn&&o===rn)t.chainId=r;else{let s=(r-cU)/oU;s<rn&&(s=rn),t.chainId=s,g(s!==rn||r===sU||r===aU,"non-canonical legacy v","v",e[6]),t.signature=Vt.from({r:Bt(e[7],32),s:Bt(e[8],32),v:r})}return t}function mU(n,e){let t=[Oe(n.nonce,"nonce"),Oe(n.gasPrice||0,"gasPrice"),Oe(n.gasLimit,"gasLimit"),n.to||"0x",Oe(n.value,"value"),n.data],r=rn;if(n.chainId!=rn)r=R(n.chainId,"tx.chainId"),g(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(n.signature){let o=n.signature.legacyChainId;o!=null&&(r=o)}if(!e)return r!==rn&&(t.push(We(r)),t.push("0x"),t.push("0x")),Mn(t);let i=BigInt(27+e.yParity);return r!==rn?i=Vt.getChainIdV(r,e.v):BigInt(e.v)!==i&&g(!1,"tx.chainId/sig.v mismatch","sig",e),t.push(We(i)),t.push(We(e.r)),t.push(We(e.s)),Mn(t)}function Sg(n,e){let t;try{if(t=Ua(e[0],"yParity"),t!==0&&t!==1)throw new Error("bad yParity")}catch{g(!1,"invalid yParity","yParity",e[0])}let r=Bt(e[1],32),i=Bt(e[2],32),o=Vt.from({r,s:i,yParity:t});n.signature=o}function gU(n){let e=uo(M(n).slice(1));g(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",S(n));let t={type:2,chainId:rt(e[0],"chainId"),nonce:Ua(e[1],"nonce"),maxPriorityFeePerGas:rt(e[2],"maxPriorityFeePerGas"),maxFeePerGas:rt(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:rt(e[4],"gasLimit"),to:Vl(e[5]),value:rt(e[6],"value"),data:S(e[7]),accessList:Ig(e[8],"accessList")};return e.length===9||Sg(t,e.slice(9)),t}function bU(n,e){let t=[Oe(n.chainId,"chainId"),Oe(n.nonce,"nonce"),Oe(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Oe(n.maxFeePerGas||0,"maxFeePerGas"),Oe(n.gasLimit,"gasLimit"),n.to||"0x",Oe(n.value,"value"),n.data,Dg(n.accessList||[])];return e&&(t.push(Oe(e.yParity,"yParity")),t.push(We(e.r)),t.push(We(e.s))),te(["0x02",Mn(t)])}function yU(n){let e=uo(M(n).slice(1));g(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",S(n));let t={type:1,chainId:rt(e[0],"chainId"),nonce:Ua(e[1],"nonce"),gasPrice:rt(e[2],"gasPrice"),gasLimit:rt(e[3],"gasLimit"),to:Vl(e[4]),value:rt(e[5],"value"),data:S(e[6]),accessList:Ig(e[7],"accessList")};return e.length===8||Sg(t,e.slice(8)),t}function vU(n,e){let t=[Oe(n.chainId,"chainId"),Oe(n.nonce,"nonce"),Oe(n.gasPrice||0,"gasPrice"),Oe(n.gasLimit,"gasLimit"),n.to||"0x",Oe(n.value,"value"),n.data,Dg(n.accessList||[])];return e&&(t.push(Oe(e.yParity,"recoveryParam")),t.push(We(e.r)),t.push(We(e.s))),te(["0x01",Mn(t)])}function xU(n){let e=uo(M(n).slice(1)),t="3",r=null;if(e.length===4&&Array.isArray(e[0])){t="3 (network format)";let o=e[1],s=e[2],a=e[3];g(Array.isArray(o),"invalid network format: blobs not an array","fields[1]",o),g(Array.isArray(s),"invalid network format: commitments not an array","fields[2]",s),g(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),g(o.length===s.length,"invalid network format: blobs/commitments length mismatch","fields",e),g(o.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",e),r=[];for(let c=0;c<e[1].length;c++)r.push({data:o[c],commitment:s[c],proof:a[c]});e=e[0]}g(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${t}`,"data",S(n));let i={type:3,chainId:rt(e[0],"chainId"),nonce:Ua(e[1],"nonce"),maxPriorityFeePerGas:rt(e[2],"maxPriorityFeePerGas"),maxFeePerGas:rt(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:rt(e[4],"gasLimit"),to:Vl(e[5]),value:rt(e[6],"value"),data:S(e[7]),accessList:Ig(e[8],"accessList"),maxFeePerBlobGas:rt(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};r&&(i.blobs=r),g(i.to!=null,`invalid address for transaction type: ${t}`,"data",n),g(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",n);for(let o=0;o<i.blobVersionedHashes.length;o++)g(me(i.blobVersionedHashes[o],32),`invalid blobVersionedHash at index ${o}: must be length 32`,"data",n);return e.length===11||Sg(i,e.slice(11)),i}function wU(n,e,t){let r=[Oe(n.chainId,"chainId"),Oe(n.nonce,"nonce"),Oe(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Oe(n.maxFeePerGas||0,"maxFeePerGas"),Oe(n.gasLimit,"gasLimit"),n.to||oi,Oe(n.value,"value"),n.data,Dg(n.accessList||[]),Oe(n.maxFeePerBlobGas||0,"maxFeePerBlobGas"),hU(n.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(r.push(Oe(e.yParity,"yParity")),r.push(We(e.r)),r.push(We(e.s)),t)?te(["0x03",Mn([r,t.map(i=>i.data),t.map(i=>i.commitment),t.map(i=>i.proof)])]):te(["0x03",Mn(r)])}function _U(n){let e=uo(M(n).slice(1));g(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",S(n));let t={type:4,chainId:rt(e[0],"chainId"),nonce:Ua(e[1],"nonce"),maxPriorityFeePerGas:rt(e[2],"maxPriorityFeePerGas"),maxFeePerGas:rt(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:rt(e[4],"gasLimit"),to:Vl(e[5]),value:rt(e[6],"value"),data:S(e[7]),accessList:Ig(e[8],"accessList"),authorizationList:dU(e[9],"authorizationList")};return e.length===10||Sg(t,e.slice(10)),t}function CU(n,e){let t=[Oe(n.chainId,"chainId"),Oe(n.nonce,"nonce"),Oe(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Oe(n.maxFeePerGas||0,"maxFeePerGas"),Oe(n.gasLimit,"gasLimit"),n.to||"0x",Oe(n.value,"value"),n.data,Dg(n.accessList||[]),fU(n.authorizationList||[])];return e&&(t.push(Oe(e.yParity,"yParity")),t.push(We(e.r)),t.push(We(e.s))),te(["0x04",Mn(t)])}var or=class n{#e;#t;#n;#r;#i;#s;#o;#a;#d;#l;#p;#m;#c;#u;#f;#h;#b;get type(){return this.#e}set type(e){switch(e){case null:this.#e=null;break;case 0:case"legacy":this.#e=0;break;case 1:case"berlin":case"eip-2930":this.#e=1;break;case 2:case"london":case"eip-1559":this.#e=2;break;case 3:case"cancun":case"eip-4844":this.#e=3;break;case 4:case"pectra":case"eip-7702":this.#e=4;break;default:g(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){let e=this.#t;return e==null&&this.type===3?oi:e}set to(e){this.#t=e==null?null:J(e)}get nonce(){return this.#r}set nonce(e){this.#r=Z(e,"value")}get gasLimit(){return this.#i}set gasLimit(e){this.#i=R(e)}get gasPrice(){let e=this.#s;return e==null&&(this.type===0||this.type===1)?rn:e}set gasPrice(e){this.#s=e==null?null:R(e,"gasPrice")}get maxPriorityFeePerGas(){let e=this.#o;return e??(this.type===2||this.type===3?rn:null)}set maxPriorityFeePerGas(e){this.#o=e==null?null:R(e,"maxPriorityFeePerGas")}get maxFeePerGas(){let e=this.#a;return e??(this.type===2||this.type===3?rn:null)}set maxFeePerGas(e){this.#a=e==null?null:R(e,"maxFeePerGas")}get data(){return this.#n}set data(e){this.#n=S(e)}get value(){return this.#d}set value(e){this.#d=R(e,"value")}get chainId(){return this.#l}set chainId(e){this.#l=R(e)}get signature(){return this.#p||null}set signature(e){this.#p=e==null?null:Vt.from(e)}get accessList(){let e=this.#m||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){this.#m=e==null?null:un(e)}get authorizationList(){let e=this.#b||null;return e==null&&this.type===4?[]:e}set authorizationList(e){this.#b=e==null?null:e.map(t=>Ba(t))}get maxFeePerBlobGas(){let e=this.#c;return e==null&&this.type===3?rn:e}set maxFeePerBlobGas(e){this.#c=e==null?null:R(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#u;return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){g(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)g(me(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}this.#u=e}get blobs(){return this.#h==null?null:this.#h.map(e=>Object.assign({},e))}set blobs(e){if(e==null){this.#h=null;return}let t=[],r=[];for(let i=0;i<e.length;i++){let o=e[i];if(Kr(o)){E(this.#f,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let s=M(o);if(g(s.length<=$w,"blob is too large",`blobs[${i}]`,o),s.length!==$w){let l=new Uint8Array($w);l.set(s),s=l}let a=this.#f.blobToKzgCommitment(s),c=S(this.#f.computeBlobKzgProof(s,a));t.push({data:S(s),commitment:S(a),proof:c}),r.push(CM(1,a))}else{let s=S(o.commitment);t.push({data:S(o.data),commitment:s,proof:S(o.proof)}),r.push(CM(1,s))}}this.#h=t,this.#u=r}get kzg(){return this.#f}set kzg(e){e==null?this.#f=null:this.#f=uU(e)}constructor(){this.#e=null,this.#t=null,this.#r=0,this.#i=rn,this.#s=null,this.#o=null,this.#a=null,this.#n="0x",this.#d=rn,this.#l=rn,this.#p=null,this.#m=null,this.#c=null,this.#u=null,this.#f=null,this.#h=null,this.#b=null}get hash(){return this.signature==null?null:he(this.#g(!0,!1))}get unsignedHash(){return he(this.unsignedSerialized)}get from(){return this.signature==null?null:ci(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:ln.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}#g(e,t){E(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});let r=e?this.signature:null;switch(this.inferType()){case 0:return mU(this,r);case 1:return vU(this,r);case 2:return bU(this,r);case 3:return wU(this,r,t?this.blobs:null);case 4:return CU(this,r)}E(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#g(!0,!0)}get unsignedSerialized(){return this.#g(!1,!1)}inferType(){let e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){let e=this.gasPrice!=null,t=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,i=this.#c!=null||this.#u;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&E(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),E(!t||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),E(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});let o=[];return this.type!=null?o.push(this.type):this.authorizationList&&this.authorizationList.length?o.push(4):t?o.push(2):e?(o.push(1),r||o.push(0)):r?(o.push(1),o.push(2)):(i&&this.to||(o.push(0),o.push(1),o.push(2)),o.push(3)),o.sort(),o}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return n.from(this)}toJSON(){let e=t=>t==null?null:t.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new n;if(typeof e=="string"){let r=M(e);if(r[0]>=127)return n.from(pU(r));switch(r[0]){case 1:return n.from(yU(r));case 2:return n.from(gU(r));case 3:return n.from(xU(r));case 4:return n.from(_U(r))}E(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}let t=new n;return e.type!=null&&(t.type=e.type),e.to!=null&&(t.to=e.to),e.nonce!=null&&(t.nonce=e.nonce),e.gasLimit!=null&&(t.gasLimit=e.gasLimit),e.gasPrice!=null&&(t.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(t.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(t.data=e.data),e.value!=null&&(t.value=e.value),e.chainId!=null&&(t.chainId=e.chainId),e.signature!=null&&(t.signature=Vt.from(e.signature)),e.accessList!=null&&(t.accessList=e.accessList),e.authorizationList!=null&&(t.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(t.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(t.kzg=e.kzg),e.blobs!=null&&(t.blobs=e.blobs),e.hash!=null&&(g(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),g(t.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(g(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),g(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}};function jl(n){return g(typeof n.address=="string","invalid address for hashAuthorization","auth.address",n),he(te(["0x05",Mn([n.chainId!=null?We(n.chainId):"0x",J(n.address),n.nonce!=null?We(n.nonce):"0x"])]))}function Hw(n,e){return ci(jl(n),e)}function dn(n){return he(qe(n))}var EU="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI",EM=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),AM=4;function AU(n){let e=0;function t(){return n[e++]<<8|n[e++]}let r=t(),i=1,o=[0,1];for(let F=1;F<r;F++)o.push(i+=t());let s=t(),a=e;e+=s;let c=0,l=0;function u(){return c==0&&(l=l<<8|n[e++],c=8),l>>--c&1}let d=31,f=2**d,p=f>>>1,m=p>>1,b=f-1,w=0;for(let F=0;F<d;F++)w=w<<1|u();let _=[],D=0,T=f;for(;;){let F=Math.floor(((w-D+1)*i-1)/T),B=0,q=r;for(;q-B>1;){let re=B+q>>>1;F<o[re]?q=re:B=re}if(B==0)break;_.push(B);let U=D+Math.floor(T*o[B]/i),Y=D+Math.floor(T*o[B+1]/i)-1;for(;((U^Y)&p)==0;)w=w<<1&b|u(),U=U<<1&b,Y=Y<<1&b|1;for(;U&~Y&m;)w=w&p|w<<1&b>>>1|u(),U=U<<1^p,Y=(Y^p)<<1|p|1;D=U,T=1+Y-U}let W=r-4;return _.map(F=>{switch(F-W){case 3:return W+65792+(n[a++]<<16|n[a++]<<8|n[a++]);case 2:return W+256+(n[a++]<<8|n[a++]);case 1:return W+n[a++];default:return F-1}})}function IU(n){let e=0;return()=>n[e++]}function TM(n){return IU(AU(DU(n)))}function DU(n){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,o)=>e[i.charCodeAt(0)]=o);let t=n.length,r=new Uint8Array(6*t>>3);for(let i=0,o=0,s=0,a=0;i<t;i++)a=a<<6|e[n.charCodeAt(i)],s+=6,s>=8&&(r[o++]=a>>(s-=8));return r}function SU(n){return n&1?~n>>1:n>>1}function TU(n,e){let t=Array(n);for(let r=0,i=0;r<n;r++)t[r]=i+=SU(e());return t}function uf(n,e=0){let t=[];for(;;){let r=n(),i=n();if(!i)break;e+=r;for(let o=0;o<i;o++)t.push(e+o);e+=i+1}return t}function MM(n){return df(()=>{let e=uf(n);if(e.length)return e})}function kM(n){let e=[];for(;;){let t=n();if(t==0)break;e.push(MU(t,n))}for(;;){let t=n()-1;if(t<0)break;e.push(kU(t,n))}return e.flat()}function df(n){let e=[];for(;;){let t=n(e.length);if(!t)break;e.push(t)}return e}function NM(n,e,t){let r=Array(n).fill().map(()=>[]);for(let i=0;i<e;i++)TU(n,t).forEach((o,s)=>r[s].push(o));return r}function MU(n,e){let t=1+e(),r=e(),i=df(e);return NM(i.length,1+n,e).flatMap((s,a)=>{let[c,...l]=s;return Array(i[a]).fill().map((u,d)=>{let f=d*r;return[c+d*t,l.map(p=>p+f)]})})}function kU(n,e){let t=1+e();return NM(t,1+n,e).map(i=>[i[0],i.slice(1)])}function NU(n){let e=[],t=uf(n);return i(r([]),[]),e;function r(o){let s=n(),a=df(()=>{let c=uf(n).map(l=>t[l]);if(c.length)return r(c)});return{S:s,B:a,Q:o}}function i({S:o,B:s},a,c){if(!(o&4&&c===a[a.length-1])){o&2&&(c=a[a.length-1]),o&1&&e.push(a);for(let l of s)for(let u of l.Q)i(l,[...a,u],c)}}}function OU(n){return n.toString(16).toUpperCase().padStart(2,"0")}function OM(n){return`{${OU(n)}}`}function RU(n){let e=[];for(let t=0,r=n.length;t<r;){let i=n.codePointAt(t);t+=i<65536?1:2,e.push(i)}return e}function zl(n){let t=n.length;if(t<4096)return String.fromCodePoint(...n);let r=[];for(let i=0;i<t;)r.push(String.fromCodePoint(...n.slice(i,i+=4096)));return r.join("")}function PU(n,e){let t=n.length,r=t-e.length;for(let i=0;r==0&&i<t;i++)r=n[i]-e[i];return r}var FU="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g",ff=44032,Mg=4352,kg=4449,Ng=4519,RM=19,PM=21,Gl=28,Og=PM*Gl,LU=RM*Og,BU=ff+LU,UU=Mg+RM,VU=kg+PM,jU=Ng+Gl;function cf(n){return n>>24&255}function FM(n){return n&16777215}var Gw,IM,Ww,Tg;function $U(){let n=TM(FU);Gw=new Map(MM(n).flatMap((e,t)=>e.map(r=>[r,t+1<<24]))),IM=new Set(uf(n)),Ww=new Map,Tg=new Map;for(let[e,t]of kM(n)){if(!IM.has(e)&&t.length==2){let[r,i]=t,o=Tg.get(r);o||(o=new Map,Tg.set(r,o)),o.set(i,e)}Ww.set(e,t.reverse())}}function LM(n){return n>=ff&&n<BU}function HU(n,e){if(n>=Mg&&n<UU&&e>=kg&&e<VU)return ff+(n-Mg)*Og+(e-kg)*Gl;if(LM(n)&&e>Ng&&e<jU&&(n-ff)%Gl==0)return n+(e-Ng);{let t=Tg.get(n);return t&&(t=t.get(e),t)?t:-1}}function BM(n){Gw||$U();let e=[],t=[],r=!1;function i(o){let s=Gw.get(o);s&&(r=!0,o|=s),e.push(o)}for(let o of n)for(;;){if(o<128)e.push(o);else if(LM(o)){let s=o-ff,a=s/Og|0,c=s%Og/Gl|0,l=s%Gl;i(Mg+a),i(kg+c),l>0&&i(Ng+l)}else{let s=Ww.get(o);s?t.push(...s):i(o)}if(!t.length)break;o=t.pop()}if(r&&e.length>1){let o=cf(e[0]);for(let s=1;s<e.length;s++){let a=cf(e[s]);if(a==0||o<=a){o=a;continue}let c=s-1;for(;;){let l=e[c+1];if(e[c+1]=e[c],e[c]=l,!c||(o=cf(e[--c]),o<=a))break}o=cf(e[s])}}return e}function zU(n){let e=[],t=[],r=-1,i=0;for(let o of n){let s=cf(o),a=FM(o);if(r==-1)s==0?r=a:e.push(a);else if(i>0&&i>=s)s==0?(e.push(r,...t),t.length=0,r=a):t.push(a),i=s;else{let c=HU(r,a);c>=0?r=c:i==0&&s==0?(e.push(r),r=a):(t.push(a),i=s)}}return r>=0&&e.push(r,...t),e}function UM(n){return BM(n).map(FM)}function GU(n){return zU(BM(n))}var DM=45;var VM=".",jM=65039,$M=1,Rg=n=>Array.from(n);function hf(n,e){return n.P.has(e)||n.Q.has(e)}var qw=class extends Array{get is_emoji(){return!0}},Kw,HM,ja,Qw,zM,WU,Hl,zw,$l,Va,SM,Zw;function Yw(){if(Kw)return;let n=TM(EU),e=()=>uf(n),t=()=>new Set(e()),r=(u,d)=>d.forEach(f=>u.add(f));Kw=new Map(kM(n)),HM=t(),ja=e(),Qw=new Set(e().map(u=>ja[u])),ja=new Set(ja),zM=t(),WU=t();let i=MM(n),o=n(),s=()=>{let u=new Set;return e().forEach(d=>r(u,i[d])),r(u,e()),u};Hl=df(u=>{let d=df(n).map(f=>f+96);if(d.length){let f=u>=o;d[0]-=32,d=zl(d),f&&(d=`Restricted[${d}]`);let p=s(),m=s(),b=!n();return{N:d,P:p,Q:m,M:b,R:f}}}),zw=t(),$l=new Map;let a=e().concat(Rg(zw)).sort((u,d)=>u-d);a.forEach((u,d)=>{let f=n(),p=a[d]=f?a[d-f]:{V:[],M:new Map};p.V.push(u),zw.has(u)||$l.set(u,p)});for(let{V:u,M:d}of new Set($l.values())){let f=[];for(let m of u){let b=Hl.filter(_=>hf(_,m)),w=f.find(({G:_})=>b.some(D=>_.has(D)));w||(w={G:new Set,V:[]},f.push(w)),w.V.push(m),r(w.G,b)}let p=f.flatMap(m=>Rg(m.G));for(let{G:m,V:b}of f){let w=new Set(p.filter(_=>!m.has(_)));for(let _ of b)d.set(_,w)}}Va=new Set;let c=new Set,l=u=>Va.has(u)?c.add(u):Va.add(u);for(let u of Hl){for(let d of u.P)l(d);for(let d of u.Q)l(d)}for(let u of Va)!$l.has(u)&&!c.has(u)&&$l.set(u,$M);r(Va,UM(Va)),SM=NU(n).map(u=>qw.from(u)).sort(PU),Zw=new Map;for(let u of SM){let d=[Zw];for(let f of u){let p=d.map(m=>{let b=m.get(f);return b||(b=new Map,m.set(f,b)),b});f===jM?d.push(...p):d=p}for(let f of d)f.V=u}}function Jw(n){return(GM(n)?"":`${Xw(Pg([n]))} `)+OM(n)}function Xw(n){return`"${n}"\u200E`}function qU(n){if(n.length>=4&&n[2]==DM&&n[3]==DM)throw new Error(`invalid label extension: "${zl(n.slice(0,4))}"`)}function KU(n){for(let t=n.lastIndexOf(95);t>0;)if(n[--t]!==95)throw new Error("underscore allowed only at start")}function QU(n){let e=n[0],t=EM.get(e);if(t)throw lf(`leading ${t}`);let r=n.length,i=-1;for(let o=1;o<r;o++){e=n[o];let s=EM.get(e);if(s){if(i==o)throw lf(`${t} + ${s}`);i=o+1,t=s}}if(i==r)throw lf(`trailing ${t}`)}function Pg(n,e=1/0,t=OM){let r=[];ZU(n[0])&&r.push("\u25CC"),n.length>e&&(e>>=1,n=[...n.slice(0,e),8230,...n.slice(-e)]);let i=0,o=n.length;for(let s=0;s<o;s++){let a=n[s];GM(a)&&(r.push(zl(n.slice(i,s))),r.push(t(a)),i=s+1)}return r.push(zl(n.slice(i,o))),r.join("")}function ZU(n){return Yw(),ja.has(n)}function GM(n){return Yw(),zM.has(n)}function WM(n){return eV(YU(n,GU,rV))}function YU(n,e,t){if(!n)return[];Yw();let r=0;return n.split(VM).map(i=>{let o=RU(i),s={input:o,offset:r};r+=o.length+1;try{let a=s.tokens=nV(o,e,t),c=a.length,l;if(!c)throw new Error("empty label");let u=s.output=a.flat();if(KU(u),!(s.emoji=c>1||a[0].is_emoji)&&u.every(f=>f<128))qU(u),l="ASCII";else{let f=a.flatMap(p=>p.is_emoji?[]:p);if(!f.length)l="Emoji";else{if(ja.has(u[0]))throw lf("leading combining mark");for(let b=1;b<c;b++){let w=a[b];if(!w.is_emoji&&ja.has(w[0]))throw lf(`emoji + combining mark: "${zl(a[b-1])} + ${Pg([w[0]])}"`)}QU(u);let p=Rg(new Set(f)),[m]=XU(p);tV(m,f),JU(m,p),l=m.N}}s.type=l}catch(a){s.error=a}return s})}function JU(n,e){let t,r=[];for(let i of e){let o=$l.get(i);if(o===$M)return;if(o){let s=o.M.get(i);if(t=t?t.filter(a=>s.has(a)):Rg(s),!t.length)return}else r.push(i)}if(t){for(let i of t)if(r.every(o=>hf(i,o)))throw new Error(`whole-script confusable: ${n.N}/${i.N}`)}}function XU(n){let e=Hl;for(let t of n){let r=e.filter(i=>hf(i,t));if(!r.length)throw Hl.some(i=>hf(i,t))?KM(e[0],t):qM(t);if(e=r,r.length==1)break}return e}function eV(n){return n.map(({input:e,error:t,output:r})=>{if(t){let i=t.message;throw new Error(n.length==1?i:`Invalid label ${Xw(Pg(e,63))}: ${i}`)}return zl(r)}).join(VM)}function qM(n){return new Error(`disallowed character: ${Jw(n)}`)}function KM(n,e){let t=Jw(e),r=Hl.find(i=>i.P.has(e));return r&&(t=`${r.N} ${t}`),new Error(`illegal mixture: ${n.N} + ${t}`)}function lf(n){return new Error(`illegal placement: ${n}`)}function tV(n,e){for(let t of e)if(!hf(n,t))throw KM(n,t);if(n.M){let t=UM(e);for(let r=1,i=t.length;r<i;r++)if(Qw.has(t[r])){let o=r+1;for(let s;o<i&&Qw.has(s=t[o]);o++)for(let a=r;a<o;a++)if(t[a]==s)throw new Error(`duplicate non-spacing marks: ${Jw(s)}`);if(o-r>AM)throw new Error(`excessive non-spacing marks: ${Xw(Pg(t.slice(r-1,o)))} (${o-r}/${AM})`);r=o}}}function nV(n,e,t){let r=[],i=[];for(n=n.slice().reverse();n.length;){let o=iV(n);if(o)i.length&&(r.push(e(i)),i=[]),r.push(t(o));else{let s=n.pop();if(Va.has(s))i.push(s);else{let a=Kw.get(s);if(a)i.push(...a);else if(!HM.has(s))throw qM(s)}}}return i.length&&r.push(e(i)),r}function rV(n){return n.filter(e=>e!=jM)}function iV(n,e){let t=Zw,r,i=n.length;for(;i&&(t=t.get(n[--i]),!!t);){let{V:o}=t;o&&(r=o,e&&e.push(...n.slice(i).reverse()),n.length=i)}return r}var ZM=new Uint8Array(32);ZM.fill(0);function QM(n){return g(n.length!==0,"invalid ENS name; empty component","comp",n),n}function e1(n){let e=qe(Fg(n)),t=[];if(n.length===0)return t;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(t.push(QM(e.slice(r,i))),r=i+1);return g(r<e.length,"invalid ENS name; empty component","name",n),t.push(QM(e.slice(r))),t}function Fg(n){try{if(n.length===0)throw new Error("empty label");return WM(n)}catch(e){g(!1,`invalid ENS name (${e.message})`,"name",n)}}function t1(n){try{return e1(n).length!==0}catch{}return!1}function ys(n){g(typeof n=="string","invalid ENS name; not a string","name",n),g(n.length,"invalid ENS name (empty label)","name",n);let e=ZM,t=e1(n);for(;t.length;)e=he(te([e,he(t.pop())]));return S(e)}function pf(n,e){let t=e??63;return g(t<=255,"DNS encoded label cannot exceed 255","length",t),S(te(e1(n).map(r=>{g(r.length<=t,`label ${JSON.stringify(n)} exceeds ${t} bytes`,"name",n);let i=new Uint8Array(r.length+1);return i.set(r,1),i[0]=i.length-1,i})))+"00"}function Wl(n){return typeof n=="string"&&(n=qe(n)),he(te([qe(sf),qe(String(n.length)),n]))}function n1(n,e){let t=Wl(n);return ci(t,e)}var oV=new RegExp("^bytes([0-9]+)$"),sV=new RegExp("^(u?int)([0-9]*)$"),aV=new RegExp("^(.*)\\[([0-9]*)\\]$");function YM(n,e,t){switch(n){case"address":return t?M(Bt(e,32)):M(J(e));case"string":return qe(e);case"bytes":return M(e);case"bool":return e=e?"0x01":"0x00",t?M(Bt(e,32)):M(e)}let r=n.match(sV);if(r){let i=r[1]==="int",o=parseInt(r[2]||"256");return g((!r[2]||r[2]===String(o))&&o%8===0&&o!==0&&o<=256,"invalid number type","type",n),t&&(o=256),i&&(e=co(e,o)),M(Bt(We(e),o/8))}if(r=n.match(oV),r){let i=parseInt(r[1]);return g(String(i)===r[1]&&i!==0&&i<=32,"invalid bytes type","type",n),g(qn(e)===i,`invalid value for ${n}`,"value",e),t?M(so(e,32)):e}if(r=n.match(aV),r&&Array.isArray(e)){let i=r[1],o=parseInt(r[2]||String(e.length));g(o===e.length,`invalid array length for ${n}`,"value",e);let s=[];return e.forEach(function(a){s.push(YM(i,a,!0))}),M(te(s))}g(!1,"invalid type","type",n)}function mf(n,e){g(n.length===e.length,"wrong number of values; expected ${ types.length }","values",e);let t=[];return n.forEach(function(r,i){t.push(YM(r,e[i]))}),S(te(t))}function r1(n,e){return he(mf(n,e))}function i1(n,e){return Ut(mf(n,e))}var tk=new Uint8Array(32);tk.fill(0);var cV=BigInt(-1),nk=BigInt(0),rk=BigInt(1),lV=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function uV(n){let e=M(n),t=e.length%32;return t?te([e,tk.slice(t)]):S(e)}var dV=nn(rk,32),fV=nn(nk,32),JM={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},o1=["name","version","chainId","verifyingContract","salt"];function XM(n){return function(e){return g(typeof e=="string",`invalid domain value for ${JSON.stringify(n)}`,`domain.${n}`,e),e}}var hV={name:XM("name"),version:XM("version"),chainId:function(n){let e=R(n,"domain.chainId");return g(e>=0,"invalid chain ID","domain.chainId",n),Number.isSafeInteger(e)?Number(e):Yt(e)},verifyingContract:function(n){try{return J(n).toLowerCase()}catch{}g(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",n)},salt:function(n){let e=M(n,"domain.salt");return g(e.length===32,'invalid domain value "salt"',"domain.salt",n),S(e)}};function s1(n){{let e=n.match(/^(u?)int(\d+)$/);if(e){let t=e[1]==="",r=parseInt(e[2]);g(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",n);let i=nr(lV,t?r-1:r),o=t?(i+rk)*cV:nk;return function(s){let a=R(s,"value");return g(a>=o&&a<=i,`value out-of-bounds for ${n}`,"value",a),nn(t?co(a,256):a,32)}}}{let e=n.match(/^bytes(\d+)$/);if(e){let t=parseInt(e[1]);return g(t!==0&&t<=32&&e[1]===String(t),"invalid bytes width","type",n),function(r){let i=M(r);return g(i.length===t,`invalid length for ${n}`,"value",r),uV(r)}}}switch(n){case"address":return function(e){return Bt(J(e),32)};case"bool":return function(e){return e?dV:fV};case"bytes":return function(e){return he(e)};case"string":return function(e){return dn(e)}}return null}function ek(n,e){return`${n}(${e.map(({name:t,type:r})=>r+" "+t).join(",")})`}function Lg(n){let e=n.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:n}}var Ir=class n{primaryType;#e;get types(){return JSON.parse(this.#e)}#t;#n;constructor(e){this.#t=new Map,this.#n=new Map;let t=new Map,r=new Map,i=new Map,o={};Object.keys(e).forEach(c=>{o[c]=e[c].map(({name:l,type:u})=>{let{base:d,index:f}=Lg(u);return d==="int"&&!e.int&&(d="int256"),d==="uint"&&!e.uint&&(d="uint256"),{name:l,type:d+(f||"")}}),t.set(c,new Set),r.set(c,[]),i.set(c,new Set)}),this.#e=JSON.stringify(o);for(let c in o){let l=new Set;for(let u of o[c]){g(!l.has(u.name),`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(c)}`,"types",e),l.add(u.name);let d=Lg(u.type).base;g(d!==c,`circular type reference to ${JSON.stringify(d)}`,"types",e),!s1(d)&&(g(r.has(d),`unknown type ${JSON.stringify(d)}`,"types",e),r.get(d).push(c),t.get(c).add(d))}}let s=Array.from(r.keys()).filter(c=>r.get(c).length===0);g(s.length!==0,"missing primary type","types",e),g(s.length===1,`ambiguous primary types or unused types: ${s.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),k(this,{primaryType:s[0]});function a(c,l){g(!l.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),l.add(c);for(let u of t.get(c))if(r.has(u)){a(u,l);for(let d of l)i.get(d).add(u)}l.delete(c)}a(this.primaryType,new Set);for(let[c,l]of i){let u=Array.from(l);u.sort(),this.#t.set(c,ek(c,o[c])+u.map(d=>ek(d,o[d])).join(""))}}getEncoder(e){let t=this.#n.get(e);return t||(t=this.#r(e),this.#n.set(e,t)),t}#r(e){{let i=s1(e);if(i)return i}let t=Lg(e).array;if(t){let i=t.prefix,o=this.getEncoder(i);return s=>{g(t.count===-1||t.count===s.length,`array length mismatch; expected length ${t.count}`,"value",s);let a=s.map(o);return this.#t.has(i)&&(a=a.map(he)),he(te(a))}}let r=this.types[e];if(r){let i=dn(this.#t.get(e));return o=>{let s=r.map(({name:a,type:c})=>{let l=this.getEncoder(c)(o[a]);return this.#t.has(c)?he(l):l});return s.unshift(i),te(s)}}g(!1,`unknown type: ${e}`,"type",e)}encodeType(e){let t=this.#t.get(e);return g(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return he(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(s1(e))return r(e,t);let i=Lg(e).array;if(i)return g(i.count===-1||i.count===t.length,`array length mismatch; expected length ${i.count}`,"value",t),t.map(s=>this._visit(i.prefix,s,r));let o=this.types[e];if(o)return o.reduce((s,{name:a,type:c})=>(s[a]=this._visit(c,t[a],r),s),{});g(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new n(e)}static getPrimaryType(e){return n.from(e).primaryType}static hashStruct(e,t,r){return n.from(t).hashStruct(e,r)}static hashDomain(e){let t=[];for(let r in e){if(e[r]==null)continue;let i=JM[r];g(i,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:i})}return t.sort((r,i)=>o1.indexOf(r.name)-o1.indexOf(i.name)),n.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return te(["0x1901",n.hashDomain(e),n.from(t).hash(r)])}static hash(e,t,r){return he(n.encode(e,t,r))}static resolveNames(e,t,r,i){return h(this,null,function*(){e=Object.assign({},e);for(let a in e)e[a]==null&&delete e[a];let o={};e.verifyingContract&&!me(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");let s=n.from(t);s.visit(r,(a,c)=>(a==="address"&&!me(c,20)&&(o[c]="0x"),c));for(let a in o)o[a]=yield i(a);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),r=s.visit(r,(a,c)=>a==="address"&&o[c]?o[c]:c),{domain:e,value:r}})}static getPayload(e,t,r){n.hashDomain(e);let i={},o=[];o1.forEach(c=>{let l=e[c];l!=null&&(i[c]=hV[c](l),o.push({name:c,type:JM[c]}))});let s=n.from(t);t=s.types;let a=Object.assign({},t);return g(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",t),a.EIP712Domain=o,s.encode(r),{types:a,domain:i,primaryType:s.primaryType,message:s.visit(r,(c,l)=>{if(c.match(/^bytes(\d*)/))return S(M(l));if(c.match(/^u?int/))return R(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return g(typeof l=="string","invalid string","value",l),l}g(!1,"unsupported type","type",c)})}}};function a1(n,e,t,r){return ci(Ir.hash(n,e,t),r)}function Nn(n){let e=new Set;return n.forEach(t=>e.add(t)),Object.freeze(e)}var pV="external public payable override",mV=Nn(pV.split(" ")),hk="constant external internal payable private public pure view override",gV=Nn(hk.split(" ")),pk="constructor error event fallback function receive struct",mk=Nn(pk.split(" ")),gk="calldata memory storage payable indexed",bV=Nn(gk.split(" ")),yV="tuple returns",vV=[pk,gk,yV,hk].join(" "),xV=Nn(vV.split(" ")),wV={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},_V=new RegExp("^(\\s*)"),CV=new RegExp("^([0-9]+)"),EV=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),bk=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),yk=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$"),li=class n{#e;#t;get offset(){return this.#e}get length(){return this.#t.length-this.#e}constructor(e){this.#e=0,this.#t=e.slice()}clone(){return new n(this.#t)}reset(){this.#e=0}#n(e=0,t=0){return new n(this.#t.slice(e,t).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))}popKeyword(e){let t=this.peek();if(t.type!=="KEYWORD"||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){let t=this.peek();throw new Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){let e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");let t=this.#n(this.#e+1,e.match+1);return this.#e=e.match+1,t}popParams(){let e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");let t=[];for(;this.#e<e.match-1;){let r=this.peek().linkNext;t.push(this.#n(this.#e+1,r)),this.#e=r}return this.#e=e.match+1,t}peek(){if(this.#e>=this.#t.length)throw new Error("out-of-bounds");return this.#t[this.#e]}peekKeyword(e){let t=this.peekType("KEYWORD");return t!=null&&e.has(t)?t:null}peekType(e){if(this.length===0)return null;let t=this.peek();return t.type===e?t.text:null}pop(){let e=this.peek();return this.#e++,e}toString(){let e=[];for(let t=this.#e;t<this.#t.length;t++){let r=this.#t[t];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}};function xs(n){let e=[],t=s=>{let a=o<n.length?JSON.stringify(n[o]):"$EOI";throw new Error(`invalid token ${a} at ${o}: ${s}`)},r=[],i=[],o=0;for(;o<n.length;){let s=n.substring(o),a=s.match(_V);a&&(o+=a[1].length,s=n.substring(o));let c={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:o,value:-1};e.push(c);let l=wV[s[0]]||"";if(l){if(c.type=l,c.text=s[0],o++,l==="OPEN_PAREN")r.push(e.length-1),i.push(e.length-1);else if(l=="CLOSE_PAREN")r.length===0&&t("no matching open bracket"),c.match=r.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=i.pop(),e[c.linkBack].linkNext=e.length-1;else if(l==="COMMA")c.linkBack=i.pop(),e[c.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(l==="OPEN_BRACKET")c.type="BRACKET";else if(l==="CLOSE_BRACKET"){let u=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){let d=e.pop().text;u=d+u,e[e.length-1].value=Z(d)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=u}continue}if(a=s.match(EV),a){if(c.text=a[1],o+=c.text.length,xV.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(yk)){c.type="TYPE";continue}c.type="ID";continue}if(a=s.match(CV),a){c.text=a[1],c.type="NUMBER",o+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(s[0])} at position ${o}`)}return new li(e.map(s=>Object.freeze(s)))}function ik(n,e){let t=[];for(let r in e.keys())n.has(r)&&t.push(r);if(t.length>1)throw new Error(`conflicting types: ${t.join(", ")}`)}function Bg(n,e){if(e.peekKeyword(mk)){let t=e.pop().text;if(t!==n)throw new Error(`expected ${n}, got ${t}`)}return e.popType("ID")}function yo(n,e){let t=new Set;for(;;){let r=n.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(n.pop(),t.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);t.add(r)}return Object.freeze(t)}function vk(n){let e=yo(n,gV);return ik(e,Nn("constant payable nonpayable".split(" "))),ik(e,Nn("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function bo(n,e){return n.popParams().map(t=>Tt.from(t,e))}function xk(n){if(n.peekType("AT")){if(n.pop(),n.peekType("NUMBER"))return R(n.pop().text);throw new Error("invalid gas")}return null}function $a(n){if(n.length)throw new Error(`unexpected tokens at offset ${n.offset}: ${n.toString()}`)}var AV=new RegExp(/^(.*)\[([0-9]*)\]$/);function ok(n){let e=n.match(yk);if(g(e,"invalid type","type",n),n==="uint")return"uint256";if(n==="int")return"int256";if(e[2]){let t=parseInt(e[2]);g(t!==0&&t<=32,"invalid bytes length","type",n)}else if(e[3]){let t=parseInt(e[3]);g(t!==0&&t<=256&&t%8===0,"invalid numeric width","type",n)}return n}var Ct={},Kn=Symbol.for("_ethers_internal"),sk="_ParamTypeInternal",ak="_ErrorInternal",ck="_EventInternal",lk="_ConstructorInternal",uk="_FallbackInternal",dk="_FunctionInternal",fk="_StructInternal",Tt=class n{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,t,r,i,o,s,a,c){if(an(e,Ct,"ParamType"),Object.defineProperty(this,Kn,{value:sk}),s&&(s=Object.freeze(s.slice())),i==="array"){if(a==null||c==null)throw new Error("")}else if(a!=null||c!=null)throw new Error("");if(i==="tuple"){if(s==null)throw new Error("")}else if(s!=null)throw new Error("");k(this,{name:t,type:r,baseType:i,indexed:o,components:s,arrayLength:a,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){let r=this.name||"";if(this.isArray()){let o=JSON.parse(this.arrayChildren.format("json"));return o.name=r,o.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(o)}let i={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(o=>JSON.parse(o.format(e)))),JSON.stringify(i)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":t+=this.type,e!=="sighash"&&(this.indexed===!0&&(t+=" indexed"),e==="full"&&this.name&&(t+=" "+this.name)),t}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");let r=this;return e.map(i=>r.arrayChildren.walk(i,t))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");let r=this;return e.map((i,o)=>r.components[o].walk(i,t))}return t(this.type,e)}#e(e,t,r,i){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");let s=this.arrayChildren,a=t.slice();a.forEach((c,l)=>{s.#e(e,c,r,u=>{a[l]=u})}),i(a);return}if(this.isTuple()){let s=this.components,a;if(Array.isArray(t))a=t.slice();else{if(t==null||typeof t!="object")throw new Error("invalid tuple value");a=s.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in t))throw new Error(`missing value for component ${c.name}`);return t[c.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((c,l)=>{s[l].#e(e,c,r,u=>{a[l]=u})}),i(a);return}let o=r(this.type,t);o.then?e.push(function(){return h(this,null,function*(){i(yield o)})}()):i(o)}walkAsync(e,t){return h(this,null,function*(){let r=[],i=[e];return this.#e(r,e,t,o=>{i[0]=o}),r.length&&(yield Promise.all(r)),i[0]})}static from(e,t){if(n.isParamType(e))return e;if(typeof e=="string")try{return n.from(xs(e),t)}catch{g(!1,"invalid param type","obj",e)}else if(e instanceof li){let a="",c="",l=null;yo(e,Nn(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",l=e.popParams().map(b=>n.from(b)),a=`tuple(${l.map(b=>b.format()).join(",")})`):(a=ok(e.popType("TYPE")),c=a);let u=null,d=null;for(;e.length&&e.peekType("BRACKET");){let b=e.pop();u=new n(Ct,"",a,c,null,l,d,u),d=b.value,a+=b.text,c="array",l=null}let f=null;if(yo(e,bV).has("indexed")){if(!t)throw new Error("");f=!0}let m=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new n(Ct,m,a,c,f,l,d,u)}let r=e.name;g(!r||typeof r=="string"&&r.match(bk),"invalid name","obj.name",r);let i=e.indexed;i!=null&&(g(t,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let o=e.type,s=o.match(AV);if(s){let a=parseInt(s[2]||"-1"),c=n.from({type:s[1],components:e.components});return new n(Ct,r||"",o,"array",i,null,a,c)}if(o==="tuple"||o.startsWith("tuple(")||o.startsWith("(")){let a=e.components!=null?e.components.map(l=>n.from(l)):null;return new n(Ct,r||"",o,"tuple",i,a,null,null)}return o=ok(e.type),new n(Ct,r||"",o,o,i,null,null,null)}static isParamType(e){return e&&e[Kn]===sk}},ki=class n{type;inputs;constructor(e,t,r){an(e,Ct,"Fragment"),r=Object.freeze(r.slice()),k(this,{type:t,inputs:r})}static from(e){if(typeof e=="string"){try{n.from(JSON.parse(e))}catch{}return n.from(xs(e))}if(e instanceof li)switch(e.peekKeyword(mk)){case"constructor":return Ti.from(e);case"error":return On.from(e);case"event":return Si.from(e);case"fallback":case"receive":return Ha.from(e);case"function":return Mi.from(e);case"struct":return vs.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Ti.from(e);case"error":return On.from(e);case"event":return Si.from(e);case"fallback":case"receive":return Ha.from(e);case"function":return Mi.from(e);case"struct":return vs.from(e)}E(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}g(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Ti.isFragment(e)}static isError(e){return On.isFragment(e)}static isEvent(e){return Si.isFragment(e)}static isFunction(e){return Mi.isFragment(e)}static isStruct(e){return vs.isFragment(e)}},vo=class extends ki{name;constructor(e,t,r,i){super(e,t,i),g(typeof r=="string"&&r.match(bk),"invalid identifier","name",r),i=Object.freeze(i.slice()),k(this,{name:r})}};function gf(n,e){return"("+e.map(t=>t.format(n)).join(n==="full"?", ":",")+")"}var On=class n extends vo{constructor(e,t,r){super(e,"error",t,r),Object.defineProperty(this,Kn,{value:ak})}get selector(){return dn(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});let t=[];return e!=="sighash"&&t.push("error"),t.push(this.name+gf(e,this.inputs)),t.join(" ")}static from(e){if(n.isFragment(e))return e;if(typeof e=="string")return n.from(xs(e));if(e instanceof li){let t=Bg("error",e),r=bo(e);return $a(e),new n(Ct,t,r)}return new n(Ct,e.name,e.inputs?e.inputs.map(Tt.from):[])}static isFragment(e){return e&&e[Kn]===ak}},Si=class n extends vo{anonymous;constructor(e,t,r,i){super(e,"event",t,r),Object.defineProperty(this,Kn,{value:ck}),k(this,{anonymous:i})}get topicHash(){return dn(this.format("sighash"))}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});let t=[];return e!=="sighash"&&t.push("event"),t.push(this.name+gf(e,this.inputs)),e!=="sighash"&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){return t=(t||[]).map(i=>Tt.from(i)),new n(Ct,e,t,!1).topicHash}static from(e){if(n.isFragment(e))return e;if(typeof e=="string")try{return n.from(xs(e))}catch{g(!1,"invalid event fragment","obj",e)}else if(e instanceof li){let t=Bg("event",e),r=bo(e,!0),i=!!yo(e,Nn(["anonymous"])).has("anonymous");return $a(e),new n(Ct,t,r,i)}return new n(Ct,e.name,e.inputs?e.inputs.map(t=>Tt.from(t,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[Kn]===ck}},Ti=class n extends ki{payable;gas;constructor(e,t,r,i,o){super(e,t,r),Object.defineProperty(this,Kn,{value:lk}),k(this,{payable:i,gas:o})}format(e){if(E(e!=null&&e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});let t=[`constructor${gf(e,this.inputs)}`];return this.payable&&t.push("payable"),this.gas!=null&&t.push(`@${this.gas.toString()}`),t.join(" ")}static from(e){if(n.isFragment(e))return e;if(typeof e=="string")try{return n.from(xs(e))}catch{g(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof li){yo(e,Nn(["constructor"]));let t=bo(e),r=!!yo(e,mV).has("payable"),i=xk(e);return $a(e),new n(Ct,"constructor",t,r,i)}return new n(Ct,"constructor",e.inputs?e.inputs.map(Tt.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Kn]===lk}},Ha=class n extends ki{payable;constructor(e,t,r){super(e,"fallback",t),Object.defineProperty(this,Kn,{value:uk}),k(this,{payable:r})}format(e){let t=this.inputs.length===0?"receive":"fallback";if(e==="json"){let r=this.payable?"payable":"nonpayable";return JSON.stringify({type:t,stateMutability:r})}return`${t}()${this.payable?" payable":""}`}static from(e){if(n.isFragment(e))return e;if(typeof e=="string")try{return n.from(xs(e))}catch{g(!1,"invalid fallback fragment","obj",e)}else if(e instanceof li){let t=e.toString(),r=e.peekKeyword(Nn(["fallback","receive"]));if(g(r,"type must be fallback or receive","obj",t),e.popKeyword(Nn(["fallback","receive"]))==="receive"){let a=bo(e);return g(a.length===0,"receive cannot have arguments","obj.inputs",a),yo(e,Nn(["payable"])),$a(e),new n(Ct,[],!0)}let o=bo(e);o.length?g(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(a=>a.format("minimal")).join(", ")):o=[Tt.from("bytes")];let s=vk(e);if(g(s==="nonpayable"||s==="payable","fallback cannot be constants","obj.stateMutability",s),yo(e,Nn(["returns"])).has("returns")){let a=bo(e);g(a.length===1&&a[0].type==="bytes","invalid fallback outputs","obj.outputs",a.map(c=>c.format("minimal")).join(", "))}return $a(e),new n(Ct,o,s==="payable")}if(e.type==="receive")return new n(Ct,[],!0);if(e.type==="fallback"){let t=[Tt.from("bytes")],r=e.stateMutability==="payable";return new n(Ct,t,r)}g(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[Kn]===uk}},Mi=class n extends vo{constant;outputs;stateMutability;payable;gas;constructor(e,t,r,i,o,s){super(e,"function",t,i),Object.defineProperty(this,Kn,{value:dk}),o=Object.freeze(o.slice()),k(this,{constant:r==="view"||r==="pure",gas:s,outputs:o,payable:r==="payable",stateMutability:r})}get selector(){return dn(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e))),outputs:this.outputs.map(r=>JSON.parse(r.format(e)))});let t=[];return e!=="sighash"&&t.push("function"),t.push(this.name+gf(e,this.inputs)),e!=="sighash"&&(this.stateMutability!=="nonpayable"&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(gf(e,this.outputs))),this.gas!=null&&t.push(`@${this.gas.toString()}`)),t.join(" ")}static getSelector(e,t){return t=(t||[]).map(i=>Tt.from(i)),new n(Ct,e,"view",t,[],null).selector}static from(e){if(n.isFragment(e))return e;if(typeof e=="string")try{return n.from(xs(e))}catch{g(!1,"invalid function fragment","obj",e)}else if(e instanceof li){let r=Bg("function",e),i=bo(e),o=vk(e),s=[];yo(e,Nn(["returns"])).has("returns")&&(s=bo(e));let a=xk(e);return $a(e),new n(Ct,r,o,i,s,a)}let t=e.stateMutability;return t==null&&(t="payable",typeof e.constant=="boolean"?(t="view",e.constant||(t="payable",typeof e.payable=="boolean"&&!e.payable&&(t="nonpayable"))):typeof e.payable=="boolean"&&!e.payable&&(t="nonpayable")),new n(Ct,e.name,t,e.inputs?e.inputs.map(Tt.from):[],e.outputs?e.outputs.map(Tt.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Kn]===dk}},vs=class n extends vo{constructor(e,t,r){super(e,"struct",t,r),Object.defineProperty(this,Kn,{value:fk})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return n.from(xs(e))}catch{g(!1,"invalid struct fragment","obj",e)}else if(e instanceof li){let t=Bg("struct",e),r=bo(e);return $a(e),new n(Ct,t,r)}return new n(Ct,e.name,e.inputs?e.inputs.map(Tt.from):[])}static isFragment(e){return e&&e[Kn]===fk}};var ui=new Map;ui.set(0,"GENERIC_PANIC");ui.set(1,"ASSERT_FALSE");ui.set(17,"OVERFLOW");ui.set(18,"DIVIDE_BY_ZERO");ui.set(33,"ENUM_RANGE_ERROR");ui.set(34,"BAD_STORAGE_DATA");ui.set(49,"STACK_UNDERFLOW");ui.set(50,"ARRAY_RANGE_ERROR");ui.set(65,"OUT_OF_MEMORY");ui.set(81,"UNINITIALIZED_FUNCTION_CALL");var IV=new RegExp(/^bytes([0-9]*)$/),DV=new RegExp(/^(u?int)([0-9]*)$/),c1=null,wk=1024;function SV(n,e,t,r){let i="missing revert data",o=null,s=null,a=null;if(t){i="execution reverted";let l=M(t);if(t=S(t),l.length===0)i+=" (no data present; likely require(false) occurred",o="require(false)";else if(l.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(S(l.slice(0,4))==="0x08c379a0")try{o=r.decode(["string"],l.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[o]},i+=`: ${JSON.stringify(o)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(S(l.slice(0,4))==="0x4e487b71")try{let u=Number(r.decode(["uint256"],l.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[u]},o=`Panic due to ${ui.get(u)||"UNKNOWN"}(${u})`,i+=`: ${o}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}let c={to:e.to?J(e.to):null,data:e.data||"0x"};return e.from&&(c.from=J(e.from)),Ie(i,"CALL_EXCEPTION",{action:n,data:t,reason:o,transaction:c,invocation:s,revert:a})}var Dr=class n{#e(e){if(e.isArray())return new vg(this.#e(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new La(e.components.map(r=>this.#e(r)),e.name);switch(e.baseType){case"address":return new bg(e.name);case"bool":return new xg(e.name);case"string":return new Ag(e.name);case"bytes":return new wg(e.name);case"":return new Cg(e.name)}let t=e.type.match(DV);if(t){let r=parseInt(t[2]||"256");return g(r!==0&&r<=256&&r%8===0,"invalid "+t[1]+" bit length","param",e),new Eg(r/8,t[1]==="int",e.name)}if(t=e.type.match(IV),t){let r=parseInt(t[1]);return g(r!==0&&r<=32,"invalid bytes length","param",e),new _g(r,e.name)}g(!1,"invalid type","type",e.type)}getDefaultValue(e){let t=e.map(i=>this.#e(Tt.from(i)));return new La(t,"_").defaultValue()}encode(e,t){Ca(t.length,e.length,"types/values length mismatch");let r=e.map(s=>this.#e(Tt.from(s))),i=new La(r,"_"),o=new Ta;return i.encode(o,t),o.data}decode(e,t,r){let i=e.map(s=>this.#e(Tt.from(s)));return new La(i,"_").decode(new Jm(t,r,wk))}static _setDefaultMaxInflation(e){g(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),wk=e}static defaultAbiCoder(){return c1==null&&(c1=new n),c1}static getBuiltinCallException(e,t,r){return SV(e,t,r,n.defaultAbiCoder())}};function l1(n){let e=qe(n);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return so(e,32)}function u1(n){let e=M(n,"bytes");if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let t=31;for(;e[t-1]===0;)t--;return Tn(e.slice(0,t))}var ql=class{fragment;name;signature;topic;args;constructor(e,t,r){let i=e.name,o=e.format();k(this,{fragment:e,name:i,signature:o,topic:t,args:r})}},Kl=class{fragment;name;args;signature;selector;value;constructor(e,t,r,i){let o=e.name,s=e.format();k(this,{fragment:e,name:o,args:r,signature:s,selector:t,value:i})}},Ql=class{fragment;name;args;signature;selector;constructor(e,t,r){let i=e.name,o=e.format();k(this,{fragment:e,name:i,args:r,signature:o,selector:t})}},za=class{hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){k(this,{hash:e,_isIndexed:!0})}},_k={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Ck={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:n=>`reverted with reason string ${JSON.stringify(n)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:n=>{let e="unknown panic code";return n>=0&&n<=255&&_k[n.toString()]&&(e=_k[n.toString()]),`reverted with panic code 0x${n.toString(16)} (${e})`}}},xo=class n{fragments;deploy;fallback;receive;#e;#t;#n;#r;constructor(e){let t=[];typeof e=="string"?t=JSON.parse(e):t=e,this.#n=new Map,this.#e=new Map,this.#t=new Map;let r=[];for(let s of t)try{r.push(ki.from(s))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(s)}:`,a.message)}k(this,{fragments:Object.freeze(r)});let i=null,o=!1;this.#r=this.getAbiCoder(),this.fragments.forEach((s,a)=>{let c;switch(s.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}k(this,{deploy:s});return;case"fallback":s.inputs.length===0?o=!0:(g(!i||s.payable!==i.payable,"conflicting fallback fragments",`fragments[${a}]`,s),i=s,o=i.payable);return;case"function":c=this.#n;break;case"event":c=this.#t;break;case"error":c=this.#e;break;default:return}let l=s.format();c.has(l)||c.set(l,s)}),this.deploy||k(this,{deploy:Ti.from("constructor()")}),k(this,{fallback:i,receive:o})}format(e){let t=e?"minimal":"full";return this.fragments.map(i=>i.format(t))}formatJson(){let e=this.fragments.map(t=>t.format("json"));return JSON.stringify(e.map(t=>JSON.parse(t)))}getAbiCoder(){return Dr.defaultAbiCoder()}#i(e,t,r){if(me(e)){let o=e.toLowerCase();for(let s of this.#n.values())if(o===s.selector)return s;return null}if(e.indexOf("(")===-1){let o=[];for(let[s,a]of this.#n)s.split("(")[0]===e&&o.push(a);if(t){let s=t.length>0?t[t.length-1]:null,a=t.length,c=!0;nt.isTyped(s)&&s.type==="overrides"&&(c=!1,a--);for(let l=o.length-1;l>=0;l--){let u=o[l].inputs.length;u!==a&&(!c||u!==a-1)&&o.splice(l,1)}for(let l=o.length-1;l>=0;l--){let u=o[l].inputs;for(let d=0;d<t.length;d++)if(nt.isTyped(t[d])){if(d>=u.length){if(t[d].type==="overrides")continue;o.splice(l,1);break}if(t[d].type!==u[d].baseType){o.splice(l,1);break}}}}if(o.length===1&&t&&t.length!==o[0].inputs.length){let s=t[t.length-1];(s==null||Array.isArray(s)||typeof s!="object")&&o.splice(0,1)}if(o.length===0)return null;if(o.length>1&&r){let s=o.map(a=>JSON.stringify(a.format())).join(", ");g(!1,`ambiguous function description (i.e. matches ${s})`,"key",e)}return o[0]}let i=this.#n.get(Mi.from(e).format());return i||null}getFunctionName(e){let t=this.#i(e,null,!1);return g(t,"no matching function","key",e),t.name}hasFunction(e){return!!this.#i(e,null,!1)}getFunction(e,t){return this.#i(e,t||null,!0)}forEachFunction(e){let t=Array.from(this.#n.keys());t.sort((r,i)=>r.localeCompare(i));for(let r=0;r<t.length;r++){let i=t[r];e(this.#n.get(i),r)}}#s(e,t,r){if(me(e)){let o=e.toLowerCase();for(let s of this.#t.values())if(o===s.topicHash)return s;return null}if(e.indexOf("(")===-1){let o=[];for(let[s,a]of this.#t)s.split("(")[0]===e&&o.push(a);if(t){for(let s=o.length-1;s>=0;s--)o[s].inputs.length<t.length&&o.splice(s,1);for(let s=o.length-1;s>=0;s--){let a=o[s].inputs;for(let c=0;c<t.length;c++)if(nt.isTyped(t[c])&&t[c].type!==a[c].baseType){o.splice(s,1);break}}}if(o.length===0)return null;if(o.length>1&&r){let s=o.map(a=>JSON.stringify(a.format())).join(", ");g(!1,`ambiguous event description (i.e. matches ${s})`,"key",e)}return o[0]}let i=this.#t.get(Si.from(e).format());return i||null}getEventName(e){let t=this.#s(e,null,!1);return g(t,"no matching event","key",e),t.name}hasEvent(e){return!!this.#s(e,null,!1)}getEvent(e,t){return this.#s(e,t||null,!0)}forEachEvent(e){let t=Array.from(this.#t.keys());t.sort((r,i)=>r.localeCompare(i));for(let r=0;r<t.length;r++){let i=t[r];e(this.#t.get(i),r)}}getError(e,t){if(me(e)){let i=e.toLowerCase();if(Ck[i])return On.from(Ck[i].signature);for(let o of this.#e.values())if(i===o.selector)return o;return null}if(e.indexOf("(")===-1){let i=[];for(let[o,s]of this.#e)o.split("(")[0]===e&&i.push(s);if(i.length===0)return e==="Error"?On.from("error Error(string)"):e==="Panic"?On.from("error Panic(uint256)"):null;if(i.length>1){let o=i.map(s=>JSON.stringify(s.format())).join(", ");g(!1,`ambiguous error description (i.e. ${o})`,"name",e)}return i[0]}if(e=On.from(e).format(),e==="Error(string)")return On.from("error Error(string)");if(e==="Panic(uint256)")return On.from("error Panic(uint256)");let r=this.#e.get(e);return r||null}forEachError(e){let t=Array.from(this.#e.keys());t.sort((r,i)=>r.localeCompare(i));for(let r=0;r<t.length;r++){let i=t[r];e(this.#e.get(i),r)}}_decodeParams(e,t){return this.#r.decode(e,t)}_encodeParams(e,t){return this.#r.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if(typeof e=="string"){let r=this.getError(e);g(r,"unknown error","fragment",e),e=r}return g(Ue(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,Ue(t,4))}encodeErrorResult(e,t){if(typeof e=="string"){let r=this.getError(e);g(r,"unknown error","fragment",e),e=r}return te([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if(typeof e=="string"){let r=this.getFunction(e);g(r,"unknown function","fragment",e),e=r}return g(Ue(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,Ue(t,4))}encodeFunctionData(e,t){if(typeof e=="string"){let r=this.getFunction(e);g(r,"unknown function","fragment",e),e=r}return te([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if(typeof e=="string"){let o=this.getFunction(e);g(o,"unknown function","fragment",e),e=o}let r="invalid length for result data",i=ut(t);if(i.length%32===0)try{return this.#r.decode(e.outputs,i)}catch{r="could not decode result data"}E(!1,r,"BAD_DATA",{value:S(i),info:{method:e.name,signature:e.format()}})}makeError(e,t){let r=M(e,"data"),i=Dr.getBuiltinCallException("call",t,r);if(i.message.startsWith("execution reverted (unknown custom error)")){let a=S(r.slice(0,4)),c=this.getError(a);if(c)try{let l=this.#r.decode(c.inputs,r.slice(4));i.revert={name:c.name,signature:c.format(),args:l},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}let s=this.parseTransaction(t);return s&&(i.invocation={method:s.name,signature:s.signature,args:s.args}),i}encodeFunctionResult(e,t){if(typeof e=="string"){let r=this.getFunction(e);g(r,"unknown function","fragment",e),e=r}return S(this.#r.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if(typeof e=="string"){let o=this.getEvent(e);g(o,"unknown event","eventFragment",e),e=o}E(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});let r=[];e.anonymous||r.push(e.topicHash);let i=(o,s)=>o.type==="string"?dn(s):o.type==="bytes"?he(S(s)):(o.type==="bool"&&typeof s=="boolean"?s=s?"0x01":"0x00":o.type.match(/^u?int/)?s=nn(s):o.type.match(/^bytes/)?s=so(s,32):o.type==="address"&&this.#r.encode(["address"],[s]),Bt(S(s),32));for(t.forEach((o,s)=>{let a=e.inputs[s];if(!a.indexed){g(o==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,o);return}o==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?g(!1,"filtering with tuples or arrays not supported","contract."+a.name,o):Array.isArray(o)?r.push(o.map(c=>i(a,c))):r.push(i(a,o))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,t){if(typeof e=="string"){let s=this.getEvent(e);g(s,"unknown event","eventFragment",e),e=s}let r=[],i=[],o=[];return e.anonymous||r.push(e.topicHash),g(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((s,a)=>{let c=t[a];if(s.indexed)if(s.type==="string")r.push(dn(c));else if(s.type==="bytes")r.push(he(c));else{if(s.baseType==="tuple"||s.baseType==="array")throw new Error("not implemented");r.push(this.#r.encode([s.type],[c]))}else i.push(s),o.push(c)}),{data:this.#r.encode(i,o),topics:r}}decodeEventLog(e,t,r){if(typeof e=="string"){let p=this.getEvent(e);g(p,"unknown event","eventFragment",e),e=p}if(r!=null&&!e.anonymous){let p=e.topicHash;g(me(r[0],32)&&r[0].toLowerCase()===p,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}let i=[],o=[],s=[];e.inputs.forEach((p,m)=>{p.indexed?p.type==="string"||p.type==="bytes"||p.baseType==="tuple"||p.baseType==="array"?(i.push(Tt.from({type:"bytes32",name:p.name})),s.push(!0)):(i.push(p),s.push(!1)):(o.push(p),s.push(!1))});let a=r!=null?this.#r.decode(i,te(r)):null,c=this.#r.decode(o,t,!0),l=[],u=[],d=0,f=0;return e.inputs.forEach((p,m)=>{let b=null;if(p.indexed)if(a==null)b=new za(null);else if(s[m])b=new za(a[f++]);else try{b=a[f++]}catch(w){b=w}else try{b=c[d++]}catch(w){b=w}l.push(b),u.push(p.name||null)}),Jr.fromItems(l,u)}parseTransaction(e){let t=M(e.data,"tx.data"),r=R(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(S(t.slice(0,4)));if(!i)return null;let o=this.#r.decode(i.inputs,t.slice(4));return new Kl(i,i.selector,o,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new ql(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){let t=S(e),r=this.getError(Ue(t,0,4));if(!r)return null;let i=this.#r.decode(r.inputs,Ue(t,4));return new Ql(r,r.selector,i)}static from(e){return e instanceof n?e:typeof e=="string"?new n(JSON.parse(e)):typeof e.formatJson=="function"?new n(e.formatJson()):typeof e.format=="function"?new n(e.format("json")):new n(e)}};var Ek=BigInt(0);function Zl(n){return n??null}function jt(n){return n==null?null:n.toString()}var ws=class{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,t,r){k(this,{gasPrice:Zl(e),maxFeePerGas:Zl(t),maxPriorityFeePerGas:Zl(r)})}toJSON(){let{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:jt(e),maxFeePerGas:jt(t),maxPriorityFeePerGas:jt(r)}}};function Sr(n){let e={};n.to&&(e.to=n.to),n.from&&(e.from=n.from),n.data&&(e.data=S(n.data));let t="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(let i of t)!(i in n)||n[i]==null||(e[i]=R(n[i],`request.${i}`));let r="type,nonce".split(/,/);for(let i of r)!(i in n)||n[i]==null||(e[i]=Z(n[i],`request.${i}`));return n.accessList&&(e.accessList=un(n.accessList)),n.authorizationList&&(e.authorizationList=n.authorizationList.slice()),"blockTag"in n&&(e.blockTag=n.blockTag),"enableCcipRead"in n&&(e.enableCcipRead=!!n.enableCcipRead),"customData"in n&&(e.customData=n.customData),"blobVersionedHashes"in n&&n.blobVersionedHashes&&(e.blobVersionedHashes=n.blobVersionedHashes.slice()),"kzg"in n&&(e.kzg=n.kzg),"blobs"in n&&n.blobs&&(e.blobs=n.blobs.map(i=>Kr(i)?S(i):Object.assign({},i))),e}var Ga=class{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#e;constructor(e,t){this.#e=e.transactions.map(r=>typeof r!="string"?new Ni(r,t):r),k(this,{provider:t,hash:Zl(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Zl(e.prevRandao),extraData:e.extraData,baseFeePerGas:Zl(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#e.map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){let e=this.#e.slice();return e.length===0?[]:(E(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){let{baseFeePerGas:e,difficulty:t,extraData:r,gasLimit:i,gasUsed:o,hash:s,miner:a,prevRandao:c,nonce:l,number:u,parentHash:d,parentBeaconBlockRoot:f,stateRoot:p,receiptsRoot:m,timestamp:b,transactions:w}=this;return{_type:"Block",baseFeePerGas:jt(e),difficulty:jt(t),extraData:r,gasLimit:jt(i),gasUsed:jt(o),blobGasUsed:jt(this.blobGasUsed),excessBlobGas:jt(this.excessBlobGas),hash:s,miner:a,prevRandao:c,nonce:l,number:u,parentHash:d,timestamp:b,parentBeaconBlockRoot:f,stateRoot:p,receiptsRoot:m,transactions:w}}[Symbol.iterator](){let e=0,t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#e.length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}getTransaction(e){return h(this,null,function*(){let t;if(typeof e=="number")t=this.#e[e];else{let r=e.toLowerCase();for(let i of this.#e)if(typeof i=="string"){if(i!==r)continue;t=i;break}else{if(i.hash!==r)continue;t=i;break}}if(t==null)throw new Error("no such tx");return typeof t=="string"?yield this.provider.getTransaction(t):t})}getPrefetchedTransaction(e){let t=this.prefetchedTransactions;if(typeof e=="number")return t[e];e=e.toLowerCase();for(let r of t)if(r.hash===e)return r;g(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return TV(this)}},sr=class{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,t){this.provider=t;let r=Object.freeze(e.topics.slice());k(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){let{address:e,blockHash:t,blockNumber:r,data:i,index:o,removed:s,topics:a,transactionHash:c,transactionIndex:l}=this;return{_type:"log",address:e,blockHash:t,blockNumber:r,data:i,index:o,removed:s,topics:a,transactionHash:c,transactionIndex:l}}getBlock(){return h(this,null,function*(){let e=yield this.provider.getBlock(this.blockHash);return E(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e})}getTransaction(){return h(this,null,function*(){let e=yield this.provider.getTransaction(this.transactionHash);return E(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e})}getTransactionReceipt(){return h(this,null,function*(){let e=yield this.provider.getTransactionReceipt(this.transactionHash);return E(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e})}removedEvent(){return MV(this)}},wo=class{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#e;constructor(e,t){this.#e=Object.freeze(e.logs.map(i=>new sr(i,t)));let r=Ek;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),k(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#e}toJSON(){let{to:e,from:t,contractAddress:r,hash:i,index:o,blockHash:s,blockNumber:a,logsBloom:c,logs:l,status:u,root:d}=this;return{_type:"TransactionReceipt",blockHash:s,blockNumber:a,contractAddress:r,cumulativeGasUsed:jt(this.cumulativeGasUsed),from:t,gasPrice:jt(this.gasPrice),blobGasUsed:jt(this.blobGasUsed),blobGasPrice:jt(this.blobGasPrice),gasUsed:jt(this.gasUsed),hash:i,index:o,logs:l,logsBloom:c,root:d,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}getBlock(){return h(this,null,function*(){let e=yield this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e})}getTransaction(){return h(this,null,function*(){let e=yield this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e})}getResult(){return h(this,null,function*(){return yield this.provider.getTransactionResult(this.hash)})}confirmations(){return h(this,null,function*(){return(yield this.provider.getBlockNumber())-this.blockNumber+1})}removedEvent(){return Ik(this)}reorderedEvent(e){return E(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Ak(this,e)}},Ni=class n{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#e;constructor(e,t){this.provider=t,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,this.#e=-1}toJSON(){let{blockNumber:e,blockHash:t,index:r,hash:i,type:o,to:s,from:a,nonce:c,data:l,signature:u,accessList:d,blobVersionedHashes:f}=this;return{_type:"TransactionResponse",accessList:d,blockNumber:e,blockHash:t,blobVersionedHashes:f,chainId:jt(this.chainId),data:l,from:a,gasLimit:jt(this.gasLimit),gasPrice:jt(this.gasPrice),hash:i,maxFeePerGas:jt(this.maxFeePerGas),maxPriorityFeePerGas:jt(this.maxPriorityFeePerGas),maxFeePerBlobGas:jt(this.maxFeePerBlobGas),nonce:c,signature:u,to:s,index:r,type:o,value:jt(this.value)}}getBlock(){return h(this,null,function*(){let e=this.blockNumber;if(e==null){let r=yield this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;let t=this.provider.getBlock(e);if(t==null)throw new Error("TODO");return t})}getTransaction(){return h(this,null,function*(){return this.provider.getTransaction(this.hash)})}confirmations(){return h(this,null,function*(){if(this.blockNumber==null){let{tx:t,blockNumber:r}=yield st({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return t==null||t.blockNumber==null?0:r-t.blockNumber+1}return(yield this.provider.getBlockNumber())-this.blockNumber+1})}wait(e,t){return h(this,null,function*(){let r=e??1,i=t??0,o=this.#e,s=-1,a=o===-1,c=()=>h(this,null,function*(){if(a)return null;let{blockNumber:f,nonce:p}=yield st({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(p<this.nonce){o=f;return}if(a)return null;let m=yield this.getTransaction();if(!(m&&m.blockNumber!=null))for(s===-1&&(s=o-3,s<this.#e&&(s=this.#e));s<=f;){if(a)return null;let b=yield this.provider.getBlock(s,!0);if(b==null)return;for(let w of b)if(w===this.hash)return;for(let w=0;w<b.length;w++){let _=yield b.getTransaction(w);if(_.from===this.from&&_.nonce===this.nonce){if(a)return null;let D=yield this.provider.getTransactionReceipt(_.hash);if(D==null||f-D.blockNumber+1<r)return;let T="replaced";_.data===this.data&&_.to===this.to&&_.value===this.value?T="repriced":_.data==="0x"&&_.from===_.to&&_.value===Ek&&(T="cancelled"),E(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:T==="replaced"||T==="cancelled",reason:T,replacement:_.replaceableTransaction(o),hash:_.hash,receipt:D})}}s++}}),l=f=>{if(f==null||f.status!==0)return f;E(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:f.to,from:f.from,data:""},receipt:f})},u=yield this.provider.getTransactionReceipt(this.hash);if(r===0)return l(u);if(u){if((yield u.confirmations())>=r)return l(u)}else if(yield c(),r===0)return null;return yield new Promise((f,p)=>{let m=[],b=()=>{m.forEach(_=>_())};if(m.push(()=>{a=!0}),i>0){let _=setTimeout(()=>{b(),p(Ie("wait for transaction timeout","TIMEOUT"))},i);m.push(()=>{clearTimeout(_)})}let w=_=>h(this,null,function*(){if((yield _.confirmations())>=r){b();try{f(l(_))}catch(D){p(D)}}});if(m.push(()=>{this.provider.off(this.hash,w)}),this.provider.on(this.hash,w),o>=0){let _=()=>h(this,null,function*(){try{yield c()}catch(D){if(Ve(D,"TRANSACTION_REPLACED")){b(),p(D);return}}a||this.provider.once("block",_)});m.push(()=>{this.provider.off("block",_)}),this.provider.once("block",_)}})})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return E(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Ik(this)}reorderedEvent(e){return E(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),E(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Ak(this,e)}replaceableTransaction(e){g(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);let t=new n(this,this.provider);return t.#e=e,t}};function TV(n){return{orphan:"drop-block",hash:n.hash,number:n.number}}function Ak(n,e){return{orphan:"reorder-transaction",tx:n,other:e}}function Ik(n){return{orphan:"drop-transaction",tx:n}}function MV(n){return{orphan:"drop-log",log:{transactionHash:n.transactionHash,blockHash:n.blockHash,blockNumber:n.blockNumber,address:n.address,data:n.data,topics:Object.freeze(n.topics.slice()),index:n.index}}}var _o=class extends sr{interface;fragment;args;constructor(e,t,r){super(e,e.provider);let i=t.decodeEventLog(r,e.data,e.topics);k(this,{args:i,fragment:r,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}},_s=class extends sr{error;constructor(e,t){super(e,e.provider),k(this,{error:t})}},Yl=class extends wo{#e;constructor(e,t,r){super(r,t),this.#e=e}get logs(){return super.logs.map(e=>{let t=e.topics.length?this.#e.getEvent(e.topics[0]):null;if(t)try{return new _o(e,this.#e,t)}catch(r){return new _s(e,r)}return e})}},Co=class n extends Ni{#e;constructor(e,t,r){super(r,t),this.#e=e}wait(e,t){return h(this,null,function*(){let r=yield kt(n.prototype,this,"wait").call(this,e,t);return r==null?null:new Yl(this.#e,this.provider,r)})}},Cs=class extends lo{log;constructor(e,t,r,i){super(e,t,r),k(this,{log:i})}getBlock(){return h(this,null,function*(){return yield this.log.getBlock()})}getTransaction(){return h(this,null,function*(){return yield this.log.getTransaction()})}getTransactionReceipt(){return h(this,null,function*(){return yield this.log.getTransactionReceipt()})}},Wa=class extends Cs{constructor(e,t,r,i,o){super(e,t,r,new _o(o,e.interface,i));let s=e.interface.decodeEventLog(i,this.log.data,this.log.topics);k(this,{args:s,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}};var Dk=BigInt(0);function Tk(n){return n&&typeof n.call=="function"}function Mk(n){return n&&typeof n.estimateGas=="function"}function jg(n){return n&&typeof n.resolveName=="function"}function kk(n){return n&&typeof n.sendTransaction=="function"}function Nk(n){if(n!=null){if(jg(n))return n;if(n.provider)return n.provider}}var d1=class{#e;fragment;constructor(e,t,r){if(k(this,{fragment:t}),t.inputs.length<r.length)throw new Error("too many arguments");let i=Ka(e.runner,"resolveName"),o=jg(i)?i:null;this.#e=function(){return h(this,null,function*(){let s=yield Promise.all(t.inputs.map((a,c)=>r[c]==null?null:a.walkAsync(r[c],(u,d)=>u==="address"?Array.isArray(d)?Promise.all(d.map(f=>dt(f,o))):dt(d,o):d)));return e.interface.encodeFilterTopics(t,s)})}()}getTopicFilter(){return this.#e}};function Ka(n,e){return n==null?null:typeof n[e]=="function"?n:n.provider&&typeof n.provider[e]=="function"?n.provider:null}function qa(n){return n==null?null:n.provider||null}function $g(n,e){return h(this,null,function*(){let t=nt.dereference(n,"overrides");g(typeof t=="object","invalid overrides parameter","overrides",n);let r=Sr(t);return g(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),g(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r})}function p1(n,e,t){return h(this,null,function*(){let r=Ka(n,"resolveName"),i=jg(r)?r:null;return yield Promise.all(e.map((o,s)=>o.walkAsync(t[s],(a,c)=>(c=nt.dereference(c,a),a==="address"?dt(c,i):c))))})}function kV(n){let e=function(s){return h(this,null,function*(){let a=yield $g(s,["data"]);a.to=yield n.getAddress(),a.from&&(a.from=yield dt(a.from,Nk(n.runner)));let c=n.interface,l=R(a.value||Dk,"overrides.value")===Dk,u=(a.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!u&&!l&&g(!1,"cannot send data to receive or send value to non-payable fallback","overrides",s),g(c.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data);let d=c.receive||c.fallback&&c.fallback.payable;return g(d||l,"cannot send value to non-payable fallback","overrides.value",a.value),g(c.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data),a})},t=function(s){return h(this,null,function*(){let a=Ka(n.runner,"call");E(Tk(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let c=yield e(s);try{return yield a.call(c)}catch(l){throw ss(l)&&l.data?n.interface.makeError(l.data,c):l}})},r=function(s){return h(this,null,function*(){let a=n.runner;E(kk(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let c=yield a.sendTransaction(yield e(s)),l=qa(n.runner);return new Co(n.interface,l,c)})},i=function(s){return h(this,null,function*(){let a=Ka(n.runner,"estimateGas");return E(Mk(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),yield a.estimateGas(yield e(s))})},o=s=>h(this,null,function*(){return yield r(s)});return k(o,{_contract:n,estimateGas:i,populateTransaction:e,send:r,staticCall:t}),o}function NV(n,e){let t=function(...l){let u=n.interface.getFunction(e,l);return E(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:l}}),u},r=function(...l){return h(this,null,function*(){let u=t(...l),d={};if(u.inputs.length+1===l.length&&(d=yield $g(l.pop()),d.from&&(d.from=yield dt(d.from,Nk(n.runner)))),u.inputs.length!==l.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");let f=yield p1(n.runner,u.inputs,l);return Object.assign({},d,yield st({to:n.getAddress(),data:n.interface.encodeFunctionData(u,f)}))})},i=function(...l){return h(this,null,function*(){let u=yield a(...l);return u.length===1?u[0]:u})},o=function(...l){return h(this,null,function*(){let u=n.runner;E(kk(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let d=yield u.sendTransaction(yield r(...l)),f=qa(n.runner);return new Co(n.interface,f,d)})},s=function(...l){return h(this,null,function*(){let u=Ka(n.runner,"estimateGas");return E(Mk(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),yield u.estimateGas(yield r(...l))})},a=function(...l){return h(this,null,function*(){let u=Ka(n.runner,"call");E(Tk(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let d=yield r(...l),f="0x";try{f=yield u.call(d)}catch(m){throw ss(m)&&m.data?n.interface.makeError(m.data,d):m}let p=t(...l);return n.interface.decodeFunctionResult(p,f)})},c=(...l)=>h(this,null,function*(){return t(...l).constant?yield i(...l):yield o(...l)});return k(c,{name:n.interface.getFunctionName(e),_contract:n,_key:e,getFragment:t,estimateGas:s,populateTransaction:r,send:o,staticCall:i,staticCallResult:a}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{let l=n.interface.getFunction(e);return E(l,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),l}}),c}function OV(n,e){let t=function(...i){let o=n.interface.getEvent(e,i);return E(o,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),o},r=function(...i){return new d1(n,t(...i),i)};return k(r,{name:n.interface.getEventName(e),_contract:n,_key:e,getFragment:t}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{let i=n.interface.getEvent(e);return E(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),r}var Vg=Symbol.for("_ethersInternal_contract"),Ok=new WeakMap;function RV(n,e){Ok.set(n[Vg],e)}function ar(n){return Ok.get(n[Vg])}function PV(n){return n&&typeof n=="object"&&"getTopicFilter"in n&&typeof n.getTopicFilter=="function"&&n.fragment}function m1(n,e){return h(this,null,function*(){let t,r=null;if(Array.isArray(e)){let o=function(s){if(me(s,32))return s;let a=n.interface.getEvent(s);return g(a,"unknown fragment","name",s),a.topicHash};t=e.map(s=>s==null?null:Array.isArray(s)?s.map(o):o(s))}else e==="*"?t=[null]:typeof e=="string"?me(e,32)?t=[e]:(r=n.interface.getEvent(e),g(r,"unknown fragment","event",e),t=[r.topicHash]):PV(e)?t=yield e.getTopicFilter():"fragment"in e?(r=e.fragment,t=[r.topicHash]):g(!1,"unknown event name","event",e);t=t.map(o=>{if(o==null)return null;if(Array.isArray(o)){let s=Array.from(new Set(o.map(a=>a.toLowerCase())).values());return s.length===1?s[0]:(s.sort(),s)}return o.toLowerCase()});let i=t.map(o=>o==null?"null":Array.isArray(o)?o.join("|"):o).join("&");return{fragment:r,tag:i,topics:t}})}function bf(n,e){return h(this,null,function*(){let{subs:t}=ar(n);return t.get((yield m1(n,e)).tag)||null})}function Sk(n,e,t){return h(this,null,function*(){let r=qa(n.runner);E(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});let{fragment:i,tag:o,topics:s}=yield m1(n,t),{addr:a,subs:c}=ar(n),l=c.get(o);if(!l){let d={address:a||n,topics:s},f=w=>{let _=i;if(_==null)try{_=n.interface.getEvent(w.topics[0])}catch{}if(_){let D=_,T=i?n.interface.decodeEventLog(i,w.data,w.topics):[];h1(n,t,T,W=>new Wa(n,W,t,D,w))}else h1(n,t,[],D=>new Cs(n,D,t,w))},p=[];l={tag:o,listeners:[],start:()=>{p.length||p.push(r.on(d,f))},stop:()=>h(this,null,function*(){if(p.length==0)return;let w=p;p=[],yield Promise.all(w),r.off(d,f)})},c.set(o,l)}return l})}var f1=Promise.resolve();function FV(n,e,t,r){return h(this,null,function*(){yield f1;let i=yield bf(n,e);if(!i)return!1;let o=i.listeners.length;return i.listeners=i.listeners.filter(({listener:s,once:a})=>{let c=Array.from(t);r&&c.push(r(a?null:s));try{s.call(n,...c)}catch{}return!a}),i.listeners.length===0&&(i.stop(),ar(n).subs.delete(i.tag)),o>0})}function h1(n,e,t,r){return h(this,null,function*(){try{yield f1}catch{}let i=FV(n,e,t,r);return f1=i,yield i})}var Ug=["then"],Eo=class n{target;interface;runner;filters;[Vg];fallback;constructor(e,t,r,i){g(typeof e=="string"||Ul(e),"invalid value for Contract target","target",e),r==null&&(r=null);let o=xo.from(t);k(this,{target:e,runner:r,interface:o}),Object.defineProperty(this,Vg,{value:{}});let s,a=null,c=null;if(i){let d=qa(r);c=new Co(this.interface,d,i)}let l=new Map;if(typeof e=="string")if(me(e))a=e,s=Promise.resolve(e);else{let d=Ka(r,"resolveName");if(!jg(d))throw Ie("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});s=d.resolveName(e).then(f=>{if(f==null)throw Ie("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return ar(this).addr=f,f})}else s=e.getAddress().then(d=>{if(d==null)throw new Error("TODO");return ar(this).addr=d,d});RV(this,{addrPromise:s,addr:a,deployTx:c,subs:l});let u=new Proxy({},{get:(d,f,p)=>{if(typeof f=="symbol"||Ug.indexOf(f)>=0)return Reflect.get(d,f,p);try{return this.getEvent(f)}catch(m){if(!Ve(m,"INVALID_ARGUMENT")||m.argument!=="key")throw m}},has:(d,f)=>Ug.indexOf(f)>=0?Reflect.has(d,f):Reflect.has(d,f)||this.interface.hasEvent(String(f))});return k(this,{filters:u}),k(this,{fallback:o.receive||o.fallback?kV(this):null}),new Proxy(this,{get:(d,f,p)=>{if(typeof f=="symbol"||f in d||Ug.indexOf(f)>=0)return Reflect.get(d,f,p);try{return d.getFunction(f)}catch(m){if(!Ve(m,"INVALID_ARGUMENT")||m.argument!=="key")throw m}},has:(d,f)=>typeof f=="symbol"||f in d||Ug.indexOf(f)>=0?Reflect.has(d,f):d.interface.hasFunction(f)})}connect(e){return new n(this.target,this.interface,e)}attach(e){return new n(e,this.interface,this.runner)}getAddress(){return h(this,null,function*(){return yield ar(this).addrPromise})}getDeployedCode(){return h(this,null,function*(){let e=qa(this.runner);E(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});let t=yield e.getCode(yield this.getAddress());return t==="0x"?null:t})}waitForDeployment(){return h(this,null,function*(){let e=this.deploymentTransaction();if(e)return yield e.wait(),this;if((yield this.getDeployedCode())!=null)return this;let r=qa(this.runner);return E(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,o)=>{let s=()=>h(this,null,function*(){try{if((yield this.getDeployedCode())!=null)return i(this);r.once("block",s)}catch(a){o(a)}});s()})})}deploymentTransaction(){return ar(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),NV(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),OV(this,e)}queryTransaction(e){return h(this,null,function*(){throw new Error("@TODO")})}queryFilter(e,t,r){return h(this,null,function*(){t==null&&(t=0),r==null&&(r="latest");let{addr:i,addrPromise:o}=ar(this),s=i||(yield o),{fragment:a,topics:c}=yield m1(this,e),l={address:s,topics:c,fromBlock:t,toBlock:r},u=qa(this.runner);return E(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(yield u.getLogs(l)).map(d=>{let f=a;if(f==null)try{f=this.interface.getEvent(d.topics[0])}catch{}if(f)try{return new _o(d,this.interface,f)}catch(p){return new _s(d,p)}return new sr(d,u)})})}on(e,t){return h(this,null,function*(){let r=yield Sk(this,"on",e);return r.listeners.push({listener:t,once:!1}),r.start(),this})}once(e,t){return h(this,null,function*(){let r=yield Sk(this,"once",e);return r.listeners.push({listener:t,once:!0}),r.start(),this})}emit(e,...t){return h(this,null,function*(){return yield h1(this,e,t,null)})}listenerCount(e){return h(this,null,function*(){if(e){let i=yield bf(this,e);return i?i.listeners.length:0}let{subs:t}=ar(this),r=0;for(let{listeners:i}of t.values())r+=i.length;return r})}listeners(e){return h(this,null,function*(){if(e){let i=yield bf(this,e);return i?i.listeners.map(({listener:o})=>o):[]}let{subs:t}=ar(this),r=[];for(let{listeners:i}of t.values())r=r.concat(i.map(({listener:o})=>o));return r})}off(e,t){return h(this,null,function*(){let r=yield bf(this,e);if(!r)return this;if(t){let i=r.listeners.map(({listener:o})=>o).indexOf(t);i>=0&&r.listeners.splice(i,1)}return(t==null||r.listeners.length===0)&&(r.stop(),ar(this).subs.delete(r.tag)),this})}removeAllListeners(e){return h(this,null,function*(){if(e){let t=yield bf(this,e);if(!t)return this;t.stop(),ar(this).subs.delete(t.tag)}else{let{subs:t}=ar(this);for(let{tag:r,stop:i}of t.values())i(),t.delete(r)}return this})}addListener(e,t){return h(this,null,function*(){return yield this.on(e,t)})}removeListener(e,t){return h(this,null,function*(){return yield this.off(e,t)})}static buildClass(e){class t extends n{constructor(i,o=null){super(i,e,o)}}return t}static from(e,t,r){return r==null&&(r=null),new this(e,t,r)}};function LV(){return Eo}var Qn=class extends LV(){};var yf=class n{interface;bytecode;runner;constructor(e,t,r){let i=xo.from(e);t instanceof Uint8Array?t=S(M(t)):(typeof t=="object"&&(t=t.object),t.startsWith("0x")||(t="0x"+t),t=S(M(t))),k(this,{bytecode:t,interface:i,runner:r||null})}attach(e){return new Eo(e,this.interface,this.runner)}getDeployTransaction(...e){return h(this,null,function*(){let t={},r=this.interface.deploy;if(r.inputs.length+1===e.length&&(t=yield $g(e.pop())),r.inputs.length!==e.length)throw new Error("incorrect number of arguments to constructor");let i=yield p1(this.runner,r.inputs,e),o=te([this.bytecode,this.interface.encodeDeploy(i)]);return Object.assign({},t,{data:o})})}deploy(...e){return h(this,null,function*(){let t=yield this.getDeployTransaction(...e);E(this.runner&&typeof this.runner.sendTransaction=="function","factory runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let r=yield this.runner.sendTransaction(t),i=Fa(r);return new Eo(i,this.interface,this.runner,r)})}connect(e){return new n(this.interface,this.bytecode,e)}static fromSolidity(e,t){g(e!=null,"bad compiler output","output",e),typeof e=="string"&&(e=JSON.parse(e));let r=e.abi,i="";return e.bytecode?i=e.bytecode:e.evm&&e.evm.bytecode&&(i=e.evm.bytecode),new this(r,i,t)}};function g1(n){return n.match(/^ipfs:\/\/ipfs\//i)?n=n.substring(12):n.match(/^ipfs:\/\//i)?n=n.substring(7):g(!1,"unsupported IPFS format","link",n),`https://gateway.ipfs.io/ipfs/${n}`}var Jl=class{name;constructor(e){k(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}encodeAddress(e,t){return h(this,null,function*(){throw new Error("unsupported coin")})}decodeAddress(e,t){return h(this,null,function*(){throw new Error("unsupported coin")})}};var Pk=new RegExp("^(ipfs)://(.*)$","i"),Rk=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Pk,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")],Es=class n{provider;address;name;#e;#t;constructor(e,t,r){k(this,{provider:e,address:t,name:r}),this.#e=null,this.#t=new Qn(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}supportsWildcard(){return h(this,null,function*(){return this.#e==null&&(this.#e=h(this,null,function*(){try{return yield this.#t.supportsInterface("0x9061b923")}catch(e){if(Ve(e,"CALL_EXCEPTION"))return!1;throw this.#e=null,e}})),yield this.#e})}#n(e,t){return h(this,null,function*(){t=(t||[]).slice();let r=this.#t.interface;t.unshift(ys(this.name));let i=null;(yield this.supportsWildcard())&&(i=r.getFunction(e),E(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[pf(this.name,255),r.encodeFunctionData(i,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{let o=yield this.#t[e](...t);return i?r.decodeFunctionResult(i,o)[0]:o}catch(o){if(!Ve(o,"CALL_EXCEPTION"))throw o}return null})}getAddress(e){return h(this,null,function*(){if(e==null&&(e=60),e===60)try{let o=yield this.#n("addr(bytes32)");return o==null||o===oi?null:o}catch(o){if(Ve(o,"CALL_EXCEPTION"))return null;throw o}if(e>=0&&e<2147483648){let o=e+2147483648,s=yield this.#n("addr(bytes32,uint)",[o]);if(me(s,20))return J(s)}let t=null;for(let o of this.provider.plugins)if(o instanceof Jl&&o.supportsCoinType(e)){t=o;break}if(t==null)return null;let r=yield this.#n("addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;let i=yield t.decodeAddress(e,r);if(i!=null)return i;E(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})})}getText(e){return h(this,null,function*(){let t=yield this.#n("text(bytes32,string)",[e]);return t==null||t==="0x"?null:t})}getContentHash(){return h(this,null,function*(){let e=yield this.#n("contenthash(bytes32)");if(e==null||e==="0x")return null;let t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){let i=t[1]==="e3010170"?"ipfs":"ipns",o=parseInt(t[4],16);if(t[5].length===o*2)return`${i}://${Ia("0x"+t[2])}`}let r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;E(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})})}getAvatar(){return h(this,null,function*(){return(yield this._getAvatar()).url})}_getAvatar(){return h(this,null,function*(){let e=[{type:"name",value:this.name}];try{let t=yield this.getText("avatar");if(t==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let r=0;r<Rk.length;r++){let i=t.match(Rk[r]);if(i==null)continue;let o=i[1].toLowerCase();switch(o){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{let s=g1(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:s}),{linkage:e,url:s}}case"erc721":case"erc1155":{let s=o==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:o,value:t});let a=yield this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};let c=(i[2]||"").split("/");if(c.length!==2)return e.push({type:`!${o}caip`,value:i[2]||""}),{url:null,linkage:e};let l=c[1],u=new Qn(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(o==="erc721"){let b=yield u.ownerOf(l);if(a!==b)return e.push({type:"!owner",value:b}),{url:null,linkage:e};e.push({type:"owner",value:b})}else if(o==="erc1155"){let b=yield u.balanceOf(a,l);if(!b)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:b.toString()})}let d=yield u[s](l);if(d==null||d==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:d}),o==="erc1155"&&(d=d.replace("{id}",nn(l,32).substring(2)),e.push({type:"metadata-url-expanded",value:d})),d.match(/^ipfs:/i)&&(d=g1(d)),e.push({type:"metadata-url",value:d});let f={},p=yield new Ke(d).send();p.assertOk();try{f=p.bodyJson}catch{try{e.push({type:"!metadata",value:p.bodyText})}catch{let _=p.body;return _&&e.push({type:"!metadata",value:S(_)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!f)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(f)});let m=f.image;if(typeof m!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!m.match(/^(https:\/\/|data:)/i)){if(m.match(Pk)==null)return e.push({type:"!imageUrl-ipfs",value:m}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:m}),m=g1(m)}return e.push({type:"url",value:m}),{linkage:e,url:m}}}}}catch{}return{linkage:e,url:null}})}static getEnsAddress(e){return h(this,null,function*(){let t=yield e.getNetwork(),r=t.getPlugin("org.ethers.plugins.network.Ens");return E(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),r.address})}static#r(e,t){return h(this,null,function*(){let r=yield n.getEnsAddress(e);try{let o=yield new Qn(r,["function resolver(bytes32) view returns (address)"],e).resolver(ys(t),{enableCcipRead:!0});return o===oi?null:o}catch(i){throw i}return null})}static fromName(e,t){return h(this,null,function*(){let r=t;for(;;){if(r===""||r==="."||t!=="eth"&&r==="eth")return null;let i=yield n.#r(e,r);if(i!=null){let o=new n(e,i,t);return r!==t&&!(yield o.supportsWildcard())?null:o}r=r.split(".").slice(1).join(".")}})}};var Fk=BigInt(0);function Re(n,e){return function(t){return t==null?e:n(t)}}function vf(n,e){return t=>{if(e&&t==null)return null;if(!Array.isArray(t))throw new Error("not an array");return t.map(r=>n(r))}}function xf(n,e){return t=>{let r={};for(let i in n){let o=i;if(e&&i in e&&!(o in t)){for(let s of e[i])if(s in t){o=s;break}}try{let s=n[i](t[o]);s!==void 0&&(r[i]=s)}catch(s){let a=s instanceof Error?s.message:"not-an-error";E(!1,`invalid value for value.${i} (${a})`,"BAD_DATA",{value:t})}}return r}}function BV(n){switch(n){case!0:case"true":return!0;case!1:case"false":return!1}g(!1,`invalid boolean; ${JSON.stringify(n)}`,"value",n)}function Xl(n){return g(me(n,!0),"invalid data","value",n),n}function fn(n){return g(me(n,32),"invalid hash","value",n),n}var UV=xf({address:J,blockHash:fn,blockNumber:Z,data:Xl,index:Z,removed:Re(BV,!1),topics:vf(fn),transactionHash:fn,transactionIndex:Z},{index:["logIndex"]});function Lk(n){return UV(n)}var VV=xf({hash:Re(fn),parentHash:fn,parentBeaconBlockRoot:Re(fn,null),number:Z,timestamp:Z,nonce:Re(Xl),difficulty:R,gasLimit:R,gasUsed:R,stateRoot:Re(fn,null),receiptsRoot:Re(fn,null),blobGasUsed:Re(R,null),excessBlobGas:Re(R,null),miner:Re(J),prevRandao:Re(fn,null),extraData:Xl,baseFeePerGas:Re(R)},{prevRandao:["mixHash"]});function Bk(n){let e=VV(n);return e.transactions=n.transactions.map(t=>typeof t=="string"?t:b1(t)),e}var jV=xf({transactionIndex:Z,blockNumber:Z,transactionHash:fn,address:J,topics:vf(fn),data:Xl,index:Z,blockHash:fn},{index:["logIndex"]});function $V(n){return jV(n)}var HV=xf({to:Re(J,null),from:Re(J,null),contractAddress:Re(J,null),index:Z,root:Re(S),gasUsed:R,blobGasUsed:Re(R,null),logsBloom:Re(Xl),blockHash:fn,hash:fn,logs:vf($V),blockNumber:Z,cumulativeGasUsed:R,effectiveGasPrice:Re(R),blobGasPrice:Re(R,null),status:Re(Z),type:Re(Z,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Uk(n){return HV(n)}function b1(n){n.to&&R(n.to)===Fk&&(n.to="0x0000000000000000000000000000000000000000");let e=xf({hash:fn,index:Re(Z,void 0),type:t=>t==="0x"||t==null?0:Z(t),accessList:Re(un,null),blobVersionedHashes:Re(vf(fn,!0),null),authorizationList:Re(vf(t=>({address:J(t.address),chainId:R(t.chainId),nonce:R(t.nonce),signature:Vt.from(t.signature?t.signature:t)}),!1),null),blockHash:Re(fn,null),blockNumber:Re(Z,null),transactionIndex:Re(Z,null),from:J,gasPrice:Re(R),maxPriorityFeePerGas:Re(R),maxFeePerGas:Re(R),maxFeePerBlobGas:Re(R,null),gasLimit:R,to:Re(J,null),value:R,nonce:Z,data:Xl,creates:Re(J,null),chainId:Re(R,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(n);if(e.to==null&&e.creates==null&&(e.creates=Fa(e)),(n.type===1||n.type===2)&&n.accessList==null&&(e.accessList=[]),n.signature?e.signature=Vt.from(n.signature):e.signature=Vt.from(n),e.chainId==null){let t=e.signature.legacyChainId;t!=null&&(e.chainId=t)}return e.blockHash&&R(e.blockHash)===Fk&&(e.blockHash=null),e}var zV="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",di=class n{name;constructor(e){k(this,{name:e})}clone(){return new n(this.name)}},As=class n extends di{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,t){e==null&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);let r={effectiveBlock:e};function i(o,s){let a=(t||{})[o];a==null&&(a=s),g(typeof a=="number",`invalud value for ${o}`,"costs",t),r[o]=a}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),k(this,r)}clone(){return new n(this.effectiveBlock,this)}},Is=class n extends di{address;targetNetwork;constructor(e,t){super("org.ethers.plugins.network.Ens"),k(this,{address:e||zV,targetNetwork:t??1})}clone(){return new n(this.address,this.targetNetwork)}},wf=class n extends di{#e;get feeDataFunc(){return this.#e}constructor(e){super("org.ethers.plugins.network.FeeData"),this.#e=e}getFeeData(e){return h(this,null,function*(){return yield this.#e(e)})}clone(){return new n(this.#e)}},Qa=class extends di{#e;#t;get url(){return this.#e}get processFunc(){return this.#t}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#e=e,this.#t=t}clone(){return this}};var y1=new Map,De=class n{#e;#t;#n;constructor(e,t){this.#e=e,this.#t=R(t),this.#n=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#e}set name(e){this.#e=e}get chainId(){return this.#t}set chainId(e){this.#t=R(e,"chainId")}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===R(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===R(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===R(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(this.#n.values())}attachPlugin(e){if(this.#n.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#n.set(e.name,e.clone()),this}getPlugin(e){return this.#n.get(e)||null}getPlugins(e){return this.plugins.filter(t=>t.name.split("#")[0]===e)}clone(){let e=new n(this.name,this.chainId);return this.plugins.forEach(t=>{e.attachPlugin(t.clone())}),e}computeIntrinsicGas(e){let t=this.getPlugin("org.ethers.plugins.network.GasCost")||new As,r=t.txBase;if(e.to==null&&(r+=t.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?r+=t.txDataZero:r+=t.txDataNonzero;if(e.accessList){let i=un(e.accessList);for(let o in i)r+=t.txAccessListAddress+t.txAccessListStorageKey*i[o].storageKeys.length}return r}static from(e){if(GV(),e==null)return n.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){let t=y1.get(e);if(t)return t();if(typeof e=="bigint")return new n("unknown",e);g(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){g(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);let t=new n(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&t.attachPlugin(new Is(e.ensAddress,e.ensNetwork)),t}g(!1,"invalid network","network",e)}static register(e,t){typeof e=="number"&&(e=BigInt(e));let r=y1.get(e);r&&g(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),y1.set(e,t)}};function Vk(n,e){let t=String(n);if(!t.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${n}`);let r=t.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${n}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let i=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||i++,r[1]=i.toString()}return BigInt(r[0]+r[1])}function jk(n){return new Qa(n,(e,t,r)=>h(this,null,function*(){r.setHeader("User-Agent","ethers");let i;try{let[o,s]=yield Promise.all([r.send(),e()]);i=o;let a=i.bodyJson.standard;return{gasPrice:s.gasPrice,maxFeePerGas:Vk(a.maxFee,9),maxPriorityFeePerGas:Vk(a.maxPriorityFee,9)}}catch(o){E(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:i,error:o})}}))}var $k=!1;function GV(){if($k)return;$k=!0;function n(e,t,r){let i=function(){let o=new De(e,t);return r.ensNetwork!=null&&o.attachPlugin(new Is(null,r.ensNetwork)),o.attachPlugin(new As),(r.plugins||[]).forEach(s=>{o.attachPlugin(s)}),o};De.register(e,i),De.register(t,i),r.altNames&&r.altNames.forEach(o=>{De.register(o,i)})}n("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),n("ropsten",3,{ensNetwork:3}),n("rinkeby",4,{ensNetwork:4}),n("goerli",5,{ensNetwork:5}),n("kovan",42,{ensNetwork:42}),n("sepolia",11155111,{ensNetwork:11155111}),n("holesky",17e3,{ensNetwork:17e3}),n("classic",61,{}),n("classicKotti",6,{}),n("arbitrum",42161,{ensNetwork:1}),n("arbitrum-goerli",421613,{}),n("arbitrum-sepolia",421614,{}),n("base",8453,{ensNetwork:1}),n("base-goerli",84531,{}),n("base-sepolia",84532,{}),n("bnb",56,{ensNetwork:1}),n("bnbt",97,{}),n("linea",59144,{ensNetwork:1}),n("linea-goerli",59140,{}),n("linea-sepolia",59141,{}),n("matic",137,{ensNetwork:1,plugins:[jk("https://gasstation.polygon.technology/v2")]}),n("matic-amoy",80002,{}),n("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[jk("https://gasstation-testnet.polygon.technology/v2")]}),n("optimism",10,{ensNetwork:1,plugins:[]}),n("optimism-goerli",420,{}),n("optimism-sepolia",11155420,{}),n("xdai",100,{ensNetwork:1})}function v1(n){return JSON.parse(JSON.stringify(n))}var Hg=class{#e;#t;#n;#r;constructor(e){this.#e=e,this.#t=null,this.#n=4e3,this.#r=-2}get pollingInterval(){return this.#n}set pollingInterval(e){this.#n=e}#i(){return h(this,null,function*(){try{let e=yield this.#e.getBlockNumber();if(this.#r===-2){this.#r=e;return}if(e!==this.#r){for(let t=this.#r+1;t<=e;t++){if(this.#t==null)return;yield this.#e.emit("block",t)}this.#r=e}}catch{}this.#t!=null&&(this.#t=this.#e._setTimeout(this.#i.bind(this),this.#n))})}start(){this.#t||(this.#t=this.#e._setTimeout(this.#i.bind(this),this.#n),this.#i())}stop(){this.#t&&(this.#e._clearTimeout(this.#t),this.#t=null)}pause(e){this.stop(),e&&(this.#r=-2)}resume(){this.start()}},_f=class{#e;#t;#n;constructor(e){this.#e=e,this.#n=!1,this.#t=t=>{this._poll(t,this.#e)}}_poll(e,t){return h(this,null,function*(){throw new Error("sub-classes must override this")})}start(){this.#n||(this.#n=!0,this.#t(-2),this.#e.on("block",this.#t))}stop(){this.#n&&(this.#n=!1,this.#e.off("block",this.#t))}pause(e){this.stop()}resume(){this.start()}},zg=class extends _f{#e;#t;constructor(e,t){super(e),this.#e=t,this.#t=-2}pause(e){e&&(this.#t=-2),super.pause(e)}_poll(e,t){return h(this,null,function*(){let r=yield t.getBlock(this.#e);r!=null&&(this.#t===-2?this.#t=r.number:r.number>this.#t&&(t.emit(this.#e,r.number),this.#t=r.number))})}},Gg=class extends _f{#e;constructor(e,t){super(e),this.#e=v1(t)}_poll(e,t){return h(this,null,function*(){throw new Error("@TODO")})}},Wg=class extends _f{#e;constructor(e,t){super(e),this.#e=t}_poll(e,t){return h(this,null,function*(){let r=yield t.getTransactionReceipt(this.#e);r&&t.emit(this.#e,r)})}},Ds=class{#e;#t;#n;#r;#i;constructor(e,t){this.#e=e,this.#t=v1(t),this.#n=this.#s.bind(this),this.#r=!1,this.#i=-2}#s(e){return h(this,null,function*(){if(this.#i===-2)return;let t=v1(this.#t);t.fromBlock=this.#i+1,t.toBlock=e;let r=yield this.#e.getLogs(t);if(r.length===0){this.#i<e-60&&(this.#i=e-60);return}for(let i of r)this.#e.emit(this.#t,i),this.#i=i.blockNumber})}start(){this.#r||(this.#r=!0,this.#i===-2&&this.#e.getBlockNumber().then(e=>{this.#i=e}),this.#e.on("block",this.#n))}stop(){this.#r&&(this.#r=!1,this.#e.off("block",this.#n))}pause(e){this.stop(),e&&(this.#i=-2)}resume(){this.start()}};var WV=BigInt(2),qV=10;function qg(n){return n&&typeof n.then=="function"}function Kg(n,e){return n+":"+JSON.stringify(e,(t,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){let i=Object.keys(r);return i.sort(),i.reduce((o,s)=>(o[s]=r[s],o),{})}return r})}var fi=class{name;constructor(e){k(this,{name:e})}start(){}stop(){}pause(e){}resume(){}};function KV(n){return JSON.parse(JSON.stringify(n))}function _1(n){return n=Array.from(new Set(n).values()),n.sort(),n}function x1(n,e){return h(this,null,function*(){if(n==null)throw new Error("invalid event");if(Array.isArray(n)&&(n={topics:n}),typeof n=="string")switch(n){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:n,tag:n}}if(me(n,32)){let t=n.toLowerCase();return{type:"transaction",tag:Kg("tx",{hash:t}),hash:t}}if(n.orphan){let t=n;return{type:"orphan",tag:Kg("orphan",t),filter:KV(t)}}if(n.address||n.topics){let t=n,r={topics:(t.topics||[]).map(i=>i==null?null:Array.isArray(i)?_1(i.map(o=>o.toLowerCase())):i.toLowerCase())};if(t.address){let i=[],o=[],s=a=>{me(a)?i.push(a):o.push(h(this,null,function*(){i.push(yield dt(a,e))}))};Array.isArray(t.address)?t.address.forEach(s):s(t.address),o.length&&(yield Promise.all(o)),r.address=_1(i.map(a=>a.toLowerCase()))}return{filter:r,tag:Kg("event",r),type:"event"}}g(!1,"unknown ProviderEvent","event",n)})}function w1(){return new Date().getTime()}var QV={cacheTimeout:250,pollingInterval:4e3},Tr=class{#e;#t;#n;#r;#i;#s;#o;#a;#d;#l;#p;#m;constructor(e,t){if(this.#m=Object.assign({},QV,t||{}),e==="any")this.#s=!0,this.#i=null;else if(e){let r=De.from(e);this.#s=!1,this.#i=Promise.resolve(r),setTimeout(()=>{this.emit("network",r,null)},0)}else this.#s=!1,this.#i=null;this.#a=-1,this.#o=new Map,this.#e=new Map,this.#t=new Map,this.#n=null,this.#r=!1,this.#d=1,this.#l=new Map,this.#p=!1}get pollingInterval(){return this.#m.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#t.values())}attachPlugin(e){if(this.#t.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#t.set(e.name,e.connect(this)),this}getPlugin(e){return this.#t.get(e)||null}get disableCcipRead(){return this.#p}set disableCcipRead(e){this.#p=!!e}#c(e){return h(this,null,function*(){let t=this.#m.cacheTimeout;if(t<0)return yield this._perform(e);let r=Kg(e.method,e),i=this.#o.get(r);return i||(i=this._perform(e),this.#o.set(r,i),setTimeout(()=>{this.#o.get(r)===i&&this.#o.delete(r)},t)),yield i})}ccipReadFetch(e,t,r){return h(this,null,function*(){if(this.disableCcipRead||r.length===0||e.to==null)return null;let i=e.to.toLowerCase(),o=t.toLowerCase(),s=[];for(let a=0;a<r.length;a++){let c=r[a],l=c.replace("{sender}",i).replace("{data}",o),u=new Ke(l);c.indexOf("{data}")===-1&&(u.body={data:o,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:a,urls:r});let d="unknown error",f;try{f=yield u.send()}catch(p){s.push(p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:{error:p}});continue}try{let p=f.bodyJson;if(p.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:p}),p.data;p.message&&(d=p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:p})}catch{}E(f.statusCode<400||f.statusCode>=500,`response not found during CCIP fetch: ${d}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:d}}),s.push(d)}E(!1,`error encountered during CCIP fetch: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:s}})})}_wrapBlock(e,t){return new Ga(Bk(e),this)}_wrapLog(e,t){return new sr(Lk(e),this)}_wrapTransactionReceipt(e,t){return new wo(Uk(e),this)}_wrapTransactionResponse(e,t){return new Ni(b1(e),this)}_detectNetwork(){E(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}_perform(e){return h(this,null,function*(){E(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})})}getBlockNumber(){return h(this,null,function*(){let e=Z(yield this.#c({method:"getBlockNumber"}),"%response");return this.#a>=0&&(this.#a=e),e})}_getAddress(e){return dt(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(me(e))return me(e,32)?e:Yt(e);if(typeof e=="bigint"&&(e=Z(e,"blockTag")),typeof e=="number")return e>=0?Yt(e):this.#a>=0?Yt(this.#a+e):this.getBlockNumber().then(t=>Yt(t+e));g(!1,"invalid blockTag","blockTag",e)}_getFilter(e){let t=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?_1(c.map(l=>l.toLowerCase())):c.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,i=(c,l,u)=>{let d;switch(c.length){case 0:break;case 1:d=c[0];break;default:c.sort(),d=c}if(r&&(l!=null||u!=null))throw new Error("invalid filter");let f={};return d&&(f.address=d),t.length&&(f.topics=t),l&&(f.fromBlock=l),u&&(f.toBlock=u),r&&(f.blockHash=r),f},o=[];if(e.address)if(Array.isArray(e.address))for(let c of e.address)o.push(this._getAddress(c));else o.push(this._getAddress(e.address));let s;"fromBlock"in e&&(s=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),o.filter(c=>typeof c!="string").length||s!=null&&typeof s!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(o),s,a]).then(c=>i(c[0],c[1],c[2])):i(o,s,a)}_getTransactionRequest(e){let t=Sr(e),r=[];if(["to","from"].forEach(i=>{if(t[i]==null)return;let o=dt(t[i],this);qg(o)?r.push(function(){return h(this,null,function*(){t[i]=yield o})}()):t[i]=o}),t.blockTag!=null){let i=this._getBlockTag(t.blockTag);qg(i)?r.push(function(){return h(this,null,function*(){t.blockTag=yield i})}()):t.blockTag=i}return r.length?function(){return h(this,null,function*(){return yield Promise.all(r),t})}():t}getNetwork(){return h(this,null,function*(){if(this.#i==null){let i=h(this,null,function*(){try{let o=yield this._detectNetwork();return this.emit("network",o,null),o}catch(o){throw this.#i===i&&(this.#i=null),o}});return this.#i=i,(yield i).clone()}let e=this.#i,[t,r]=yield Promise.all([e,this._detectNetwork()]);return t.chainId!==r.chainId&&(this.#s?(this.emit("network",r,t),this.#i===e&&(this.#i=Promise.resolve(r))):E(!1,`network changed: ${t.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()})}getFeeData(){return h(this,null,function*(){let e=yield this.getNetwork(),t=()=>h(this,null,function*(){let{_block:i,gasPrice:o,priorityFee:s}=yield st({_block:this.#b("latest",!1),gasPrice:h(this,null,function*(){try{let u=yield this.#c({method:"getGasPrice"});return R(u,"%response")}catch{}return null}),priorityFee:h(this,null,function*(){try{let u=yield this.#c({method:"getPriorityFee"});return R(u,"%response")}catch{}return null})}),a=null,c=null,l=this._wrapBlock(i,e);return l&&l.baseFeePerGas&&(c=s??BigInt("1000000000"),a=l.baseFeePerGas*WV+c),new ws(o,a,c)}),r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){let i=new Ke(r.url),o=yield r.processFunc(t,this,i);return new ws(o.gasPrice,o.maxFeePerGas,o.maxPriorityFeePerGas)}return yield t()})}estimateGas(e){return h(this,null,function*(){let t=this._getTransactionRequest(e);return qg(t)&&(t=yield t),R(yield this.#c({method:"estimateGas",transaction:t}),"%response")})}#u(e,t,r){return h(this,null,function*(){E(r<qV,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});let i=Sr(e);try{return S(yield this._perform({method:"call",transaction:i,blockTag:t}))}catch(o){if(!this.disableCcipRead&&ss(o)&&o.data&&r>=0&&t==="latest"&&i.to!=null&&Ue(o.data,0,4)==="0x556f1830"){let s=o.data,a=yield dt(i.to,this),c;try{c=ej(Ue(o.data,4))}catch(d){E(!1,d.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:s}})}E(c.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:s,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});let l=yield this.ccipReadFetch(i,c.calldata,c.urls);E(l!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:o.data,errorArgs:c.errorArgs}});let u={to:a,data:te([c.selector,XV([l,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{let d=yield this.#u(u,t,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:d}),d}catch(d){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:d}),d}}throw o}})}#f(e){return h(this,null,function*(){let{value:t}=yield st({network:this.getNetwork(),value:e});return t})}call(e){return h(this,null,function*(){let{tx:t,blockTag:r}=yield st({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return yield this.#f(this.#u(t,r,e.enableCcipRead?0:-1))})}#h(e,t,r){return h(this,null,function*(){let i=this._getAddress(t),o=this._getBlockTag(r);return(typeof i!="string"||typeof o!="string")&&([i,o]=yield Promise.all([i,o])),yield this.#f(this.#c(Object.assign(e,{address:i,blockTag:o})))})}getBalance(e,t){return h(this,null,function*(){return R(yield this.#h({method:"getBalance"},e,t),"%response")})}getTransactionCount(e,t){return h(this,null,function*(){return Z(yield this.#h({method:"getTransactionCount"},e,t),"%response")})}getCode(e,t){return h(this,null,function*(){return S(yield this.#h({method:"getCode"},e,t))})}getStorage(e,t,r){return h(this,null,function*(){let i=R(t,"position");return S(yield this.#h({method:"getStorage",position:i},e,r))})}broadcastTransaction(e){return h(this,null,function*(){let{blockNumber:t,hash:r,network:i}=yield st({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),o=or.from(e);if(o.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(o,i).replaceableTransaction(t)})}#b(e,t){return h(this,null,function*(){if(me(e,32))return yield this.#c({method:"getBlock",blockHash:e,includeTransactions:t});let r=this._getBlockTag(e);return typeof r!="string"&&(r=yield r),yield this.#c({method:"getBlock",blockTag:r,includeTransactions:t})})}getBlock(e,t){return h(this,null,function*(){let{network:r,params:i}=yield st({network:this.getNetwork(),params:this.#b(e,!!t)});return i==null?null:this._wrapBlock(i,r)})}getTransaction(e){return h(this,null,function*(){let{network:t,params:r}=yield st({network:this.getNetwork(),params:this.#c({method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,t)})}getTransactionReceipt(e){return h(this,null,function*(){let{network:t,params:r}=yield st({network:this.getNetwork(),params:this.#c({method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){let i=yield this.#c({method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(r,t)})}getTransactionResult(e){return h(this,null,function*(){let{result:t}=yield st({network:this.getNetwork(),result:this.#c({method:"getTransactionResult",hash:e})});return t==null?null:S(t)})}getLogs(e){return h(this,null,function*(){let t=this._getFilter(e);qg(t)&&(t=yield t);let{network:r,params:i}=yield st({network:this.getNetwork(),params:this.#c({method:"getLogs",filter:t})});return i.map(o=>this._wrapLog(o,r))})}_getProvider(e){E(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}getResolver(e){return h(this,null,function*(){return yield Es.fromName(this,e)})}getAvatar(e){return h(this,null,function*(){let t=yield this.getResolver(e);return t?yield t.getAvatar():null})}resolveName(e){return h(this,null,function*(){let t=yield this.getResolver(e);return t?yield t.getAddress():null})}lookupAddress(e){return h(this,null,function*(){e=J(e);let t=ys(e.substring(2).toLowerCase()+".addr.reverse");try{let r=yield Es.getEnsAddress(this),o=yield new Qn(r,["function resolver(bytes32) view returns (address)"],this).resolver(t);if(o==null||o===oi)return null;let a=yield new Qn(o,["function name(bytes32) view returns (string)"],this).name(t);return(yield this.resolveName(a))!==e?null:a}catch(r){if(Ve(r,"BAD_DATA")&&r.value==="0x"||Ve(r,"CALL_EXCEPTION"))return null;throw r}return null})}waitForTransaction(e,t,r){return h(this,null,function*(){let i=t??1;return i===0?this.getTransactionReceipt(e):new Promise((o,s)=>h(this,null,function*(){let a=null,c=l=>h(this,null,function*(){try{let u=yield this.getTransactionReceipt(e);if(u!=null&&l-u.blockNumber+1>=i){o(u),a&&(clearTimeout(a),a=null);return}}catch(u){console.log("EEE",u)}this.once("block",c)});r!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",c),s(Ie("timeout","TIMEOUT",{reason:"timeout"})))},r)),c(yield this.getBlockNumber())}))})}waitForBlock(e){return h(this,null,function*(){E(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})})}_clearTimeout(e){let t=this.#l.get(e);t&&(t.timer&&clearTimeout(t.timer),this.#l.delete(e))}_setTimeout(e,t){t==null&&(t=0);let r=this.#d++,i=()=>{this.#l.delete(r),e()};if(this.paused)this.#l.set(r,{timer:null,func:i,time:t});else{let o=setTimeout(i,t);this.#l.set(r,{timer:o,func:i,time:w1()})}return r}_forEachSubscriber(e){for(let t of this.#e.values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new fi(e.type);case"block":{let t=new Hg(this);return t.pollingInterval=this.pollingInterval,t}case"safe":case"finalized":return new zg(this,e.type);case"event":return new Ds(this,e.filter);case"transaction":return new Wg(this,e.hash);case"orphan":return new Gg(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(let r of this.#e.values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=t,r.started&&t.start(),this.#n!=null&&t.pause(this.#n);break}}#g(e,t){return h(this,null,function*(){let r=yield x1(e,this);return r.type==="event"&&t&&t.length>0&&t[0].removed===!0&&(r=yield x1({orphan:"drop-log",log:t[0]},this)),this.#e.get(r.tag)||null})}#y(e){return h(this,null,function*(){let t=yield x1(e,this),r=t.tag,i=this.#e.get(r);return i||(i={subscriber:this._getSubscriber(t),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#e.set(r,i)),i})}on(e,t){return h(this,null,function*(){let r=yield this.#y(e);return r.listeners.push({listener:t,once:!1}),r.started||(r.subscriber.start(),r.started=!0,this.#n!=null&&r.subscriber.pause(this.#n)),this})}once(e,t){return h(this,null,function*(){let r=yield this.#y(e);return r.listeners.push({listener:t,once:!0}),r.started||(r.subscriber.start(),r.started=!0,this.#n!=null&&r.subscriber.pause(this.#n)),this})}emit(e,...t){return h(this,null,function*(){let r=yield this.#g(e,t);if(!r||r.listeners.length===0)return!1;let i=r.listeners.length;return r.listeners=r.listeners.filter(({listener:o,once:s})=>{let a=new lo(this,s?null:o,e);try{o.call(this,...t,a)}catch{}return!s}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),this.#e.delete(r.tag)),i>0})}listenerCount(e){return h(this,null,function*(){if(e){let r=yield this.#g(e);return r?r.listeners.length:0}let t=0;for(let{listeners:r}of this.#e.values())t+=r.length;return t})}listeners(e){return h(this,null,function*(){if(e){let r=yield this.#g(e);return r?r.listeners.map(({listener:i})=>i):[]}let t=[];for(let{listeners:r}of this.#e.values())t=t.concat(r.map(({listener:i})=>i));return t})}off(e,t){return h(this,null,function*(){let r=yield this.#g(e);if(!r)return this;if(t){let i=r.listeners.map(({listener:o})=>o).indexOf(t);i>=0&&r.listeners.splice(i,1)}return(!t||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),this.#e.delete(r.tag)),this})}removeAllListeners(e){return h(this,null,function*(){if(e){let{tag:t,started:r,subscriber:i}=yield this.#y(e);r&&i.stop(),this.#e.delete(t)}else for(let[t,{started:r,subscriber:i}]of this.#e)r&&i.stop(),this.#e.delete(t);return this})}addListener(e,t){return h(this,null,function*(){return yield this.on(e,t)})}removeListener(e,t){return h(this,null,function*(){return this.off(e,t)})}get destroyed(){return this.#r}destroy(){this.removeAllListeners();for(let e of this.#l.keys())this._clearTimeout(e);this.#r=!0}get paused(){return this.#n!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#a=-1,this.#n!=null){if(this.#n==!!e)return;E(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(t=>t.pause(e)),this.#n=!!e;for(let t of this.#l.values())t.timer&&clearTimeout(t.timer),t.time=w1()-t.time}resume(){if(this.#n!=null){this._forEachSubscriber(e=>e.resume()),this.#n=null;for(let e of this.#l.values()){let t=e.time;t<0&&(t=0),e.time=w1(),setTimeout(e.func,t)}}}};function ZV(n,e){try{let t=C1(n,e);if(t)return Tn(t)}catch{}return null}function C1(n,e){if(n==="0x")return null;try{let t=Z(Ue(n,e,e+32)),r=Z(Ue(n,t,t+32));return Ue(n,t+32,t+32+r)}catch{}return null}function Hk(n){let e=We(n);if(e.length>32)throw new Error("internal; should not happen");let t=new Uint8Array(32);return t.set(e,32-e.length),t}function YV(n){if(n.length%32===0)return n;let e=new Uint8Array(Math.ceil(n.length/32)*32);return e.set(n),e}var JV=new Uint8Array([]);function XV(n){let e=[],t=0;for(let r=0;r<n.length;r++)e.push(JV),t+=32;for(let r=0;r<n.length;r++){let i=M(n[r]);e[r]=Hk(t),e.push(Hk(i.length)),e.push(YV(i)),t+=32+Math.ceil(i.length/32)*32}return te(e)}var zk="0x0000000000000000000000000000000000000000000000000000000000000000";function ej(n){let e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};E(qn(n)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});let t=Ue(n,0,32);E(Ue(t,0,12)===Ue(zk,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Ue(t,12);try{let r=[],i=Z(Ue(n,32,64)),o=Z(Ue(n,i,i+32)),s=Ue(n,i+32);for(let a=0;a<o;a++){let c=ZV(s,a*32);if(c==null)throw new Error("abort");r.push(c)}e.urls=r}catch{E(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{let r=C1(n,64);if(r==null)throw new Error("abort");e.calldata=r}catch{E(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}E(Ue(n,100,128)===Ue(zk,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Ue(n,96,100);try{let r=C1(n,128);if(r==null)throw new Error("abort");e.extraData=r}catch{E(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function Za(n,e){if(n.provider)return n.provider;E(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}function Gk(n,e){return h(this,null,function*(){let t=Sr(e);if(t.to!=null&&(t.to=dt(t.to,n)),t.from!=null){let r=t.from;t.from=Promise.all([n.getAddress(),dt(r,n)]).then(([i,o])=>(g(i.toLowerCase()===o.toLowerCase(),"transaction from mismatch","tx.from",o),i))}else t.from=n.getAddress();return yield st(t)})}var Mr=class{provider;constructor(e){k(this,{provider:e||null})}getNonce(e){return h(this,null,function*(){return Za(this,"getTransactionCount").getTransactionCount(yield this.getAddress(),e)})}populateCall(e){return h(this,null,function*(){return yield Gk(this,e)})}populateTransaction(e){return h(this,null,function*(){let t=Za(this,"populateTransaction"),r=yield Gk(this,e);r.nonce==null&&(r.nonce=yield this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=yield this.estimateGas(r));let i=yield this.provider.getNetwork();if(r.chainId!=null){let s=R(r.chainId);g(s===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=i.chainId;let o=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||o)?g(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&o&&g(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){let s=yield t.getFeeData();E(s.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=s.gasPrice)}else{let s=yield t.getFeeData();if(r.type==null)if(s.maxFeePerGas!=null&&s.maxPriorityFeePerGas!=null)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,r.gasPrice!=null){let a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=s.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=s.maxPriorityFeePerGas);else s.gasPrice!=null?(E(!o,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=s.gasPrice),r.type=0):E(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3||r.type===4)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=s.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=s.maxPriorityFeePerGas))}return yield st(r)})}populateAuthorization(e){return h(this,null,function*(){let t=Object.assign({},e);return t.chainId==null&&(t.chainId=(yield Za(this,"getNetwork").getNetwork()).chainId),t.nonce==null&&(t.nonce=yield this.getNonce()),t})}estimateGas(e){return h(this,null,function*(){return Za(this,"estimateGas").estimateGas(yield this.populateCall(e))})}call(e){return h(this,null,function*(){return Za(this,"call").call(yield this.populateCall(e))})}resolveName(e){return h(this,null,function*(){return yield Za(this,"resolveName").resolveName(e)})}sendTransaction(e){return h(this,null,function*(){let t=Za(this,"sendTransaction"),r=yield this.populateTransaction(e);delete r.from;let i=or.from(r);return yield t.broadcastTransaction(yield this.signTransaction(i))})}authorize(e){E(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}},Ya=class n extends Mr{address;constructor(e,t){super(t),k(this,{address:e})}getAddress(){return h(this,null,function*(){return this.address})}connect(e){return new n(this.address,e)}#e(e,t){E(!1,`VoidSigner cannot sign ${e}`,"UNSUPPORTED_OPERATION",{operation:t})}signTransaction(e){return h(this,null,function*(){this.#e("transactions","signTransaction")})}signMessage(e){return h(this,null,function*(){this.#e("messages","signMessage")})}signTypedData(e,t,r){return h(this,null,function*(){this.#e("typed-data","signTypedData")})}};var Wk=new Set;function hn(n){Wk.has(n)||(Wk.add(n),console.log("========= NOTICE ========="),console.log(`Request-Rate Exceeded for ${n} (this message will not be repeated)`),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.org/api-keys/"),console.log("=========================="))}function tj(n){return JSON.parse(JSON.stringify(n))}var Qg=class{#e;#t;#n;#r;#i;#s;constructor(e){this.#e=e,this.#t=null,this.#n=this.#o.bind(this),this.#r=!1,this.#i=null,this.#s=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}#o(e){return h(this,null,function*(){try{this.#t==null&&(this.#t=this._subscribe(this.#e));let t=null;try{t=yield this.#t}catch(o){if(!Ve(o,"UNSUPPORTED_OPERATION")||o.operation!=="eth_newFilter")throw o}if(t==null){this.#t=null,this.#e._recoverSubscriber(this,this._recover(this.#e));return}let r=yield this.#e.getNetwork();if(this.#i||(this.#i=r),this.#i.chainId!==r.chainId)throw new Error("chaid changed");if(this.#s)return;let i=yield this.#e.send("eth_getFilterChanges",[t]);yield this._emitResults(this.#e,i)}catch(t){console.log("@TODO",t)}this.#e.once("block",this.#n)})}#a(){let e=this.#t;e&&(this.#t=null,e.then(t=>{this.#e.destroyed||this.#e.send("eth_uninstallFilter",[t])}))}start(){this.#r||(this.#r=!0,this.#o(-2))}stop(){this.#r&&(this.#r=!1,this.#s=!0,this.#a(),this.#e.off("block",this.#n))}pause(e){e&&this.#a(),this.#e.off("block",this.#n)}resume(){this.start()}},Zg=class extends Qg{#e;constructor(e,t){super(e),this.#e=tj(t)}_recover(e){return new Ds(e,this.#e)}_subscribe(e){return h(this,null,function*(){return yield e.send("eth_newFilter",[this.#e])})}_emitResults(e,t){return h(this,null,function*(){for(let r of t)e.emit(this.#e,e._wrapLog(r,e._network))})}},Yg=class extends Qg{_subscribe(e){return h(this,null,function*(){return yield e.send("eth_newPendingTransactionFilter",[])})}_emitResults(e,t){return h(this,null,function*(){for(let r of t)e.emit("pending",r)})}};var nj="bigint,boolean,function,number,string,symbol".split(/,/g);function Jg(n){if(n==null||nj.indexOf(typeof n)>=0||typeof n.getAddress=="function")return n;if(Array.isArray(n))return n.map(Jg);if(typeof n=="object")return Object.keys(n).reduce((e,t)=>(e[t]=n[t],e),{});throw new Error(`should not happen: ${n} (${typeof n})`)}function rj(n){return new Promise(e=>{setTimeout(e,n)})}function eu(n){return n&&n.toLowerCase()}function qk(n){return n&&typeof n.pollingInterval=="number"}var Kk={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3},Ss=class extends Mr{address;constructor(e,t){super(e),t=J(t),k(this,{address:t})}connect(e){E(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}getAddress(){return h(this,null,function*(){return this.address})}populateTransaction(e){return h(this,null,function*(){return yield this.populateCall(e)})}sendUncheckedTransaction(e){return h(this,null,function*(){let t=Jg(e),r=[];if(t.from){let o=t.from;r.push(h(this,null,function*(){let s=yield dt(o,this.provider);g(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=s}))}else t.from=this.address;if(t.gasLimit==null&&r.push(h(this,null,function*(){t.gasLimit=yield this.provider.estimateGas(N(x({},t),{from:this.address}))})),t.to!=null){let o=t.to;r.push(h(this,null,function*(){t.to=yield dt(o,this.provider)}))}r.length&&(yield Promise.all(r));let i=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[i])})}sendTransaction(e){return h(this,null,function*(){let t=yield this.provider.getBlockNumber(),r=yield this.sendUncheckedTransaction(e);return yield new Promise((i,o)=>{let s=[1e3,100],a=0,c=()=>h(this,null,function*(){try{let l=yield this.provider.getTransaction(r);if(l!=null){i(l.replaceableTransaction(t));return}}catch(l){if(Ve(l,"CANCELLED")||Ve(l,"BAD_DATA")||Ve(l,"NETWORK_ERROR")||Ve(l,"UNSUPPORTED_OPERATION")){l.info==null&&(l.info={}),l.info.sendTransactionHash=r,o(l);return}if(Ve(l,"INVALID_ARGUMENT")&&(a++,l.info==null&&(l.info={}),l.info.sendTransactionHash=r,a>10)){o(l);return}this.provider.emit("error",Ie("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:l}))}this.provider._setTimeout(()=>{c()},s.pop()||4e3)});c()})})}signTransaction(e){return h(this,null,function*(){let t=Jg(e);if(t.from){let i=yield dt(t.from,this.provider);g(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=i}else t.from=this.address;let r=this.provider.getRpcTransaction(t);return yield this.provider.send("eth_signTransaction",[r])})}signMessage(e){return h(this,null,function*(){let t=typeof e=="string"?qe(e):e;return yield this.provider.send("personal_sign",[S(t),this.address.toLowerCase()])})}signTypedData(e,t,r){return h(this,null,function*(){let i=Jg(r),o=yield Ir.resolveNames(e,t,i,s=>h(this,null,function*(){let a=yield dt(s);return g(a!=null,"TypedData does not support null address","value",s),a}));return yield this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Ir.getPayload(o.domain,t,o.value))])})}unlock(e){return h(this,null,function*(){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])})}_legacySignMessage(e){return h(this,null,function*(){let t=typeof e=="string"?qe(e):e;return yield this.provider.send("eth_sign",[this.address.toLowerCase(),S(t)])})}},Ts=class n extends Tr{#e;#t;#n;#r;#i;#s;#o;#a(){if(this.#r)return;let e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#r=setTimeout(()=>{this.#r=null;let t=this.#n;for(this.#n=[];t.length;){let r=[t.shift()];for(;t.length&&r.length!==this.#e.batchMaxCount;)if(r.push(t.shift()),JSON.stringify(r.map(o=>o.payload)).length>this.#e.batchMaxSize){t.unshift(r.pop());break}h(this,null,function*(){let i=r.length===1?r[0].payload:r.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{let o=yield this._send(i);this.emit("debug",{action:"receiveRpcResult",result:o});for(let{resolve:s,reject:a,payload:c}of r){if(this.destroyed){a(Ie("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:c.method}));continue}let l=o.filter(u=>u.id===c.id)[0];if(l==null){let u=Ie("missing response for request","BAD_DATA",{value:o,info:{payload:c}});this.emit("error",u),a(u);continue}if("error"in l){a(this.getRpcError(c,l));continue}s(l.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(let{reject:s}of r)s(o)}})}},e)}constructor(e,t){super(e,t),this.#t=1,this.#e=Object.assign({},Kk,t||{}),this.#n=[],this.#r=null,this.#s=null,this.#o=null;{let i=null,o=new Promise(s=>{i=s});this.#i={promise:o,resolve:i}}let r=this._getOption("staticNetwork");typeof r=="boolean"?(g(!r||e!=="any","staticNetwork cannot be used on special network 'any'","options",t),r&&e!=null&&(this.#s=De.from(e))):r&&(g(e==null||r.matches(e),"staticNetwork MUST match network object","options",t),this.#s=r)}_getOption(e){return this.#e[e]}get _network(){return E(this.#s,"network is not available yet","NETWORK_ERROR"),this.#s}_perform(e){return h(this,null,function*(){if(e.method==="call"||e.method==="estimateGas"){let r=e.transaction;if(r&&r.type!=null&&R(r.type)&&r.maxFeePerGas==null&&r.maxPriorityFeePerGas==null){let i=yield this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(e=Object.assign({},e,{transaction:Object.assign({},r,{type:void 0})}))}}let t=this.getRpcRequest(e);return t!=null?yield this.send(t.method,t.args):kt(n.prototype,this,"_perform").call(this,e)})}_detectNetwork(){return h(this,null,function*(){let e=this._getOption("staticNetwork");if(e)if(e===!0){if(this.#s)return this.#s}else return e;return this.#o?yield this.#o:this.ready?(this.#o=h(this,null,function*(){try{let t=De.from(R(yield this.send("eth_chainId",[])));return this.#o=null,t}catch(t){throw this.#o=null,t}}),yield this.#o):(this.#o=h(this,null,function*(){let t={id:this.#t++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:t});let r;try{r=(yield this._send(t))[0],this.#o=null}catch(i){throw this.#o=null,this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:r}),"result"in r)return De.from(R(r.result));throw this.getRpcError(t,r)}),yield this.#o)})}_start(){this.#i==null||this.#i.resolve==null||(this.#i.resolve(),this.#i=null,h(this,null,function*(){for(;this.#s==null&&!this.destroyed;)try{this.#s=yield this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Ie("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),yield rj(1e3)}this.#a()}))}_waitUntilReady(){return h(this,null,function*(){if(this.#i!=null)return yield this.#i.promise})}_getSubscriber(e){return e.type==="pending"?new Yg(this):e.type==="event"?this._getOption("polling")?new Ds(this,e.filter):new Zg(this,e.filter):e.type==="orphan"&&e.filter.orphan==="drop-log"?new fi("orphan"):super._getSubscriber(e)}get ready(){return this.#i==null}getRpcTransaction(e){let t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(r=>{if(e[r]==null)return;let i=r;r==="gasLimit"&&(i="gas"),t[i]=Yt(R(e[r],`tx.${r}`))}),["from","to","data"].forEach(r=>{e[r]!=null&&(t[r]=S(e[r]))}),e.accessList&&(t.accessList=un(e.accessList)),e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.map(r=>r.toLowerCase())),e.authorizationList&&(t.authorizationList=e.authorizationList.map(r=>{let i=Ba(r);return{address:i.address,nonce:Yt(i.nonce),chainId:Yt(i.chainId),yParity:Yt(i.signature.yParity),r:Yt(i.signature.r),s:Yt(i.signature.s)}})),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[eu(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[eu(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[eu(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[eu(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&e.filter.address!=null&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(eu):e.filter.address=eu(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){let{method:r}=e,{error:i}=t;if(r==="eth_estimateGas"&&i.message){let a=i.message;if(!a.match(/revert/i)&&a.match(/insufficient funds/i))return Ie("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:i}});if(a.match(/nonce/i)&&a.match(/too low/i))return Ie("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:i}})}if(r==="eth_call"||r==="eth_estimateGas"){let a=E1(i),c=Dr.getBuiltinCallException(r==="eth_call"?"call":"estimateGas",e.params[0],a?a.data:null);return c.info={error:i,payload:e},c}let o=JSON.stringify(ij(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return Ie("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[r]||"unknown",reason:"rejected",info:{payload:e,error:i}});if(r==="eth_sendRawTransaction"||r==="eth_sendTransaction"){let a=e.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return Ie("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:a,info:{error:i}});if(o.match(/nonce/i)&&o.match(/too low/i))return Ie("nonce has already been used","NONCE_EXPIRED",{transaction:a,info:{error:i}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return Ie("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:a,info:{error:i}});if(o.match(/only replay-protected/i))return Ie("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:r,info:{transaction:a,info:{error:i}}})}let s=!!o.match(/the method .* does not exist/i);return s||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(s=!0),s?Ie("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:i,payload:e}}):Ie("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:e})}send(e,t){if(this.destroyed)return Promise.reject(Ie("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));let r=this.#t++,i=new Promise((o,s)=>{this.#n.push({resolve:o,reject:s,payload:{method:e,params:t,id:r,jsonrpc:"2.0"}})});return this.#a(),i}getSigner(e){return h(this,null,function*(){e==null&&(e=0);let t=this.send("eth_accounts",[]);if(typeof e=="number"){let i=yield t;if(e>=i.length)throw new Error("no such account");return new Ss(this,i[e])}let{accounts:r}=yield st({network:this.getNetwork(),accounts:t});e=J(e);for(let i of r)if(J(i)===e)return new Ss(this,e);throw new Error("invalid account")})}listAccounts(){return h(this,null,function*(){return(yield this.send("eth_accounts",[])).map(t=>new Ss(this,t))})}destroy(){this.#r&&(clearTimeout(this.#r),this.#r=null);for(let{payload:e,reject:t}of this.#n)t(Ie("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#n=[],super.destroy()}},Cf=class extends Ts{#e;constructor(e,t){super(e,t);let r=this._getOption("pollingInterval");r==null&&(r=Kk.pollingInterval),this.#e=r}_getSubscriber(e){let t=super._getSubscriber(e);return qk(t)&&(t.pollingInterval=this.#e),t}get pollingInterval(){return this.#e}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#e=e,this._forEachSubscriber(t=>{qk(t)&&(t.pollingInterval=this.#e)})}},mt=class n extends Cf{#e;constructor(e,t,r){e==null&&(e="http://localhost:8545"),super(t,r),typeof e=="string"?this.#e=new Ke(e):this.#e=e.clone()}_getConnection(){return this.#e.clone()}send(e,t){return h(this,null,function*(){return yield this._start(),yield kt(n.prototype,this,"send").call(this,e,t)})}_send(e){return h(this,null,function*(){let t=this._getConnection();t.body=JSON.stringify(e),t.setHeader("content-type","application/json");let r=yield t.send();r.assertOk();let i=r.bodyJson;return Array.isArray(i)||(i=[i]),i})}};function E1(n){if(n==null)return null;if(typeof n.message=="string"&&n.message.match(/revert/i)&&me(n.data))return{message:n.message,data:n.data};if(typeof n=="object"){for(let e in n){let t=E1(n[e]);if(t)return t}return null}if(typeof n=="string")try{return E1(JSON.parse(n))}catch{}return null}function A1(n,e){if(n!=null){if(typeof n.message=="string"&&e.push(n.message),typeof n=="object")for(let t in n)A1(n[t],e);if(typeof n=="string")try{return A1(JSON.parse(n),e)}catch{}}}function ij(n){let e=[];return A1(n,e),e}var Xg="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function oj(n){switch(n){case"mainnet":return"rpc.ankr.com/eth";case"goerli":return"rpc.ankr.com/eth_goerli";case"sepolia":return"rpc.ankr.com/eth_sepolia";case"arbitrum":return"rpc.ankr.com/arbitrum";case"base":return"rpc.ankr.com/base";case"base-goerli":return"rpc.ankr.com/base_goerli";case"base-sepolia":return"rpc.ankr.com/base_sepolia";case"bnb":return"rpc.ankr.com/bsc";case"bnbt":return"rpc.ankr.com/bsc_testnet_chapel";case"matic":return"rpc.ankr.com/polygon";case"matic-mumbai":return"rpc.ankr.com/polygon_mumbai";case"optimism":return"rpc.ankr.com/optimism";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia"}g(!1,"unsupported network","network",n)}var Ja=class n extends mt{apiKey;constructor(e,t){e==null&&(e="mainnet");let r=De.from(e);t==null&&(t=Xg);let i={polling:!0,staticNetwork:r},o=n.getRequest(r,t);super(o,r,i),k(this,{apiKey:t})}_getProvider(e){try{return new n(e,this.apiKey)}catch{}return super._getProvider(e)}static getRequest(e,t){t==null&&(t=Xg);let r=new Ke(`https://${oj(e.name)}/${t}`);return r.allowGzip=!0,t===Xg&&(r.retryFunc=(i,o,s)=>h(this,null,function*(){return hn("AnkrProvider"),!0})),r}getRpcError(e,t){return e.method==="eth_sendRawTransaction"&&t&&t.error&&t.error.message==="INTERNAL_ERROR: could not replace existing tx"&&(t.error.message="replacement transaction underpriced"),super.getRpcError(e,t)}isCommunityResource(){return this.apiKey===Xg}};var e0="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";function sj(n){switch(n){case"mainnet":return"eth-mainnet.alchemyapi.io";case"goerli":return"eth-goerli.g.alchemy.com";case"sepolia":return"eth-sepolia.g.alchemy.com";case"arbitrum":return"arb-mainnet.g.alchemy.com";case"arbitrum-goerli":return"arb-goerli.g.alchemy.com";case"arbitrum-sepolia":return"arb-sepolia.g.alchemy.com";case"base":return"base-mainnet.g.alchemy.com";case"base-goerli":return"base-goerli.g.alchemy.com";case"base-sepolia":return"base-sepolia.g.alchemy.com";case"matic":return"polygon-mainnet.g.alchemy.com";case"matic-amoy":return"polygon-amoy.g.alchemy.com";case"matic-mumbai":return"polygon-mumbai.g.alchemy.com";case"optimism":return"opt-mainnet.g.alchemy.com";case"optimism-goerli":return"opt-goerli.g.alchemy.com";case"optimism-sepolia":return"opt-sepolia.g.alchemy.com"}g(!1,"unsupported network","network",n)}var Xa=class n extends mt{apiKey;constructor(e,t){e==null&&(e="mainnet");let r=De.from(e);t==null&&(t=e0);let i=n.getRequest(r,t);super(i,r,{staticNetwork:r}),k(this,{apiKey:t})}_getProvider(e){try{return new n(e,this.apiKey)}catch{}return super._getProvider(e)}_perform(e){return h(this,null,function*(){if(e.method==="getTransactionResult"){let{trace:t,tx:r}=yield st({trace:this.send("trace_transaction",[e.hash]),tx:this.getTransaction(e.hash)});if(t==null||r==null)return null;let i,o=!1;try{i=t[0].result.output,o=t[0].error==="Reverted"}catch{}if(i)return E(!o,"an error occurred during transaction executions","CALL_EXCEPTION",{action:"getTransactionResult",data:i,reason:null,transaction:r,invocation:null,revert:null}),i;E(!1,"could not parse trace result","BAD_DATA",{value:t})}return yield kt(n.prototype,this,"_perform").call(this,e)})}isCommunityResource(){return this.apiKey===e0}static getRequest(e,t){t==null&&(t=e0);let r=new Ke(`https://${sj(e.name)}/v2/${t}`);return r.allowGzip=!0,t===e0&&(r.retryFunc=(i,o,s)=>h(this,null,function*(){return hn("alchemy"),!0})),r}};function t0(n){switch(n){case"mainnet":return"39f1d67cedf8b7831010a665328c9197";case"arbitrum":return"0550c209db33c3abf4cc927e1e18cea1";case"bnb":return"98b5a77e531614387366f6fc5da097f8";case"matic":return"cd9d4d70377471aa7c142ec4a4205249"}g(!1,"unsupported network","network",n)}function aj(n){switch(n){case"mainnet":return"ethereum-mainnet.core.chainstack.com";case"arbitrum":return"arbitrum-mainnet.core.chainstack.com";case"bnb":return"bsc-mainnet.core.chainstack.com";case"matic":return"polygon-mainnet.core.chainstack.com"}g(!1,"unsupported network","network",n)}var ec=class n extends mt{apiKey;constructor(e,t){e==null&&(e="mainnet");let r=De.from(e);t==null&&(t=t0(r.name));let i=n.getRequest(r,t);super(i,r,{staticNetwork:r}),k(this,{apiKey:t})}_getProvider(e){try{return new n(e,this.apiKey)}catch{}return super._getProvider(e)}isCommunityResource(){return this.apiKey===t0(this._network.name)}static getRequest(e,t){t==null&&(t=t0(e.name));let r=new Ke(`https://${aj(e.name)}/${t}`);return r.allowGzip=!0,t===t0(e.name)&&(r.retryFunc=(i,o,s)=>h(this,null,function*(){return hn("ChainstackProvider"),!0})),r}};var tc=class extends mt{constructor(e){e==null&&(e="mainnet");let t=De.from(e);g(t.name==="mainnet","unsupported network","network",e),super("https://cloudflare-eth.com/",t,{staticNetwork:t})}};var Qk=2e3;function cj(n){return n&&typeof n.then=="function"}var Zk="org.ethers.plugins.provider.Etherscan",Ef=class n extends di{baseUrl;constructor(e){super(Zk),k(this,{baseUrl:e})}clone(){return new n(this.baseUrl)}},lj=["enableCcipRead"],uj=1,nc=class n extends Tr{network;apiKey;#e;constructor(e,t){let r=t??null;super();let i=De.from(e);this.#e=i.getPlugin(Zk),k(this,{apiKey:r,network:i}),this.getBaseUrl()}getBaseUrl(){if(this.#e)return this.#e.baseUrl;switch(this.network.name){case"mainnet":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"holesky":return"https://api-holesky.etherscan.io";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"base":return"https://api.basescan.org";case"base-sepolia":return"https://api-sepolia.basescan.org";case"bnb":return"https://api.bscscan.com";case"bnbt":return"https://api-testnet.bscscan.com";case"matic":return"https://api.polygonscan.com";case"matic-amoy":return"https://api-amoy.polygonscan.com";case"matic-mumbai":return"https://api-testnet.polygonscan.com";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io";default:}g(!1,"unsupported network","network",this.network)}getUrl(e,t){let r=Object.keys(t).reduce((o,s)=>{let a=t[s];return a!=null&&(o+=`&${s}=${a}`),o},""),i=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.getBaseUrl()}/api?module=${e}${r}${i}`}getPostUrl(){return`${this.getBaseUrl()}/api`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t}detectNetwork(){return h(this,null,function*(){return this.network})}fetch(e,t,r){return h(this,null,function*(){let i=uj++,o=r?this.getPostUrl():this.getUrl(e,t),s=r?this.getPostData(e,t):null;this.emit("debug",{action:"sendRequest",id:i,url:o,payload:s});let a=new Ke(o);a.setThrottleParams({slotInterval:1e3}),a.retryFunc=(u,d,f)=>(this.isCommunityResource()&&hn("Etherscan"),Promise.resolve(!0)),a.processFunc=(u,d)=>h(this,null,function*(){let f=d.hasBody()?JSON.parse(Tn(d.body)):{},p=(typeof f.result=="string"?f.result:"").toLowerCase().indexOf("rate limit")>=0;return e==="proxy"?f&&f.status==0&&f.message=="NOTOK"&&p&&(this.emit("debug",{action:"receiveError",id:i,reason:"proxy-NOTOK",error:f}),d.throwThrottleError(f.result,Qk)):p&&(this.emit("debug",{action:"receiveError",id:i,reason:"null result",error:f.result}),d.throwThrottleError(f.result,Qk)),d}),s&&(a.setHeader("content-type","application/x-www-form-urlencoded; charset=UTF-8"),a.body=Object.keys(s).map(u=>`${u}=${s[u]}`).join("&"));let c=yield a.send();try{c.assertOk()}catch(u){this.emit("debug",{action:"receiveError",id:i,error:u,reason:"assertOk"}),E(!1,"response error","SERVER_ERROR",{request:a,response:c})}c.hasBody()||(this.emit("debug",{action:"receiveError",id:i,error:"missing body",reason:"null body"}),E(!1,"missing response","SERVER_ERROR",{request:a,response:c}));let l=JSON.parse(Tn(c.body));return e==="proxy"?(l.jsonrpc!="2.0"&&(this.emit("debug",{action:"receiveError",id:i,result:l,reason:"invalid JSON-RPC"}),E(!1,"invalid JSON-RPC response (missing jsonrpc='2.0')","SERVER_ERROR",{request:a,response:c,info:{result:l}})),l.error&&(this.emit("debug",{action:"receiveError",id:i,result:l,reason:"JSON-RPC error"}),E(!1,"error response","SERVER_ERROR",{request:a,response:c,info:{result:l}})),this.emit("debug",{action:"receiveRequest",id:i,result:l}),l.result):l.status==0&&(l.message==="No records found"||l.message==="No transactions found")?(this.emit("debug",{action:"receiveRequest",id:i,result:l}),l.result):((l.status!=1||typeof l.message=="string"&&!l.message.match(/^OK/))&&(this.emit("debug",{action:"receiveError",id:i,result:l}),E(!1,"error response","SERVER_ERROR",{request:a,response:c,info:{result:l}})),this.emit("debug",{action:"receiveRequest",id:i,result:l}),l.result)})}_getTransactionPostData(e){let t={};for(let r in e){if(lj.indexOf(r)>=0||e[r]==null)continue;let i=e[r];if(!(r==="type"&&i===0)&&!(r==="blockTag"&&i==="latest")){if({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[r])i=Yt(i);else if(r==="accessList")i="["+un(i).map(o=>`{address:"${o.address}",storageKeys:["${o.storageKeys.join('","')}"]}`).join(",")+"]";else if(r==="blobVersionedHashes"){if(i.length===0)continue;E(!1,"Etherscan API does not support blobVersionedHashes","UNSUPPORTED_OPERATION",{operation:"_getTransactionPostData",info:{transaction:e}})}else i=S(i);t[r]=i}}return t}_checkError(e,t,r){let i="";if(Ve(t,"SERVER_ERROR")){try{i=t.info.result.error.message}catch{}if(!i)try{i=t.info.message}catch{}}if(e.method==="estimateGas"&&!i.match(/revert/i)&&i.match(/insufficient funds/i)&&E(!1,"insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.transaction}),(e.method==="call"||e.method==="estimateGas")&&i.match(/execution reverted/i)){let o="";try{o=t.info.result.error.data}catch{}let s=Dr.getBuiltinCallException(e.method,e.transaction,o);throw s.info={request:e,error:t},s}if(i&&e.method==="broadcastTransaction"){let o=or.from(e.signedTransaction);i.match(/replacement/i)&&i.match(/underpriced/i)&&E(!1,"replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:o}),i.match(/insufficient funds/)&&E(!1,"insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:o}),i.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&E(!1,"nonce has already been used","NONCE_EXPIRED",{transaction:o})}throw t}_detectNetwork(){return h(this,null,function*(){return this.network})}_perform(e){return h(this,null,function*(){switch(e.method){case"chainId":return this.network.chainId;case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getPriorityFee":if(this.network.name==="mainnet")return"1000000000";if(this.network.name==="optimism")return"1000000";throw new Error("fallback onto the AbstractProvider default");case"getBalance":return this.fetch("account",{action:"balance",address:e.address,tag:e.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:e.address,tag:e.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:e.address,tag:e.blockTag});case"getStorage":return this.fetch("proxy",{action:"eth_getStorageAt",address:e.address,position:e.position,tag:e.blockTag});case"broadcastTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:e.signedTransaction},!0).catch(t=>this._checkError(e,t,e.signedTransaction));case"getBlock":if("blockTag"in e)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:e.blockTag,boolean:e.includeTransactions?"true":"false"});E(!1,"getBlock by blockHash not supported by Etherscan","UNSUPPORTED_OPERATION",{operation:"getBlock(blockHash)"});case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:e.hash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:e.hash});case"call":{if(e.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");let t=this._getTransactionPostData(e.transaction);t.module="proxy",t.action="eth_call";try{return yield this.fetch("proxy",t,!0)}catch(r){return this._checkError(e,r,e.transaction)}}case"estimateGas":{let t=this._getTransactionPostData(e.transaction);t.module="proxy",t.action="eth_estimateGas";try{return yield this.fetch("proxy",t,!0)}catch(r){return this._checkError(e,r,e.transaction)}}default:break}return kt(n.prototype,this,"_perform").call(this,e)})}getNetwork(){return h(this,null,function*(){return this.network})}getEtherPrice(){return h(this,null,function*(){return this.network.name!=="mainnet"?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)})}getContract(e){return h(this,null,function*(){let t=this._getAddress(e);cj(t)&&(t=yield t);try{let r=yield this.fetch("contract",{action:"getabi",address:t}),i=JSON.parse(r);return new Qn(t,i,this)}catch{return null}})}isCommunityResource(){return this.apiKey==null}};function dj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}var Yk=dj().WebSocket;var Ms=class{#e;#t;get filter(){return JSON.parse(this.#t)}#n;#r;#i;constructor(e,t){this.#e=e,this.#t=JSON.stringify(t),this.#n=null,this.#r=null,this.#i=null}start(){this.#n=this.#e.send("eth_subscribe",this.filter).then(e=>(this.#e._register(e,this),e))}stop(){this.#n.then(e=>{this.#e.destroyed||this.#e.send("eth_unsubscribe",[e])}),this.#n=null}pause(e){E(e,"preserve logs while paused not supported by SocketSubscriber yet","UNSUPPORTED_OPERATION",{operation:"pause(false)"}),this.#r=!!e}resume(){this.#r=null}_handleMessage(e){if(this.#n!=null&&this.#r===null){let t=this.#i;t==null?t=this._emit(this.#e,e):t=t.then(()=>h(this,null,function*(){yield this._emit(this.#e,e)})),this.#i=t.then(()=>{this.#i===t&&(this.#i=null)})}}_emit(e,t){return h(this,null,function*(){throw new Error("sub-classes must implemente this; _emit")})}},tu=class extends Ms{constructor(e){super(e,["newHeads"])}_emit(e,t){return h(this,null,function*(){e.emit("block",parseInt(t.number))})}},nu=class extends Ms{constructor(e){super(e,["newPendingTransactions"])}_emit(e,t){return h(this,null,function*(){e.emit("pending",t)})}},ru=class extends Ms{#e;get logFilter(){return JSON.parse(this.#e)}constructor(e,t){super(e,["logs",t]),this.#e=JSON.stringify(t)}_emit(e,t){return h(this,null,function*(){e.emit(this.logFilter,e._wrapLog(t,e._network))})}},rc=class extends Ts{#e;#t;#n;constructor(e,t){let r=Object.assign({},t??{});g(r.batchMaxCount==null||r.batchMaxCount===1,"sockets-based providers do not support batches","options.batchMaxCount",t),r.batchMaxCount=1,r.staticNetwork==null&&(r.staticNetwork=!0),super(e,r),this.#e=new Map,this.#t=new Map,this.#n=new Map}_getSubscriber(e){switch(e.type){case"close":return new fi("close");case"block":return new tu(this);case"pending":return new nu(this);case"event":return new ru(this,e.filter);case"orphan":if(e.filter.orphan==="drop-log")return new fi("drop-log")}return super._getSubscriber(e)}_register(e,t){this.#t.set(e,t);let r=this.#n.get(e);if(r){for(let i of r)t._handleMessage(i);this.#n.delete(e)}}_send(e){return h(this,null,function*(){g(!Array.isArray(e),"WebSocket does not support batch send","payload",e);let t=new Promise((r,i)=>{this.#e.set(e.id,{payload:e,resolve:r,reject:i})});return yield this._waitUntilReady(),yield this._write(JSON.stringify(e)),[yield t]})}_processMessage(e){return h(this,null,function*(){let t=JSON.parse(e);if(t&&typeof t=="object"&&"id"in t){let r=this.#e.get(t.id);if(r==null){this.emit("error",Ie("received result for unknown id","UNKNOWN_ERROR",{reasonCode:"UNKNOWN_ID",result:t}));return}this.#e.delete(t.id),r.resolve(t)}else if(t&&t.method==="eth_subscription"){let r=t.params.subscription,i=this.#t.get(r);if(i)i._handleMessage(t.params.result);else{let o=this.#n.get(r);o==null&&(o=[],this.#n.set(r,o)),o.push(t.params.result)}}else{this.emit("error",Ie("received unexpected message","UNKNOWN_ERROR",{reasonCode:"UNEXPECTED_MESSAGE",result:t}));return}})}_write(e){return h(this,null,function*(){throw new Error("sub-classes must override this")})}};var Ao=class n extends rc{#e;#t;get websocket(){if(this.#t==null)throw new Error("websocket closed");return this.#t}constructor(e,t,r){super(t,r),typeof e=="string"?(this.#e=()=>new Yk(e),this.#t=this.#e()):typeof e=="function"?(this.#e=e,this.#t=e()):(this.#e=null,this.#t=e),this.websocket.onopen=()=>h(this,null,function*(){try{yield this._start(),this.resume()}catch(i){console.log("failed to start WebsocketProvider",i)}}),this.websocket.onmessage=i=>{this._processMessage(i.data)}}_write(e){return h(this,null,function*(){this.websocket.send(e)})}destroy(){return h(this,null,function*(){this.#t!=null&&(this.#t.close(),this.#t=null),kt(n.prototype,this,"destroy").call(this)})}};var Af="84842078b09946638c03157f83405213";function fj(n){switch(n){case"mainnet":return"mainnet.infura.io";case"goerli":return"goerli.infura.io";case"sepolia":return"sepolia.infura.io";case"arbitrum":return"arbitrum-mainnet.infura.io";case"arbitrum-goerli":return"arbitrum-goerli.infura.io";case"arbitrum-sepolia":return"arbitrum-sepolia.infura.io";case"base":return"base-mainnet.infura.io";case"base-goerlia":case"base-goerli":return"base-goerli.infura.io";case"base-sepolia":return"base-sepolia.infura.io";case"bnb":return"bsc-mainnet.infura.io";case"bnbt":return"bsc-testnet.infura.io";case"linea":return"linea-mainnet.infura.io";case"linea-goerli":return"linea-goerli.infura.io";case"linea-sepolia":return"linea-sepolia.infura.io";case"matic":return"polygon-mainnet.infura.io";case"matic-amoy":return"polygon-amoy.infura.io";case"matic-mumbai":return"polygon-mumbai.infura.io";case"optimism":return"optimism-mainnet.infura.io";case"optimism-goerli":return"optimism-goerli.infura.io";case"optimism-sepolia":return"optimism-sepolia.infura.io"}g(!1,"unsupported network","network",n)}var iu=class extends Ao{projectId;projectSecret;constructor(e,t){let r=new ks(e,t),i=r._getConnection();E(!i.credentials,"INFURA WebSocket project secrets unsupported","UNSUPPORTED_OPERATION",{operation:"InfuraProvider.getWebSocketProvider()"});let o=i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(o,r._network),k(this,{projectId:r.projectId,projectSecret:r.projectSecret})}isCommunityResource(){return this.projectId===Af}},ks=class n extends mt{projectId;projectSecret;constructor(e,t,r){e==null&&(e="mainnet");let i=De.from(e);t==null&&(t=Af),r==null&&(r=null);let o=n.getRequest(i,t,r);super(o,i,{staticNetwork:i}),k(this,{projectId:t,projectSecret:r})}_getProvider(e){try{return new n(e,this.projectId,this.projectSecret)}catch{}return super._getProvider(e)}isCommunityResource(){return this.projectId===Af}static getWebSocketProvider(e,t){return new iu(e,t)}static getRequest(e,t,r){t==null&&(t=Af),r==null&&(r=null);let i=new Ke(`https://${fj(e.name)}/v3/${t}`);return i.allowGzip=!0,r&&i.setCredentials("",r),t===Af&&(i.retryFunc=(o,s,a)=>h(this,null,function*(){return hn("InfuraProvider"),!0})),i}};var n0="919b412a057b5e9c9b6dce193c5a60242d6efadb";function hj(n){switch(n){case"mainnet":return"ethers.quiknode.pro";case"goerli":return"ethers.ethereum-goerli.quiknode.pro";case"sepolia":return"ethers.ethereum-sepolia.quiknode.pro";case"holesky":return"ethers.ethereum-holesky.quiknode.pro";case"arbitrum":return"ethers.arbitrum-mainnet.quiknode.pro";case"arbitrum-goerli":return"ethers.arbitrum-goerli.quiknode.pro";case"arbitrum-sepolia":return"ethers.arbitrum-sepolia.quiknode.pro";case"base":return"ethers.base-mainnet.quiknode.pro";case"base-goerli":return"ethers.base-goerli.quiknode.pro";case"base-spolia":return"ethers.base-sepolia.quiknode.pro";case"bnb":return"ethers.bsc.quiknode.pro";case"bnbt":return"ethers.bsc-testnet.quiknode.pro";case"matic":return"ethers.matic.quiknode.pro";case"matic-mumbai":return"ethers.matic-testnet.quiknode.pro";case"optimism":return"ethers.optimism.quiknode.pro";case"optimism-goerli":return"ethers.optimism-goerli.quiknode.pro";case"optimism-sepolia":return"ethers.optimism-sepolia.quiknode.pro";case"xdai":return"ethers.xdai.quiknode.pro"}g(!1,"unsupported network","network",n)}var ic=class n extends mt{token;constructor(e,t){e==null&&(e="mainnet");let r=De.from(e);t==null&&(t=n0);let i=n.getRequest(r,t);super(i,r,{staticNetwork:r}),k(this,{token:t})}_getProvider(e){try{return new n(e,this.token)}catch{}return super._getProvider(e)}isCommunityResource(){return this.token===n0}static getRequest(e,t){t==null&&(t=n0);let r=new Ke(`https://${hj(e.name)}/${t}`);return r.allowGzip=!0,t===n0&&(r.retryFunc=(i,o,s)=>h(this,null,function*(){return hn("QuickNodeProvider"),!0})),r}};var pj=BigInt("1"),mj=BigInt("2");function gj(n){for(let e=n.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1)),r=n[e];n[e]=n[t],n[t]=r}}function bj(n){return new Promise(e=>{setTimeout(e,n)})}function T1(){return new Date().getTime()}function I1(n){return JSON.stringify(n,(e,t)=>typeof t=="bigint"?{type:"bigint",value:t.toString()}:t)}var Jk={stallTimeout:400,priority:1,weight:1},Xk={blockNumber:-2,requests:0,lateResponses:0,errorResponses:0,outOfSync:-1,unsupportedEvents:0,rollingDuration:0,score:0,_network:null,_updateNumber:null,_totalTime:0,_lastFatalError:null,_lastFatalErrorTimestamp:0};function yj(n,e){return h(this,null,function*(){for(;(n.blockNumber<0||n.blockNumber<e)&&(n._updateNumber||(n._updateNumber=h(this,null,function*(){try{let t=yield n.provider.getBlockNumber();t>n.blockNumber&&(n.blockNumber=t)}catch(t){n.blockNumber=-2,n._lastFatalError=t,n._lastFatalErrorTimestamp=T1()}n._updateNumber=null})),yield n._updateNumber,n.outOfSync++,!n._lastFatalError););})}function ou(n){if(n==null)return"null";if(Array.isArray(n))return"["+n.map(ou).join(",")+"]";if(typeof n=="object"&&typeof n.toJSON=="function")return ou(n.toJSON());switch(typeof n){case"boolean":case"symbol":return n.toString();case"bigint":case"number":return BigInt(n).toString();case"string":return JSON.stringify(n);case"object":{let e=Object.keys(n);return e.sort(),"{"+e.map(t=>`${JSON.stringify(t)}:${ou(n[t])}`).join(",")+"}"}}throw console.log("Could not serialize",n),new Error("Hmm...")}function D1(n,e){if("error"in e){let r=e.error,i;return Ve(r,"CALL_EXCEPTION")?i=ou(Object.assign({},r,{shortMessage:void 0,reason:void 0,info:void 0})):i=ou(r),{tag:i,value:r}}let t=e.result;return{tag:ou(t),value:t}}function r0(n,e){let t=new Map;for(let{value:i,tag:o,weight:s}of e){let a=t.get(o)||{value:i,weight:0};a.weight+=s,t.set(o,a)}let r=null;for(let i of t.values())i.weight>=n&&(!r||i.weight>r.weight)&&(r=i);if(r)return r.value}function M1(n,e){let t=0,r=new Map,i=null,o=[];for(let{value:a,tag:c,weight:l}of e)if(a instanceof Error){let u=r.get(c)||{value:a,weight:0};u.weight+=l,r.set(c,u),(i==null||u.weight>i.weight)&&(i=u)}else o.push(BigInt(a)),t+=l;if(t<n)return i&&i.weight>=n?i.value:void 0;o.sort((a,c)=>a<c?-1:c>a?1:0);let s=Math.floor(o.length/2);return o.length%2?o[s]:(o[s-1]+o[s]+pj)/mj}function S1(n,e){let t=r0(n,e);if(t!==void 0)return t;for(let r of e)if(r.value)return r.value}function vj(n,e){if(n===1)return Z(M1(n,e),"%internal");let t=new Map,r=(s,a)=>{let c=t.get(s)||{result:s,weight:0};c.weight+=a,t.set(s,c)};for(let{weight:s,value:a}of e){let c=Z(a);r(c-1,s),r(c,s),r(c+1,s)}let i=0,o;for(let{weight:s,result:a}of t.values())s>=n&&(s>i||o!=null&&s===i&&a>o)&&(i=s,o=a);return o}var oc=class n extends Tr{quorum;eventQuorum;eventWorkers;#e;#t;#n;constructor(e,t,r){super(t,r),this.#e=e.map(i=>i instanceof Tr?Object.assign({provider:i},Jk,Xk):Object.assign({},Jk,i,Xk)),this.#t=-2,this.#n=null,r&&r.quorum!=null?this.quorum=r.quorum:this.quorum=Math.ceil(this.#e.reduce((i,o)=>(i+=o.weight,i),0)/2),this.eventQuorum=1,this.eventWorkers=1,g(this.quorum<=this.#e.reduce((i,o)=>i+o.weight,0),"quorum exceed provider weight","quorum",this.quorum)}get providerConfigs(){return this.#e.map(e=>{let t=Object.assign({},e);for(let r in t)r[0]==="_"&&delete t[r];return t})}_detectNetwork(){return h(this,null,function*(){return De.from(R(yield this._perform({method:"chainId"})))})}_translatePerform(e,t){return h(this,null,function*(){switch(t.method){case"broadcastTransaction":return yield e.broadcastTransaction(t.signedTransaction);case"call":return yield e.call(Object.assign({},t.transaction,{blockTag:t.blockTag}));case"chainId":return(yield e.getNetwork()).chainId;case"estimateGas":return yield e.estimateGas(t.transaction);case"getBalance":return yield e.getBalance(t.address,t.blockTag);case"getBlock":{let r="blockHash"in t?t.blockHash:t.blockTag;return yield e.getBlock(r,t.includeTransactions)}case"getBlockNumber":return yield e.getBlockNumber();case"getCode":return yield e.getCode(t.address,t.blockTag);case"getGasPrice":return(yield e.getFeeData()).gasPrice;case"getPriorityFee":return(yield e.getFeeData()).maxPriorityFeePerGas;case"getLogs":return yield e.getLogs(t.filter);case"getStorage":return yield e.getStorage(t.address,t.position,t.blockTag);case"getTransaction":return yield e.getTransaction(t.hash);case"getTransactionCount":return yield e.getTransactionCount(t.address,t.blockTag);case"getTransactionReceipt":return yield e.getTransactionReceipt(t.hash);case"getTransactionResult":return yield e.getTransactionResult(t.hash)}})}#r(e){let t=Array.from(e).map(i=>i.config),r=this.#e.slice();gj(r),r.sort((i,o)=>i.priority-o.priority);for(let i of r)if(!i._lastFatalError&&t.indexOf(i)===-1)return i;return null}#i(e,t){let r=this.#r(e);if(r==null)return null;let i={config:r,result:null,didBump:!1,perform:null,staller:null},o=T1();return i.perform=h(this,null,function*(){try{r.requests++;let a=yield this._translatePerform(r.provider,t);i.result={result:a}}catch(a){r.errorResponses++,i.result={error:a}}let s=T1()-o;r._totalTime+=s,r.rollingDuration=.95*r.rollingDuration+.05*s,i.perform=null}),i.staller=h(this,null,function*(){yield bj(r.stallTimeout),i.staller=null}),e.add(i),i}#s(){return h(this,null,function*(){let e=this.#n;if(!e){let t=[];this.#e.forEach(r=>{t.push(h(this,null,function*(){yield yj(r,0),r._lastFatalError||(r._network=yield r.provider.getNetwork())}))}),this.#n=e=h(this,null,function*(){yield Promise.all(t);let r=null;for(let i of this.#e){if(i._lastFatalError)continue;let o=i._network;r==null?r=o.chainId:o.chainId!==r&&E(!1,"cannot mix providers on different networks","UNSUPPORTED_OPERATION",{operation:"new FallbackProvider"})}})}yield e})}#o(e,t){return h(this,null,function*(){let r=[];for(let i of e)if(i.result!=null){let{tag:o,value:s}=D1(t.method,i.result);r.push({tag:o,value:s,weight:i.config.weight})}if(!(r.reduce((i,o)=>i+o.weight,0)<this.quorum)){switch(t.method){case"getBlockNumber":{this.#t===-2&&(this.#t=Math.ceil(Z(M1(this.quorum,this.#e.filter(o=>!o._lastFatalError).map(o=>({value:o.blockNumber,tag:Z(o.blockNumber).toString(),weight:o.weight}))))));let i=vj(this.quorum,r);return i===void 0?void 0:(i>this.#t&&(this.#t=i),this.#t)}case"getGasPrice":case"getPriorityFee":case"estimateGas":return M1(this.quorum,r);case"getBlock":return"blockTag"in t&&t.blockTag==="pending"?S1(this.quorum,r):r0(this.quorum,r);case"call":case"chainId":case"getBalance":case"getTransactionCount":case"getCode":case"getStorage":case"getTransaction":case"getTransactionReceipt":case"getLogs":return r0(this.quorum,r);case"broadcastTransaction":return S1(this.quorum,r)}E(!1,"unsupported method","UNSUPPORTED_OPERATION",{operation:`_perform(${I1(t.method)})`})}})}#a(e,t){return h(this,null,function*(){if(e.size===0)throw new Error("no runners?!");let r=[],i=0;for(let s of e){if(s.perform&&r.push(s.perform),s.staller){r.push(s.staller);continue}s.didBump||(s.didBump=!0,i++)}let o=yield this.#o(e,t);if(o!==void 0){if(o instanceof Error)throw o;return o}for(let s=0;s<i;s++)this.#i(e,t);return E(r.length>0,"quorum not met","SERVER_ERROR",{request:"%sub-requests",info:{request:t,results:Array.from(e).map(s=>I1(s.result))}}),yield Promise.race(r),yield this.#a(e,t)})}_perform(e){return h(this,null,function*(){if(e.method==="broadcastTransaction"){let o=this.#e.map(c=>null),s=this.#e.map((d,f)=>h(this,[d,f],function*({provider:c,weight:l},u){try{let p=yield c._perform(e);o[u]=Object.assign(D1(e.method,{result:p}),{weight:l})}catch(p){o[u]=Object.assign(D1(e.method,{error:p}),{weight:l})}}));for(;;){let c=o.filter(d=>d!=null);for(let{value:d}of c)if(!(d instanceof Error))return d;let l=r0(this.quorum,o.filter(d=>d!=null));if(Ve(l,"INSUFFICIENT_FUNDS"))throw l;let u=s.filter((d,f)=>o[f]==null);if(u.length===0)break;yield Promise.race(u)}let a=S1(this.quorum,o);if(E(a!==void 0,"problem multi-broadcasting","SERVER_ERROR",{request:"%sub-requests",info:{request:e,results:o.map(I1)}}),a instanceof Error)throw a;return a}yield this.#s();let t=new Set,r=0;for(;;){let o=this.#i(t,e);if(o==null||(r+=o.config.weight,r>=this.quorum))break}let i=yield this.#a(t,e);for(let o of t)o.perform&&o.result==null&&o.config.lateResponses++;return i})}destroy(){return h(this,null,function*(){for(let{provider:e}of this.#e)e.destroy();kt(n.prototype,this,"destroy").call(this)})}};function xj(n){return n&&typeof n.send=="function"&&typeof n.close=="function"}var wj="goerli kovan sepolia classicKotti optimism-goerli arbitrum-goerli matic-mumbai bnbt".split(" ");function k1(n,e){e==null&&(e={});let t=s=>e[s]==="-"?!1:typeof e.exclusive=="string"?s===e.exclusive:Array.isArray(e.exclusive)?e.exclusive.indexOf(s)!==-1:!0;if(typeof n=="string"&&n.match(/^https?:/))return new mt(n);if(typeof n=="string"&&n.match(/^wss?:/)||xj(n))return new Ao(n);let r=null;try{r=De.from(n)}catch{}let i=[];if(t("publicPolygon")&&r&&(r.name==="matic"?i.push(new mt("https://polygon-rpc.com/",r,{staticNetwork:r})):r.name==="matic-amoy"&&i.push(new mt("https://rpc-amoy.polygon.technology/",r,{staticNetwork:r}))),t("alchemy"))try{i.push(new Xa(n,e.alchemy))}catch{}if(t("ankr")&&e.ankr!=null)try{i.push(new Ja(n,e.ankr))}catch{}if(t("chainstack"))try{i.push(new ec(n,e.chainstack))}catch{}if(t("cloudflare"))try{i.push(new tc(n))}catch{}if(t("etherscan"))try{i.push(new nc(n,e.etherscan))}catch{}if(t("infura"))try{let s=e.infura,a;typeof s=="object"&&(a=s.projectSecret,s=s.projectId),i.push(new ks(n,s,a))}catch{}if(t("quicknode"))try{let s=e.quicknode;i.push(new ic(n,s))}catch{}if(E(i.length,"unsupported default network","UNSUPPORTED_OPERATION",{operation:"getDefaultProvider"}),i.length===1)return i[0];let o=Math.floor(i.length/2);return o>2&&(o=2),r&&wj.indexOf(r.name)!==-1&&(o=1),e&&e.quorum&&(o=e.quorum),new oc(i,void 0,{quorum:o})}var If=class n extends Mr{signer;#e;#t;constructor(e){super(e.provider),k(this,{signer:e}),this.#e=null,this.#t=0}getAddress(){return h(this,null,function*(){return this.signer.getAddress()})}connect(e){return new n(this.signer.connect(e))}getNonce(e){return h(this,null,function*(){if(e==="pending"){this.#e==null&&(this.#e=kt(n.prototype,this,"getNonce").call(this,"pending"));let t=this.#t;return(yield this.#e)+t}return kt(n.prototype,this,"getNonce").call(this,e)})}increment(){this.#t++}reset(){this.#t=0,this.#e=null}sendTransaction(e){return h(this,null,function*(){let t=this.getNonce("pending");return this.increment(),e=yield this.signer.populateTransaction(e),e.nonce=yield t,yield this.signer.sendTransaction(e)})}signTransaction(e){return this.signer.signTransaction(e)}signMessage(e){return this.signer.signMessage(e)}signTypedData(e,t,r){return this.signer.signTypedData(e,t,r)}};var Df=class n extends Cf{#e;#t;constructor(e,t,r){let i=Object.assign({},r??{},{batchMaxCount:1});g(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(t,i),this.#t=null,r&&r.providerInfo&&(this.#t=r.providerInfo),this.#e=(o,s)=>h(this,null,function*(){let a={method:o,params:s};this.emit("debug",{action:"sendEip1193Request",payload:a});try{let c=yield e.request(a);return this.emit("debug",{action:"receiveEip1193Result",result:c}),c}catch(c){let l=new Error(c.message);throw l.code=c.code,l.data=c.data,l.payload=a,this.emit("debug",{action:"receiveEip1193Error",error:l}),l}})}get providerInfo(){return this.#t}send(e,t){return h(this,null,function*(){return yield this._start(),yield kt(n.prototype,this,"send").call(this,e,t)})}_send(e){return h(this,null,function*(){g(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{let t=yield this.#e(e.method,e.params||[]);return[{id:e.id,result:t}]}catch(t){return[{id:e.id,error:{code:t.code,data:t.data,message:t.message}}]}})}getRpcError(e,t){switch(t=JSON.parse(JSON.stringify(t)),t.error.code||-1){case 4001:t.error.message=`ethers-user-denied: ${t.error.message}`;break;case 4200:t.error.message=`ethers-unsupported: ${t.error.message}`;break}return super.getRpcError(e,t)}hasSigner(e){return h(this,null,function*(){e==null&&(e=0);let t=yield this.send("eth_accounts",[]);return typeof e=="number"?t.length>e:(e=e.toLowerCase(),t.filter(r=>r.toLowerCase()===e).length!==0)})}getSigner(e){return h(this,null,function*(){if(e==null&&(e=0),!(yield this.hasSigner(e)))try{yield this.#e("eth_requestAccounts",[])}catch(t){let r=t.payload;throw this.getRpcError(r,{id:r.id,error:t})}return yield kt(n.prototype,this,"getSigner").call(this,e)})}static discover(e){return h(this,null,function*(){if(e==null&&(e={}),e.provider)return new n(e.provider);let t=e.window?e.window:typeof window<"u"?window:null;if(t==null)return null;let r=e.anyProvider;if(r&&t.ethereum)return new n(t.ethereum);if(!("addEventListener"in t&&"dispatchEvent"in t&&"removeEventListener"in t))return null;let i=e.timeout?e.timeout:300;return i===0?null:yield new Promise((o,s)=>{let a=[],c=d=>{a.push(d.detail),r&&l()},l=()=>{if(clearTimeout(u),a.length)if(e&&e.filter){let d=e.filter(a.map(f=>Object.assign({},f.info)));if(d==null)o(null);else if(d instanceof n)o(d);else{let f=null;if(d.uuid&&(f=a.filter(m=>d.uuid===m.info.uuid)[0]),f){let{provider:p,info:m}=f;o(new n(p,void 0,{providerInfo:m}))}else s(Ie("filter returned unknown info","UNSUPPORTED_OPERATION",{value:d}))}}else{let{provider:d,info:f}=a[0];o(new n(d,void 0,{providerInfo:f}))}else o(null);t.removeEventListener("eip6963:announceProvider",c)},u=setTimeout(()=>{l()},i);t.addEventListener("eip6963:announceProvider",c),t.dispatchEvent(new Event("eip6963:requestProvider"))})})}};function _j(n){switch(n){case"mainnet":return"https://eth.blockscout.com/api/eth-rpc";case"sepolia":return"https://eth-sepolia.blockscout.com/api/eth-rpc";case"holesky":return"https://eth-holesky.blockscout.com/api/eth-rpc";case"classic":return"https://etc.blockscout.com/api/eth-rpc";case"arbitrum":return"https://arbitrum.blockscout.com/api/eth-rpc";case"base":return"https://base.blockscout.com/api/eth-rpc";case"base-sepolia":return"https://base-sepolia.blockscout.com/api/eth-rpc";case"matic":return"https://polygon.blockscout.com/api/eth-rpc";case"optimism":return"https://optimism.blockscout.com/api/eth-rpc";case"optimism-sepolia":return"https://optimism-sepolia.blockscout.com/api/eth-rpc";case"xdai":return"https://gnosis.blockscout.com/api/eth-rpc"}g(!1,"unsupported network","network",n)}var Sf=class n extends mt{apiKey;constructor(e,t){e==null&&(e="mainnet");let r=De.from(e);t==null&&(t=null);let i=n.getRequest(r);super(i,r,{staticNetwork:r}),k(this,{apiKey:t})}_getProvider(e){try{return new n(e,this.apiKey)}catch{}return super._getProvider(e)}isCommunityResource(){return this.apiKey===null}getRpcRequest(e){let t=super.getRpcRequest(e);return t&&t.method==="eth_estimateGas"&&t.args.length==1&&(t.args=t.args.slice(),t.args.push("latest")),t}getRpcError(e,t){let r=t?t.error:null;if(r&&r.code===-32015&&!me(r.data||"",!0)){let i={"assert(false)":"01","arithmetic underflow or overflow":"11","division or modulo by zero":"12","out-of-bounds array access; popping on an empty array":"31","out-of-bounds access of an array or bytesN":"32"},o="";r.message==="VM execution error."?o=i[r.data]||"":i[r.message||""]&&(o=i[r.message||""]),o&&(r.message+=` (reverted: ${r.data})`,r.data="0x4e487b7100000000000000000000000000000000000000000000000000000000000000"+o)}else r&&r.code===-32e3&&r.message==="wrong transaction nonce"&&(r.message+=" (nonce too low)");return super.getRpcError(e,t)}static getRequest(e){let t=new Ke(_j(e.name));return t.allowGzip=!0,t}};var i0="62e1ad51b37b8e00394bda3b";function Cj(n){switch(n){case"mainnet":return"eth-mainnet.gateway.pokt.network";case"goerli":return"eth-goerli.gateway.pokt.network";case"matic":return"poly-mainnet.gateway.pokt.network";case"matic-mumbai":return"polygon-mumbai-rpc.gateway.pokt.network"}g(!1,"unsupported network","network",n)}var Tf=class n extends mt{applicationId;applicationSecret;constructor(e,t,r){e==null&&(e="mainnet");let i=De.from(e);t==null&&(t=i0),r==null&&(r=null);let o={staticNetwork:i},s=n.getRequest(i,t,r);super(s,i,o),k(this,{applicationId:t,applicationSecret:r})}_getProvider(e){try{return new n(e,this.applicationId,this.applicationSecret)}catch{}return super._getProvider(e)}static getRequest(e,t,r){t==null&&(t=i0);let i=new Ke(`https://${Cj(e.name)}/v1/lb/${t}`);return i.allowGzip=!0,r&&i.setCredentials("",r),t===i0&&(i.retryFunc=(o,s,a)=>h(this,null,function*(){return hn("PocketProvider"),!0})),i}isCommunityResource(){return this.applicationId===i0}};var N1=void 0;var Io=class n extends Mr{address;#e;constructor(e,t){super(t),g(e&&typeof e.sign=="function","invalid private key","privateKey","[ REDACTED ]"),this.#e=e;let r=ai(this.signingKey.publicKey);k(this,{address:r})}get signingKey(){return this.#e}get privateKey(){return this.signingKey.privateKey}getAddress(){return h(this,null,function*(){return this.address})}connect(e){return new n(this.#e,e)}signTransaction(e){return h(this,null,function*(){e=Sr(e);let{to:t,from:r}=yield st({to:e.to?dt(e.to,this):void 0,from:e.from?dt(e.from,this):void 0});t!=null&&(e.to=t),r!=null&&(e.from=r),e.from!=null&&(g(J(e.from)===this.address,"transaction from address mismatch","tx.from",e.from),delete e.from);let i=or.from(e);return i.signature=this.signingKey.sign(i.unsignedHash),i.serialized})}signMessage(e){return h(this,null,function*(){return this.signMessageSync(e)})}signMessageSync(e){return this.signingKey.sign(Wl(e)).serialized}authorizeSync(e){g(typeof e.address=="string","invalid address for authorizeSync","auth.address",e);let t=this.signingKey.sign(jl(e));return Object.assign({},{address:J(e.address),nonce:R(e.nonce||0),chainId:R(e.chainId||0)},{signature:t})}authorize(e){return h(this,null,function*(){return e=Object.assign({},e,{address:yield dt(e.address,this)}),this.authorizeSync(yield this.populateAuthorization(e))})}signTypedData(e,t,r){return h(this,null,function*(){let i=yield Ir.resolveNames(e,t,r,o=>h(this,null,function*(){E(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:o}});let s=yield this.provider.resolveName(o);return E(s!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:o}),s}));return this.signingKey.sign(Ir.hash(i.domain,t,i.value)).serialized})}};var o0=" !#$%&'()*+,-./<=>?@[]^_`{|}~",Ej=/^[a-z]*$/i;function e3(n,e){let t=97;return n.reduce((r,i)=>(i===e?t++:i.match(Ej)?r.push(String.fromCharCode(t)+i):(t=97,r.push(i)),r),[])}function Aj(n,e){for(let i=o0.length-1;i>=0;i--)n=n.split(o0[i]).join(e.substring(2*i,2*i+2));let t=[],r=n.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(i,o,s,a)=>{if(s)for(let c=parseInt(s);c>=0;c--)t.push(";");else t.push(o.toLowerCase());return""});if(r)throw new Error(`leftovers: ${JSON.stringify(r)}`);return e3(e3(t,";"),":")}function s0(n){return g(n[0]==="0","unsupported auwl data","data",n),Aj(n.substring(1+2*o0.length),n.substring(1,1+2*o0.length))}var sc=class{locale;constructor(e){k(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}};var Do=class extends sc{#e;#t;constructor(e,t,r){super(e),this.#e=t,this.#t=r,this.#n=null}get _data(){return this.#e}_decodeWords(){return s0(this.#e)}#n;#r(){if(this.#n==null){let e=this._decodeWords();if(dn(e.join(`
`)+`
`)!==this.#t)throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);this.#n=e}return this.#n}getWord(e){let t=this.#r();return g(e>=0&&e<t.length,`invalid word index: ${e}`,"index",e),t[e]}getWordIndex(e){return this.#r().indexOf(e)}};var Ij="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",Dj="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60",O1=null,Zn=class n extends Do{constructor(){super("en",Ij,Dj)}static wordlist(){return O1==null&&(O1=new n),O1}};function t3(n){return(1<<n)-1<<8-n&255}function Sj(n){return(1<<n)-1&255}function R1(n,e){Ea("NFKD"),e==null&&(e=Zn.wordlist());let t=e.split(n);g(t.length%3===0&&t.length>=12&&t.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");let r=new Uint8Array(Math.ceil(11*t.length/8)),i=0;for(let l=0;l<t.length;l++){let u=e.getWordIndex(t[l].normalize("NFKD"));g(u>=0,`invalid mnemonic word at index ${l}`,"mnemonic","[ REDACTED ]");for(let d=0;d<11;d++)u&1<<10-d&&(r[i>>3]|=1<<7-i%8),i++}let o=32*t.length/3,s=t.length/3,a=t3(s),c=M(Ut(r.slice(0,o/8)))[0]&a;return g(c===(r[r.length-1]&a),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),S(r.slice(0,o/8))}function P1(n,e){g(n.length%4===0&&n.length>=16&&n.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),e==null&&(e=Zn.wordlist());let t=[0],r=11;for(let s=0;s<n.length;s++)r>8?(t[t.length-1]<<=8,t[t.length-1]|=n[s],r-=8):(t[t.length-1]<<=r,t[t.length-1]|=n[s]>>8-r,t.push(n[s]&Sj(8-r)),r+=3);let i=n.length/4,o=parseInt(Ut(n).substring(2,4),16)&t3(i);return t[t.length-1]<<=i,t[t.length-1]|=o>>8-i,e.join(t.map(s=>e.getWord(s)))}var F1={},Oi=class n{phrase;password;wordlist;entropy;constructor(e,t,r,i,o){i==null&&(i=""),o==null&&(o=Zn.wordlist()),an(e,F1,"Mnemonic"),k(this,{phrase:r,password:i,wordlist:o,entropy:t})}computeSeed(){let e=qe("mnemonic"+this.password,"NFKD");return kn(qe(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,t,r){let i=R1(e,r);return e=P1(M(i),r),new n(F1,i,e,t,r)}static fromEntropy(e,t,r){let i=M(e,"entropy"),o=P1(i,r);return new n(F1,S(i),o,t,r)}static entropyToPhrase(e,t){let r=M(e,"entropy");return P1(r,t)}static phraseToEntropy(e,t){return R1(e,t)}static isValidMnemonic(e,t){try{return R1(e,t),!0}catch{}return!1}};var pn=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},L1=function(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t},c0,Nr,Ri,Tj={16:10,24:12,32:14},Mj=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],kr=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],a0=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],kj=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],Nj=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],Oj=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],Rj=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],Pj=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],Fj=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],Lj=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],Bj=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],Uj=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],Vj=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],jj=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],$j=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function B1(n){let e=[];for(let t=0;t<n.length;t+=4)e.push(n[t]<<24|n[t+1]<<16|n[t+2]<<8|n[t+3]);return e}var Mf=class n{get key(){return pn(this,c0,"f").slice()}constructor(e){if(c0.set(this,void 0),Nr.set(this,void 0),Ri.set(this,void 0),!(this instanceof n))throw Error("AES must be instanitated with `new`");L1(this,c0,new Uint8Array(e),"f");let t=Tj[this.key.length];if(t==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");L1(this,Ri,[],"f"),L1(this,Nr,[],"f");for(let u=0;u<=t;u++)pn(this,Ri,"f").push([0,0,0,0]),pn(this,Nr,"f").push([0,0,0,0]);let r=(t+1)*4,i=this.key.length/4,o=B1(this.key),s;for(let u=0;u<i;u++)s=u>>2,pn(this,Ri,"f")[s][u%4]=o[u],pn(this,Nr,"f")[t-s][u%4]=o[u];let a=0,c=i,l;for(;c<r;){if(l=o[i-1],o[0]^=kr[l>>16&255]<<24^kr[l>>8&255]<<16^kr[l&255]<<8^kr[l>>24&255]^Mj[a]<<24,a+=1,i!=8)for(let p=1;p<i;p++)o[p]^=o[p-1];else{for(let p=1;p<i/2;p++)o[p]^=o[p-1];l=o[i/2-1],o[i/2]^=kr[l&255]^kr[l>>8&255]<<8^kr[l>>16&255]<<16^kr[l>>24&255]<<24;for(let p=i/2+1;p<i;p++)o[p]^=o[p-1]}let u=0,d,f;for(;u<i&&c<r;)d=c>>2,f=c%4,pn(this,Ri,"f")[d][f]=o[u],pn(this,Nr,"f")[t-d][f]=o[u++],c++}for(let u=1;u<t;u++)for(let d=0;d<4;d++)l=pn(this,Nr,"f")[u][d],pn(this,Nr,"f")[u][d]=Uj[l>>24&255]^Vj[l>>16&255]^jj[l>>8&255]^$j[l&255]}encrypt(e){if(e.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");let t=pn(this,Ri,"f").length-1,r=[0,0,0,0],i=B1(e);for(let a=0;a<4;a++)i[a]^=pn(this,Ri,"f")[0][a];for(let a=1;a<t;a++){for(let c=0;c<4;c++)r[c]=kj[i[c]>>24&255]^Nj[i[(c+1)%4]>>16&255]^Oj[i[(c+2)%4]>>8&255]^Rj[i[(c+3)%4]&255]^pn(this,Ri,"f")[a][c];i=r.slice()}let o=new Uint8Array(16),s=0;for(let a=0;a<4;a++)s=pn(this,Ri,"f")[t][a],o[4*a]=(kr[i[a]>>24&255]^s>>24)&255,o[4*a+1]=(kr[i[(a+1)%4]>>16&255]^s>>16)&255,o[4*a+2]=(kr[i[(a+2)%4]>>8&255]^s>>8)&255,o[4*a+3]=(kr[i[(a+3)%4]&255]^s)&255;return o}decrypt(e){if(e.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");let t=pn(this,Nr,"f").length-1,r=[0,0,0,0],i=B1(e);for(let a=0;a<4;a++)i[a]^=pn(this,Nr,"f")[0][a];for(let a=1;a<t;a++){for(let c=0;c<4;c++)r[c]=Pj[i[c]>>24&255]^Fj[i[(c+3)%4]>>16&255]^Lj[i[(c+2)%4]>>8&255]^Bj[i[(c+1)%4]&255]^pn(this,Nr,"f")[a][c];i=r.slice()}let o=new Uint8Array(16),s=0;for(let a=0;a<4;a++)s=pn(this,Nr,"f")[t][a],o[4*a]=(a0[i[a]>>24&255]^s>>24)&255,o[4*a+1]=(a0[i[(a+3)%4]>>16&255]^s>>16)&255,o[4*a+2]=(a0[i[(a+2)%4]>>8&255]^s>>8)&255,o[4*a+3]=(a0[i[(a+1)%4]&255]^s)&255;return o}};c0=new WeakMap,Nr=new WeakMap,Ri=new WeakMap;var Pi=class{constructor(e,t,r){if(r&&!(this instanceof r))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new Mf(t)},name:{enumerable:!0,value:e}})}};var l0=function(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t},su=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},kf,So,Nf=class n extends Pi{constructor(e,t){if(super("ECC",e,n),kf.set(this,void 0),So.set(this,void 0),t){if(t.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");l0(this,kf,new Uint8Array(t),"f")}else l0(this,kf,new Uint8Array(16),"f");l0(this,So,this.iv,"f")}get iv(){return new Uint8Array(su(this,kf,"f"))}encrypt(e){if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");let t=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16){for(let i=0;i<16;i++)su(this,So,"f")[i]^=e[r+i];l0(this,So,this.aes.encrypt(su(this,So,"f")),"f"),t.set(su(this,So,"f"),r)}return t}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");let t=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16){let i=this.aes.decrypt(e.subarray(r,r+16));for(let o=0;o<16;o++)t[r+o]=i[o]^su(this,So,"f")[o],su(this,So,"f")[o]=e[r+o]}return t}};kf=new WeakMap,So=new WeakMap;var U1=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},Hj,zj,u0,Gj;zj=new WeakMap,u0=new WeakMap,Hj=new WeakSet,Gj=function(e){let t=this.segmentSize/8;U1(this,u0,"f").set(U1(this,u0,"f").subarray(t)),U1(this,u0,"f").set(e.subarray(0,t),16-t)};var au=function(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t},Or=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},Of,ac,Rr,Ns=class n extends Pi{constructor(e,t){super("CTR",e,n),Of.set(this,void 0),ac.set(this,void 0),Rr.set(this,void 0),au(this,Rr,new Uint8Array(16),"f"),Or(this,Rr,"f").fill(0),au(this,Of,Or(this,Rr,"f"),"f"),au(this,ac,16,"f"),t==null&&(t=1),typeof t=="number"?this.setCounterValue(t):this.setCounterBytes(t)}get counter(){return new Uint8Array(Or(this,Rr,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let t=15;t>=0;--t)Or(this,Rr,"f")[t]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(e.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");Or(this,Rr,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(Or(this,Rr,"f")[e]===255)Or(this,Rr,"f")[e]=0;else{Or(this,Rr,"f")[e]++;break}}encrypt(e){var t,r;let i=new Uint8Array(e);for(let o=0;o<i.length;o++)Or(this,ac,"f")===16&&(au(this,Of,this.aes.encrypt(Or(this,Rr,"f")),"f"),au(this,ac,0,"f"),this.increment()),i[o]^=Or(this,Of,"f")[au(this,ac,(r=Or(this,ac,"f"),t=r++,r),"f"),t];return i}decrypt(e){return this.encrypt(e)}};Of=new WeakMap,ac=new WeakMap,Rr=new WeakMap;var Wj,qj,Kj;Wj=new WeakMap,qj=new WeakMap,Kj=new WeakMap;function V1(n){if(n.length<16)throw new TypeError("PKCS#7 invalid length");let e=n[n.length-1];if(e>16)throw new TypeError("PKCS#7 padding byte out of range");let t=n.length-e;for(let r=0;r<e;r++)if(n[t+r]!==e)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array(n.subarray(0,t))}function j1(n){return typeof n=="string"&&!n.startsWith("0x")&&(n="0x"+n),ut(n)}function cu(n,e){for(n=String(n);n.length<e;)n="0"+n;return n}function cc(n){return typeof n=="string"?qe(n,"NFKC"):ut(n)}function Et(n,e){let t=e.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);g(t!=null,"invalid path","path",e);let r=t[1],i=t[3],o=t[4]==="!",s=n;for(let a of r.toLowerCase().split(".")){if(Array.isArray(s)){if(!a.match(/^[0-9]+$/))break;s=s[parseInt(a)]}else if(typeof s=="object"){let c=null;for(let l in s)if(l.toLowerCase()===a){c=s[l];break}s=c}else s=null;if(s==null)break}if(g(!o||s!=null,"missing required value","path",r),i&&s!=null){if(i==="int"){if(typeof s=="string"&&s.match(/^-?[0-9]+$/))return parseInt(s);if(Number.isSafeInteger(s))return s}if(i==="number"&&typeof s=="string"&&s.match(/^-?[0-9.]*$/))return parseFloat(s);if(i==="data"&&typeof s=="string")return j1(s);if(i==="array"&&Array.isArray(s)||i===typeof s)return s;g(!1,`wrong type found for ${i} `,"path",r)}return s}var r3="m/44'/60'/0'/0/0";function lu(n){try{let e=JSON.parse(n);if((e.version!=null?parseInt(e.version):0)===3)return!0}catch{}return!1}function Qj(n,e,t){if(Et(n,"crypto.cipher:string")==="aes-128-ctr"){let i=Et(n,"crypto.cipherparams.iv:data!"),o=new Ns(e,i);return S(o.decrypt(t))}E(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}function d0(n,e){let t=M(e),r=Et(n,"crypto.ciphertext:data!"),i=S(he(te([t.slice(16,32),r]))).substring(2);g(i===Et(n,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");let o=Qj(n,t.slice(0,16),r),s=ai(o);if(n.address){let l=n.address.toLowerCase();l.startsWith("0x")||(l="0x"+l),g(J(l)===s,"keystore address/privateKey mismatch","address",n.address)}let a={address:s,privateKey:o};if(Et(n,"x-ethers.version:string")==="0.1"){let l=t.slice(32,64),u=Et(n,"x-ethers.mnemonicCiphertext:data!"),d=Et(n,"x-ethers.mnemonicCounter:data!"),f=new Ns(l,d);a.mnemonic={path:Et(n,"x-ethers.path:string")||r3,locale:Et(n,"x-ethers.locale:string")||"en",entropy:S(M(f.decrypt(u)))}}return a}function i3(n){let e=Et(n,"crypto.kdf:string");if(e&&typeof e=="string"){if(e.toLowerCase()==="scrypt"){let t=Et(n,"crypto.kdfparams.salt:data!"),r=Et(n,"crypto.kdfparams.n:int!"),i=Et(n,"crypto.kdfparams.r:int!"),o=Et(n,"crypto.kdfparams.p:int!");g(r>0&&(r&r-1)===0,"invalid kdf.N","kdf.N",r),g(i>0&&o>0,"invalid kdf","kdf",e);let s=Et(n,"crypto.kdfparams.dklen:int!");return g(s===32,"invalid kdf.dklen","kdf.dflen",s),{name:"scrypt",salt:t,N:r,r:i,p:o,dkLen:64}}else if(e.toLowerCase()==="pbkdf2"){let t=Et(n,"crypto.kdfparams.salt:data!"),r=Et(n,"crypto.kdfparams.prf:string!"),i=r.split("-").pop();g(i==="sha256"||i==="sha512","invalid kdf.pdf","kdf.pdf",r);let o=Et(n,"crypto.kdfparams.c:int!"),s=Et(n,"crypto.kdfparams.dklen:int!");return g(s===32,"invalid kdf.dklen","kdf.dklen",s),{name:"pbkdf2",salt:t,count:o,dkLen:s,algorithm:i}}}g(!1,"unsupported key-derivation function","kdf",e)}function Rf(n,e){let t=JSON.parse(n),r=cc(e),i=i3(t);if(i.name==="pbkdf2"){let{salt:d,count:f,dkLen:p,algorithm:m}=i,b=kn(r,d,f,p,m);return d0(t,b)}E(i.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:i});let{salt:o,N:s,r:a,p:c,dkLen:l}=i,u=ii(r,o,s,a,c,l);return d0(t,u)}function n3(n){return new Promise(e=>{setTimeout(()=>{e()},n)})}function Pf(n,e,t){return h(this,null,function*(){let r=JSON.parse(n),i=cc(e),o=i3(r);if(o.name==="pbkdf2"){t&&(t(0),yield n3(0));let{salt:f,count:p,dkLen:m,algorithm:b}=o,w=kn(i,f,p,m,b);return t&&(t(1),yield n3(0)),d0(r,w)}E(o.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:o});let{salt:s,N:a,r:c,p:l,dkLen:u}=o,d=yield ri(i,s,a,c,l,u,t);return d0(r,d)})}function o3(n){let e=n.salt!=null?M(n.salt,"options.salt"):xn(32),t=1<<17,r=8,i=1;return n.scrypt&&(n.scrypt.N&&(t=n.scrypt.N),n.scrypt.r&&(r=n.scrypt.r),n.scrypt.p&&(i=n.scrypt.p)),g(typeof t=="number"&&t>0&&Number.isSafeInteger(t)&&(BigInt(t)&BigInt(t-1))===BigInt(0),"invalid scrypt N parameter","options.N",t),g(typeof r=="number"&&r>0&&Number.isSafeInteger(r),"invalid scrypt r parameter","options.r",r),g(typeof i=="number"&&i>0&&Number.isSafeInteger(i),"invalid scrypt p parameter","options.p",i),{name:"scrypt",dkLen:32,salt:e,N:t,r,p:i}}function s3(n,e,t,r){let i=M(t.privateKey,"privateKey"),o=r.iv!=null?M(r.iv,"options.iv"):xn(16);g(o.length===16,"invalid options.iv length","options.iv",r.iv);let s=r.uuid!=null?M(r.uuid,"options.uuid"):xn(16);g(s.length===16,"invalid options.uuid length","options.uuid",r.iv);let a=n.slice(0,16),c=n.slice(16,32),l=new Ns(a,o),u=M(l.encrypt(i)),d=he(te([c,u])),f={address:t.address.substring(2).toLowerCase(),id:Xd(s),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:S(o).substring(2)},ciphertext:S(u).substring(2),kdf:"scrypt",kdfparams:{salt:S(e.salt).substring(2),n:e.N,dklen:32,p:e.p,r:e.r},mac:d.substring(2)}};if(t.mnemonic){let p=r.client!=null?r.client:`ethers/${Il}`,m=t.mnemonic.path||r3,b=t.mnemonic.locale||"en",w=n.slice(32,64),_=M(t.mnemonic.entropy,"account.mnemonic.entropy"),D=xn(16),T=new Ns(w,D),W=M(T.encrypt(_)),F=new Date,q="UTC--"+(F.getUTCFullYear()+"-"+cu(F.getUTCMonth()+1,2)+"-"+cu(F.getUTCDate(),2)+"T"+cu(F.getUTCHours(),2)+"-"+cu(F.getUTCMinutes(),2)+"-"+cu(F.getUTCSeconds(),2)+".0Z")+"--"+f.address;f["x-ethers"]={client:p,gethFilename:q,path:m,locale:b,mnemonicCounter:S(D).substring(2),mnemonicCiphertext:S(W).substring(2),version:"0.1"}}return JSON.stringify(f)}function lc(n,e,t){t==null&&(t={});let r=cc(e),i=o3(t),o=ii(r,i.salt,i.N,i.r,i.p,64);return s3(M(o),i,n,t)}function uc(n,e,t){return h(this,null,function*(){t==null&&(t={});let r=cc(e),i=o3(t),o=yield ri(r,i.salt,i.N,i.r,i.p,64,t.progressCallback);return s3(M(o),i,n,t)})}var uu="m/44'/60'/0'/0/0",Zj=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),Li=2147483648,Yj=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Jj="0123456789abcdef";function f0(n,e){let t="";for(;n;)t=Jj[n%16]+t,n=Math.trunc(n/16);for(;t.length<e*2;)t="0"+t;return"0x"+t}function $1(n){let e=M(n),t=Ue(Ut(Ut(e)),0,4),r=te([e,t]);return Ia(r)}var Fi={};function a3(n,e,t,r){let i=new Uint8Array(37);n&Li?(E(r!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),i.set(M(r),1)):i.set(M(t));for(let s=24;s>=0;s-=8)i[33+(s>>3)]=n>>24-s&255;let o=M(ti("sha512",e,i));return{IL:o.slice(0,32),IR:o.slice(32)}}function c3(n,e){let t=e.split("/");g(t.length>0,"invalid path","path",e),t[0]==="m"&&(g(n.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${n.depth}`,"path",e),t.shift());let r=n;for(let i=0;i<t.length;i++){let o=t[i];if(o.match(/^[0-9]+'$/)){let s=parseInt(o.substring(0,o.length-1));g(s<Li,"invalid path index",`path[${i}]`,o),r=r.deriveChild(Li+s)}else if(o.match(/^[0-9]+$/)){let s=parseInt(o);g(s<Li,"invalid path index",`path[${i}]`,o),r=r.deriveChild(s)}else g(!1,"invalid path component",`path[${i}]`,o)}return r}var To=class n extends Io{publicKey;fingerprint;parentFingerprint;mnemonic;chainCode;path;index;depth;constructor(e,t,r,i,o,s,a,c,l){super(t,l),an(e,Fi,"HDNodeWallet"),k(this,{publicKey:t.compressedPublicKey});let u=Ue(ni(Ut(this.publicKey)),0,4);k(this,{parentFingerprint:r,fingerprint:u,chainCode:i,path:o,index:s,depth:a}),k(this,{mnemonic:c})}connect(e){return new n(Fi,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,e)}#e(){let e={address:this.address,privateKey:this.privateKey},t=this.mnemonic;return this.path&&t&&t.wordlist.locale==="en"&&t.password===""&&(e.mnemonic={path:this.path,locale:"en",entropy:t.entropy}),e}encrypt(e,t){return h(this,null,function*(){return yield uc(this.#e(),e,{progressCallback:t})})}encryptSync(e){return lc(this.#e(),e)}get extendedKey(){return E(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),$1(te(["0x0488ADE4",f0(this.depth,1),this.parentFingerprint,f0(this.index,4),this.chainCode,te(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new dc(Fi,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(e){let t=Z(e,"index");g(t<=4294967295,"invalid index","index",t);let r=this.path;r&&(r+="/"+(t&~Li),t&Li&&(r+="'"));let{IR:i,IL:o}=a3(t,this.chainCode,this.publicKey,this.privateKey),s=new ln(nn((Er(o)+BigInt(this.privateKey))%Yj,32));return new n(Fi,s,this.fingerprint,S(i),r,t,this.depth+1,this.mnemonic,this.provider)}derivePath(e){return c3(this,e)}static#t(e,t){g(Kr(e),"invalid seed","seed","[REDACTED]");let r=M(e,"seed");g(r.length>=16&&r.length<=64,"invalid seed","seed","[REDACTED]");let i=M(ti("sha512",Zj,r)),o=new ln(S(i.slice(0,32)));return new n(Fi,o,"0x00000000",S(i.slice(32)),"m",0,0,t,null)}static fromExtendedKey(e){let t=We(Qd(e));g(t.length===82||$1(t.slice(0,78))===e,"invalid extended key","extendedKey","[ REDACTED ]");let r=t[4],i=S(t.slice(5,9)),o=parseInt(S(t.slice(9,13)).substring(2),16),s=S(t.slice(13,45)),a=t.slice(45,78);switch(S(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":{let c=S(a);return new dc(Fi,ai(c),c,i,s,null,o,r,null)}case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new n(Fi,new ln(a.slice(1)),i,s,null,o,r,null,null)}g(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(e,t,r){e==null&&(e=""),t==null&&(t=uu),r==null&&(r=Zn.wordlist());let i=Oi.fromEntropy(xn(16),e,r);return n.#t(i.computeSeed(),i).derivePath(t)}static fromMnemonic(e,t){return t||(t=uu),n.#t(e.computeSeed(),e).derivePath(t)}static fromPhrase(e,t,r,i){t==null&&(t=""),r==null&&(r=uu),i==null&&(i=Zn.wordlist());let o=Oi.fromPhrase(e,t,i);return n.#t(o.computeSeed(),o).derivePath(r)}static fromSeed(e){return n.#t(e,null)}},dc=class n extends Ya{publicKey;fingerprint;parentFingerprint;chainCode;path;index;depth;constructor(e,t,r,i,o,s,a,c,l){super(t,l),an(e,Fi,"HDNodeVoidWallet"),k(this,{publicKey:r});let u=Ue(ni(Ut(r)),0,4);k(this,{publicKey:r,fingerprint:u,parentFingerprint:i,chainCode:o,path:s,index:a,depth:c})}connect(e){return new n(Fi,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,e)}get extendedKey(){return E(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),$1(te(["0x0488B21E",f0(this.depth,1),this.parentFingerprint,f0(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(e){let t=Z(e,"index");g(t<=4294967295,"invalid index","index",t);let r=this.path;r&&(r+="/"+(t&~Li),t&Li&&(r+="'"));let{IR:i,IL:o}=a3(t,this.chainCode,this.publicKey,null),s=ln.addPoints(o,this.publicKey,!0),a=ai(s);return new n(Fi,a,s,this.fingerprint,S(i),r,t,this.depth+1,this.provider)}derivePath(e){return c3(this,e)}};function H1(n){let e=Z(n,"index");return g(e>=0&&e<Li,"invalid account index","index",e),`m/44'/60'/${e}'/0/0`}function z1(n){let e=Z(n,"index");return g(e>=0&&e<Li,"invalid account index","index",e),`m/44'/60'/0'/0/${e}`}function du(n){try{if(JSON.parse(n).encseed)return!0}catch{}return!1}function fu(n,e){let t=JSON.parse(n),r=cc(e),i=J(Et(t,"ethaddr:string!")),o=j1(Et(t,"encseed:string!"));g(o&&o.length%16===0,"invalid encseed","json",n);let s=M(kn(r,r,2e3,32,"sha256")).slice(0,16),a=o.slice(0,16),c=o.slice(16),l=new Nf(s,a),u=V1(M(l.decrypt(c))),d="";for(let f=0;f<u.length;f++)d+=String.fromCharCode(u[f]);return{address:i,privateKey:dn(d)}}function l3(n){return new Promise(e=>{setTimeout(()=>{e()},n)})}var Ff=class n extends Io{constructor(e,t){typeof e=="string"&&!e.startsWith("0x")&&(e="0x"+e);let r=typeof e=="string"?new ln(e):e;super(r,t)}connect(e){return new n(this.signingKey,e)}encrypt(e,t){return h(this,null,function*(){let r={address:this.address,privateKey:this.privateKey};return yield uc(r,e,{progressCallback:t})})}encryptSync(e){let t={address:this.address,privateKey:this.privateKey};return lc(t,e)}static#e(e){if(g(e,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in e&&e.mnemonic&&e.mnemonic.locale==="en"){let r=Oi.fromEntropy(e.mnemonic.entropy),i=To.fromMnemonic(r,e.mnemonic.path);if(i.address===e.address&&i.privateKey===e.privateKey)return i;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}let t=new n(e.privateKey);return g(t.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),t}static fromEncryptedJson(e,t,r){return h(this,null,function*(){let i=null;return lu(e)?i=yield Pf(e,t,r):du(e)&&(r&&(r(0),yield l3(0)),i=fu(e,t),r&&(r(1),yield l3(0))),n.#e(i)})}static fromEncryptedJsonSync(e,t){let r=null;return lu(e)?r=Rf(e,t):du(e)?r=fu(e,t):g(!1,"invalid JSON wallet","json","[ REDACTED ]"),n.#e(r)}static createRandom(e){let t=To.createRandom();return e?t.connect(e):t}static fromPhrase(e,t){let r=To.fromPhrase(e);return t?r.connect(t):r}};var Xj=")!@#$%^&*(ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_";function u3(n,e){let t=(1<<n)-1,r=[],i=0,o=0,s=0;for(let a=0;a<e.length;a++)for(i=i<<6|Xj.indexOf(e[a]),o+=6;o>=n;){let c=i>>o-n;i&=(1<<o-n)-1,o-=n,c===0?s+=t:(r.push(c+s),s=0)}return r}function d3(n,e){let t=s0(n).join(",");return e.split(/,/g).forEach(r=>{let i=r.match(/^([a-z]*)([0-9]+)([0-9])(.*)$/);g(i!==null,"internal error parsing accents","accents",e);let o=0,s=u3(parseInt(i[3]),i[4]),a=parseInt(i[2]),c=new RegExp(`([${i[1]}])`,"g");t=t.replace(c,(l,u)=>(--s[o]===0&&(u=String.fromCharCode(u.charCodeAt(0),a),o++),u))}),t.split(",")}var Lf=class extends Do{#e;constructor(e,t,r,i){super(e,t,i),this.#e=r}get _accent(){return this.#e}_decodeWords(){return d3(this._data,this._accent)}};var G1={en:Zn.wordlist()};var e$="0xcad6bcde9df00077ee58842ccff5ba1d5570ef69",t$=[{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"electionId",type:"uint256"},{indexed:!1,internalType:"string",name:"name",type:"string"}],name:"CandidateAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"electionId",type:"uint256"},{indexed:!1,internalType:"string",name:"name",type:"string"}],name:"ElectionCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"electionId",type:"uint256"},{indexed:!1,internalType:"uint256[]",name:"candidateIndex",type:"uint256[]"},{indexed:!1,internalType:"address",name:"voter",type:"address"}],name:"Voted",type:"event"},{constant:!0,inputs:[],name:"electionCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"elections",outputs:[{internalType:"string",name:"name",type:"string"},{internalType:"bool",name:"active",type:"bool"},{internalType:"string",name:"startDate",type:"string"},{internalType:"string",name:"endDate",type:"string"},{internalType:"string",name:"domainFilter",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"org",outputs:[{internalType:"string",name:"orgName",type:"string"},{internalType:"string",name:"userName",type:"string"},{internalType:"string",name:"email",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"ownedElections",outputs:[{internalType:"uint256",name:"electionId",type:"uint256"},{internalType:"string",name:"electionName",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"users",outputs:[{internalType:"string",name:"userName",type:"string"},{internalType:"string",name:"email",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_startDate",type:"string"},{internalType:"string",name:"_endDate",type:"string"},{internalType:"string",name:"_domainFilter",type:"string"}],name:"createElection",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_electionId",type:"uint256"},{internalType:"string",name:"_newName",type:"string"},{internalType:"string",name:"_startDate",type:"string"},{internalType:"string",name:"_endDate",type:"string"},{internalType:"string",name:"_newDomainFilter",type:"string"}],name:"updateElectionDetails",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"organizer",type:"address"}],name:"getOwnedElections",outputs:[{components:[{internalType:"uint256",name:"electionId",type:"uint256"},{internalType:"string",name:"electionName",type:"string"}],internalType:"struct DecentralizedVoting.CreatedElections[]",name:"",type:"tuple[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"organizer",type:"address"}],name:"getOwnedElectionIds",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"organizer",type:"address"}],name:"getOwnedElectionNames",outputs:[{internalType:"string[]",name:"",type:"string[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"organizer",type:"address"},{internalType:"string",name:"_name",type:"string"}],name:"getElectionIdByName",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"_electionId",type:"uint256"}],name:"getElectionResults",outputs:[{internalType:"string",name:"",type:"string"},{internalType:"uint256[]",name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"_electionId",type:"uint256"}],name:"getElectionName",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_electionId",type:"uint256"}],name:"closeElection",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getElectionNames",outputs:[{internalType:"string[]",name:"",type:"string[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"_electionId",type:"uint256"}],name:"getElectionStartDate",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"_electionId",type:"uint256"}],name:"getElectionEndDate",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"_electionId",type:"uint256"}],name:"getElectionDomainFilter",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"_electionId",type:"uint256"}],name:"getElectionStatus",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_electionId",type:"uint256"},{internalType:"string",name:"_candidateName",type:"string"},{internalType:"string",name:"_candidatePosition",type:"string"},{internalType:"string",name:"_platform",type:"string"},{internalType:"string",name:"_cdn",type:"string"}],name:"addCandidate",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_electionId",type:"uint256"},{internalType:"uint256",name:"_candidateIndex",type:"uint256"},{internalType:"string",name:"_newName",type:"string"},{internalType:"string",name:"_newPosition",type:"string"},{internalType:"string",name:"_newPlatform",type:"string"},{internalType:"string",name:"_newcdn",type:"string"}],name:"updateCandidateInfo",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_electionId",type:"uint256"},{internalType:"uint256",name:"_candidateIndex",type:"uint256"}],name:"deleteCandidate",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"_electionId",type:"uint256"}],name:"getCandidatesCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"_electionId",type:"uint256"},{internalType:"uint256",name:"_candidateIndex",type:"uint256"}],name:"getCandidateName",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"_electionId",type:"uint256"},{internalType:"uint256",name:"_candidateIndex",type:"uint256"}],name:"getCandidatePosition",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"_electionId",type:"uint256"},{internalType:"uint256",name:"_candidateIndex",type:"uint256"}],name:"getCandidatePlatform",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"_electionId",type:"uint256"},{internalType:"uint256",name:"_candidateIndex",type:"uint256"}],name:"getCandidateCdn",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"_electionId",type:"uint256"}],name:"getCandidateNames",outputs:[{internalType:"string[]",name:"",type:"string[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"_electionId",type:"uint256"},{internalType:"string",name:"_candidateName",type:"string"}],name:"getCandidateIDbyName",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"_electionId",type:"uint256"},{internalType:"uint256",name:"_candidateIndex",type:"uint256"}],name:"getCandidateVoteCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"string",name:"orgName",type:"string"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"email",type:"string"}],name:"addOrg",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"orgAddress",type:"address"}],name:"isOrg",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"orgAddress",type:"address"}],name:"getOrgName",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"orgAddress",type:"address"}],name:"getOrgUserName",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"orgAddress",type:"address"}],name:"getOrgEmail",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"orgAddress",type:"address"},{internalType:"string",name:"newOrgName",type:"string"},{internalType:"string",name:"newUserName",type:"string"},{internalType:"string",name:"newEmail",type:"string"}],name:"updateOrgDetails",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getUserAddress",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"userAddress",type:"address"},{internalType:"string",name:"userName",type:"string"},{internalType:"string",name:"email",type:"string"}],name:"addUser",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"userAddress",type:"address"}],name:"isUser",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"userAddress",type:"address"}],name:"getUserName",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"userAddress",type:"address"}],name:"getEmail",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"userAddress",type:"address"},{internalType:"string",name:"newUserName",type:"string"},{internalType:"string",name:"newEmail",type:"string"}],name:"updateUser",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getOwnerAddress",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_electionId",type:"uint256"},{internalType:"uint256[]",name:"_candidateIndexes",type:"uint256[]"}],name:"Vote",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],Pr=class n{provider;signer;contract;constructor(){}loadBlockchain(){return h(this,null,function*(){window.ethereum?(this.provider=new Bf.BrowserProvider(window.ethereum),this.signer=yield this.provider.getSigner(),this.contract=new Bf.Contract(e$,t$,this.signer)):console.log("Please install MetaMask")})}createElection(e,t,r,i){return h(this,null,function*(){if(!this.contract)return;yield(yield this.contract.createElection(e,t,r,i)).wait()})}closeElection(e){return h(this,null,function*(){if(this.contract)try{yield(yield this.contract.closeElection(e)).wait()}catch(t){console.log(t)}})}getElectionNames(){return h(this,null,function*(){if(!this.contract)return[];try{let e=yield this.contract.getElectionNames();return console.log("Election Names:",e),e}catch(e){return console.error("Error fetching election names:",e),[]}})}getElectionName(e){return h(this,null,function*(){if(!this.contract)return"";try{return yield this.contract.getElectionName(e)}catch(t){return console.log(t),""}})}getElectionResults(e){return h(this,null,function*(){return this.contract?yield this.contract.getElectionResults(e):void 0})}updateElectionDetails(e,t,r,i,o){return h(this,null,function*(){if(!this.contract)return;yield(yield this.contract.updateElectionDetails(e,t,r,i,o)).wait()})}getElectionStartDate(e){return h(this,null,function*(){return this.contract?yield this.contract.getElectionStartDate(e):void 0})}getElectionEndDate(e){return h(this,null,function*(){return this.contract?yield this.contract.getElectionEndDate(e):void 0})}getElectionDomainFilter(e){return h(this,null,function*(){return this.contract?yield this.contract.getElectionDomainFilter(e):void 0})}getElectionStatus(e){return h(this,null,function*(){return this.contract?yield this.contract.getElectionStatus(e):void 0})}updateElection(e,t,r,i,o){return h(this,null,function*(){if(!this.contract)return;yield(yield this.contract.updateElectionDetails(e,t,r,i,o)).wait()})}addCandidate(e,t,r,i,o){return h(this,null,function*(){if(!this.contract)return;yield(yield this.contract.addCandidate(e,t,r,i,o)).wait()})}getCandidatesCount(e){return h(this,null,function*(){return this.contract?yield this.contract.getCandidatesCount(e):void 0})}getCandidates(e){return h(this,null,function*(){if(!this.contract)return[];try{return yield this.contract.getCandidateNames(e)}catch(t){return console.log(t),[]}})}getCandidatePosition(e,t){return h(this,null,function*(){return this.contract?yield this.contract.getCandidatePosition(e,t):void 0})}getCandidateName(e,t){return h(this,null,function*(){return this.contract?yield this.contract.getCandidateName(e,t):void 0})}getCandidatePlatform(e,t){return h(this,null,function*(){return this.contract?yield this.contract.getCandidatePlatform(e,t):void 0})}getCandidateCdn(e,t){return h(this,null,function*(){return this.contract?yield this.contract.getCandidateCdn(e,t):void 0})}deleteCandidate(e,t){return h(this,null,function*(){if(!this.contract)return;yield(yield this.contract.deleteCandidate(e,t)).wait()})}updateCandidate(e,t,r,i,o,s){return h(this,null,function*(){if(!this.contract)return;yield(yield this.contract.updateCandidateInfo(e,t,r,i,o,s)).wait()})}getCandidateIDByName(e,t){return h(this,null,function*(){if(!this.contract)return-1;try{return yield this.contract.getCandidateIDbyName(e,t)}catch(r){return console.error("Error getting candidate ID:",r),-1}})}getCandidateVoteCount(e,t){return h(this,null,function*(){if(!this.contract)return 0;try{return yield this.contract.getCandidateVoteCount(e,t)}catch(r){return console.error("Error getting candidate vote count:",r),0}})}addOrg(e,t,r){return h(this,null,function*(){if(this.contract)try{yield(yield this.contract.addOrg(e,t,r)).wait()}catch{}})}isOrg(e){return h(this,null,function*(){if(!this.contract)return!1;try{return yield this.contract.isOrg(e)}catch(t){return console.error("Error user exists:",t),!1}})}getOrgName(e){return h(this,null,function*(){if(!this.contract)return"";try{return yield this.contract.getOrgName(e)}catch(t){return console.error("Error getting org name:",t),""}})}getOrgUserName(e){return h(this,null,function*(){if(!this.contract)return"";try{return yield this.contract.getOrgUserName(e)}catch(t){return console.error("Error getting org name:",t),""}})}getOrgEmail(e){return h(this,null,function*(){if(!this.contract)return"";try{return yield this.contract.getOrgEmail(e)}catch(t){return console.error("Error getting org name:",t),""}})}addUser(e,t,r){return h(this,null,function*(){if(this.contract)try{yield(yield this.contract.addUser(e,t,r)).wait()}catch(i){console.log(i);return}})}userExists(e){return h(this,null,function*(){if(!this.contract)return!1;try{return yield this.contract.isUser(e)}catch(t){return console.error("Error user exists:",t),!1}})}getUserAddress(){return h(this,null,function*(){if(!this.contract)return"";try{return yield this.contract.getUserAddress()}catch(e){return console.error("Error getting user:",e),""}})}getEmail(e){return h(this,null,function*(){if(!this.contract)return"";try{return yield this.contract.getEmail(e)}catch(t){return console.error("Error getting email:",t),""}})}getUsername(e){return h(this,null,function*(){if(!this.contract)return"";try{return yield this.contract.getUserName(e)}catch(t){return console.error("Error getting username:",t),""}})}getElectionIDbyName(e){return h(this,null,function*(){if(!this.contract)return 0;try{let t=yield this.getUserAddress();return yield this.contract.getElectionIdByName(t,e)}catch(t){return console.error("Error getting election ID:",t),0}})}getOwnedElectionNames(){return h(this,null,function*(){if(!this.contract)return[];try{let e=yield this.getUserAddress();return yield this.contract.getOwnedElectionNames(e)}catch(e){return console.error("Error getting owned election names:",e),[]}})}vote(e,t){return h(this,null,function*(){if(this.contract)try{yield(yield this.contract.Vote(e,t)).wait()}catch(r){console.error("Error voting for multiple candidates:",r)}})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})};function n$(n,e){if(n&1){let t=Pe();v(0,"div")(1,"button",5),G("click",function(){H(t);let i=O(2);return z(i.login())}),P(2,"img",6),C(3,"Login with MetaMask"),y()()}}function r$(n,e){if(n&1){let t=Pe();v(0,"div",7)(1,"h2"),C(2,"Select your role:"),y(),v(3,"button",8),G("click",function(){H(t);let i=O(2);return z(i.toggleVoter())}),C(4,"Voter"),y(),P(5,"br"),v(6,"button",8),G("click",function(){H(t);let i=O(2);return z(i.toggleOrganizer())}),C(7,"Organizer"),y()()}}function i$(n,e){if(n&1&&(v(0,"div"),ae(1,n$,4,0,"div",1)(2,r$,8,0,"div",4),y()),n&2){let t=O();A(),ne("ngIf",!t.register),A(),ne("ngIf",t.register)}}function o$(n,e){if(n&1){let t=Pe();v(0,"div",16)(1,"p"),C(2,"Enter OTP:"),y(),v(3,"input",17),pt("ngModelChange",function(i){H(t);let o=O(2);return xt(o.otp,i)||(o.otp=i),z(i)}),y(),v(4,"button",14),G("click",function(){H(t);let i=O(2);return z(i.registerUser(!1))}),C(5,"Register"),y()()}if(n&2){let t=O(2);A(3),ht("ngModel",t.otp)}}function s$(n,e){if(n&1){let t=Pe();v(0,"div",9)(1,"form")(2,"label",10),C(3,"Your Name:"),y(),P(4,"input",11)(5,"br"),v(6,"label",12),C(7,"Email:"),y(),P(8,"input",13)(9,"br"),v(10,"button",14),G("click",function(){H(t);let i=O();return z(i.toggleOTP())}),C(11,"Verify"),y()(),ae(12,o$,6,1,"div",15),v(13,"p"),C(14),y()()}if(n&2){let t=O();A(12),ne("ngIf",t.isOtp),A(2),lt(t.success)}}function a$(n,e){if(n&1){let t=Pe();v(0,"div",18)(1,"form")(2,"label",10),C(3,"Organization Name:"),y(),P(4,"input",19)(5,"br"),v(6,"label",10),C(7,"Full Name:"),y(),P(8,"input",11)(9,"br"),v(10,"label",12),C(11,"Email:"),y(),P(12,"input",13)(13,"br"),v(14,"button",14),G("click",function(){H(t);let i=O();return z(i.registerUser(!0))}),C(15,"Register"),y()(),v(16,"p"),C(17),y()()}if(n&2){let t=O();A(17),lt(t.success)}}var h0=class n{constructor(e,t){this.blockchainService=e;this.router=t}reg_1=!0;register=!1;voter=!1;organizer=!1;success="";isOtp=!1;otp="";randomOTP=Math.floor(Math.random()*1e4);ngOnInit(){return h(this,null,function*(){})}toggleOTP(){this.isOtp=!0,this.randomOTP=Math.floor(Math.random()*1e4),console.log(this.randomOTP);let e={passcode:this.randomOTP,email:document.getElementById("email").value};MS.send("blockvote","template_q1zygbv",e,"M-Lel7Aav1F3ztGZV").then(t=>{console.log("SUCCESS!",t.status,t.text)}).catch(t=>{console.log("FAILED...",t)})}login(){return h(this,null,function*(){if(yield this.blockchainService.loadBlockchain(),this.blockchainService.signer){let e=yield this.blockchainService.getUserAddress(),t=yield this.blockchainService.userExists(e),r=yield this.blockchainService.isOrg(e);t||r?(t&&(localStorage.clear(),localStorage.setItem("user","true")),r&&(localStorage.clear(),localStorage.setItem("user","false")),this.register=!1,this.router.navigate(["/dashboard"])):this.register=!0}})}registerUser(e){return h(this,null,function*(){let t=document.getElementById("name").value,r=document.getElementById("email").value;yield this.blockchainService.loadBlockchain();let i=yield this.blockchainService.getUserAddress(),o=yield this.blockchainService.isOrg(i),s=yield this.blockchainService.userExists(i);if(!o&&!s)if(e==!0){let a=document.getElementById("orgName").value;t!=""&&r!=""&&a!=""&&(yield this.blockchainService.addOrg(a,t,r),(yield this.blockchainService.isOrg(i))&&(localStorage.setItem("user","false"),this.success="Organizer registered successfully",setTimeout(()=>{this.router.navigate(["/dashboard"])},3e3)))}else e==!1&&(this.otp==this.randomOTP.toString()?t!=""&&r!=""&&(yield this.blockchainService.addUser(i,t,r),(yield this.blockchainService.userExists(i))&&(localStorage.setItem("user","true"),this.success="Voter registered successfully",setTimeout(()=>{this.router.navigate(["/dashboard"])},3e3))):(this.success="Incorrect OTP",console.log(this.otp),console.log(this.randomOTP)))})}toggleVoter(){return h(this,null,function*(){yield this.blockchainService.loadBlockchain();let e=yield this.blockchainService.getUserAddress(),t=yield this.blockchainService.isOrg(e),r=yield this.blockchainService.userExists(e);!t&&!r?(this.reg_1=!1,this.voter=!0):location.reload()})}toggleOrganizer(){return h(this,null,function*(){yield this.blockchainService.loadBlockchain();let e=yield this.blockchainService.getUserAddress(),t=yield this.blockchainService.isOrg(e),r=yield this.blockchainService.userExists(e);!t&&!r?(this.reg_1=!1,this.organizer=!0):location.reload()})}static \u0275fac=function(t){return new(t||n)(ee(Pr),ee(Ft))};static \u0275cmp=ze({type:n,selectors:[["app-auth"]],decls:4,vars:3,consts:[["id","logo","src","./img/logo.svg","alt","logo"],[4,"ngIf"],["id","voter",4,"ngIf"],["id","organizer",4,"ngIf"],["id","register",4,"ngIf"],["id","btn-login",3,"click"],["src","./img/MetaMask-icon-fox.svg",1,"icon"],["id","register"],[1,"btn",3,"click"],["id","voter"],["for","name"],["type","text","id","name","name","name","required",""],["for","email"],["type","email","id","email","name","email","required",""],["type","submit",3,"click"],["id","otp",4,"ngIf"],["id","otp"],["type","text",3,"ngModelChange","ngModel"],["id","organizer"],["type","text","id","orgName","name","OrgName","required",""]],template:function(t,r){t&1&&(P(0,"img",0),ae(1,i$,3,2,"div",1)(2,s$,15,2,"div",2)(3,a$,18,1,"div",3)),t&2&&(A(),ne("ngIf",r.reg_1),A(),ne("ngIf",r.voter),A(),ne("ngIf",r.organizer))},dependencies:[sn,ll,_r,bS,Di,os,dS,oo,Kx],styles:["#title[_ngcontent-%COMP%]{text-align:center;margin-top:20px;font-size:30px}#logo[_ngcontent-%COMP%]{position:absolute;top:15%}.icon[_ngcontent-%COMP%]{width:25px;margin-right:5px}#btn-login[_ngcontent-%COMP%]{width:250px;height:45px;background-color:#ff5c16;color:#fff;border-radius:10px;border:none;box-shadow:0 2px 2px #0003;position:absolute;top:50%;left:75%;transform:translate(-50%,-50%)}#btn-login[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_enlarge .5s forwards}#btn-login[_ngcontent-%COMP%]:not(:hover){animation:_ngcontent-%COMP%_reduce .5s forwards}#register[_ngcontent-%COMP%], #voter[_ngcontent-%COMP%], #organizer[_ngcontent-%COMP%]{border:5px solid #A6A6A8;border-radius:40px;background-color:#a6a6a869;text-align:center;margin-top:17%;margin-left:60%;margin-right:15%;color:#fff;padding-bottom:50px;padding-top:50px}form[_ngcontent-%COMP%]{text-align:right;margin-right:42%}.btn[_ngcontent-%COMP%]{width:250px;height:45px;background-color:#272635;color:#fff;border-radius:10px;border:3px solid #CECECE;box-shadow:0 2px 2px #0003;margin-bottom:10px;font-family:Inter;font-size:15px}@keyframes _ngcontent-%COMP%_enlarge{0%{transform:translate(-50%,-50%) scale(1)}to{transform:translate(-50%,-50%) scale(1.1)}}@keyframes _ngcontent-%COMP%_reduce{0%{transform:translate(-50%,-50%) scale(1.1)}to{transform:translate(-50%,-50%) scale(1)}}@keyframes _ngcontent-%COMP%_slideInFromLeft{0%{transform:translate(-100%)}to{transform:translate(0)}}@keyframes _ngcontent-%COMP%_fadein{0%{opacity:0}to{opacity:1}}#logo[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInFromLeft ease-in-out 1s forwards}"]})};function Uf(n){return n.buttons===0||n.detail===0}function Vf(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var q1;function f3(){if(q1==null){let n=typeof document<"u"?document.head:null;q1=!!(n&&(n.createShadowRoot||n.attachShadow))}return q1}function K1(n){if(f3()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Mo(n){return n.composedPath?n.composedPath()[0]:n.target}function p0(n,e,t,r,i){let o=parseInt(Vv.major),s=parseInt(Vv.minor);return o>19||o===19&&s>0||o===0&&s===0?n.listen(e,t,r,i):(e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)})}var Q1;try{Q1=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Q1=!1}var Bi=(()=>{class n{_platformId=I(ga);isBrowser=this._platformId?jI(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Q1)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var jf;function h3(){if(jf==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>jf=!0}))}finally{jf=jf||!1}return jf}function hu(n){return h3()?n:!!n.capture}function Rs(n){return n instanceof vt?n.nativeElement:n}var p3=new Q("cdk-input-modality-detector-options"),m3={ignoreKeys:[18,17,224,91,16]},g3=650,Z1={passive:!0,capture:!0},b3=(()=>{class n{_platform=I(Bi);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new Qt(null);_options;_lastTouchMs=0;_onKeydown=t=>{this._options?.ignoreKeys?.some(r=>r===t.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Mo(t))};_onMousedown=t=>{Date.now()-this._lastTouchMs<g3||(this._modality.next(Uf(t)?"keyboard":"mouse"),this._mostRecentTarget=Mo(t))};_onTouchstart=t=>{if(Vf(t)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Mo(t)};constructor(){let t=I(Ze),r=I(Zt),i=I(p3,{optional:!0});if(this._options=x(x({},m3),i),this.modalityDetected=this._modality.pipe(Gu(1)),this.modalityChanged=this.modalityDetected.pipe(Hb()),this._platform.isBrowser){let o=I(Zo).createRenderer(null,null);this._listenerCleanups=t.runOutsideAngular(()=>[p0(o,r,"keydown",this._onKeydown,Z1),p0(o,r,"mousedown",this._onMousedown,Z1),p0(o,r,"touchstart",this._onTouchstart,Z1)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(t=>t())}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$f=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}($f||{}),y3=new Q("cdk-focus-monitor-default-options"),m0=hu({passive:!0,capture:!0}),Y1=(()=>{class n{_ngZone=I(Ze);_platform=I(Bi);_inputModalityDetector=I(b3);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=I(Zt,{optional:!0});_stopInputModalityDetector=new ft;constructor(){let t=I(y3,{optional:!0});this._detectionMode=t?.detectionMode||$f.IMMEDIATE}_rootNodeFocusAndBlurListener=t=>{let r=Mo(t);for(let i=r;i;i=i.parentElement)t.type==="focus"?this._onFocus(t,i):this._onBlur(t,i)};monitor(t,r=!1){let i=Rs(t);if(!this._platform.isBrowser||i.nodeType!==1)return ie();let o=K1(i)||this._getDocument(),s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;let a={checkChildren:r,subject:new ft,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){let r=Rs(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){let o=Rs(t),s=this._getDocument().activeElement;o===s?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,r,c)):(this._setOrigin(r),typeof o.focus=="function"&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===$f.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused",r==="touch"),t.classList.toggle("cdk-keyboard-focused",r==="keyboard"),t.classList.toggle("cdk-mouse-focused",r==="mouse"),t.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&r,this._detectionMode===$f.IMMEDIATE){clearTimeout(this._originTimeoutId);let i=this._originFromTouchInteraction?g3:1;this._originTimeoutId=setTimeout(()=>this._origin=null,i)}})}_onFocus(t,r){let i=this._elementInfo.get(r),o=Mo(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){let i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,m0),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,m0)}),this._rootNodeFocusListenerCount.set(r,i+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ta(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){let r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,m0),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,m0),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){let r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if(i!=="mouse"||!r||r===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let o=t.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0}return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var g0=new WeakMap,Hf=(()=>{class n{_appRef;_injector=I(zt);_environmentInjector=I(En);load(t){let r=this._appRef=this._appRef||this._injector.get(wi),i=g0.get(r);i||(i={loaders:new Set,refs:[]},g0.set(r,i),r.onDestroy(()=>{g0.get(r)?.refs.forEach(o=>o.destroy()),g0.delete(r)})),i.loaders.has(t)||(i.loaders.add(t),i.refs.push(SI(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function J1(n){return Array.isArray(n)?n:[n]}var v3=new Set,fc,c$=(()=>{class n{_platform=I(Bi);_nonce=I(hd,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):u$}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&l$(t,this._nonce),this._matchMedia(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function l$(n,e){if(!v3.has(n))try{fc||(fc=document.createElement("style"),e&&fc.setAttribute("nonce",e),fc.setAttribute("type","text/css"),document.head.appendChild(fc)),fc.sheet&&(fc.sheet.insertRule(`@media ${n} {body{ }}`,0),v3.add(n))}catch(t){console.error(t)}}function u$(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var w3=(()=>{class n{_mediaMatcher=I(c$);_zone=I(Ze);_queries=new Map;_destroySubject=new ft;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return x3(J1(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let i=x3(J1(t)).map(s=>this._registerQuery(s).observable),o=Xs(i);return o=zo(o.pipe(jr(1)),o.pipe(Gu(1),$b(0))),o.pipe(Ae(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let r=this._mediaMatcher.matchMedia(t),o={observable:new Be(s=>{let a=c=>this._zone.run(()=>s.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(Wu(r),Ae(({matches:s})=>({query:t,matches:s})),ta(this._destroySubject)),mql:r};return this._queries.set(t,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function x3(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}var Ps=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(Ps||{}),_3="cdk-high-contrast-black-on-white",C3="cdk-high-contrast-white-on-black",X1="cdk-high-contrast-active",e_=(()=>{class n{_platform=I(Bi);_hasCheckedHighContrastMode;_document=I(Zt);_breakpointSubscription;constructor(){this._breakpointSubscription=I(w3).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Ps.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Ps.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Ps.BLACK_ON_WHITE}return Ps.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(X1,_3,C3),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===Ps.BLACK_ON_WHITE?t.add(X1,_3):r===Ps.WHITE_ON_BLACK&&t.add(X1,C3)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var t_={},n_=(()=>{class n{_appId=I(fd);getId(t){return this._appId!=="ng"&&(t+=this._appId),t_.hasOwnProperty(t)||(t_[t]=0),`${t}${t_[t]++}`}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var b0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pt({type:n});static \u0275inj=Ot({})}return n})();var Fr=(()=>{class n{constructor(){I(e_)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pt({type:n});static \u0275inj=Ot({imports:[b0,b0]})}return n})();var r_=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pt({type:n});static \u0275inj=Ot({imports:[Fr,Fr]})}return n})();var E3=()=>["/dashboard"],hc=()=>({exact:!0}),d$=()=>["/elections"],A3=()=>["/results"],f$=()=>["/account"],h$=()=>["/vote"];function p$(n,e){n&1&&(v(0,"div",4),P(1,"img",16),C(2,"BlockVote"),y())}function m$(n,e){n&1&&(v(0,"span",9),C(1,"Dashboard"),y())}function g$(n,e){n&1&&(v(0,"span",9),C(1,"Manage Elections"),y())}function b$(n,e){n&1&&(v(0,"span",9),C(1,"Election Results"),y())}function y$(n,e){n&1&&(v(0,"span",9),C(1,"Manage Account"),y())}function v$(n,e){n&1&&(v(0,"span",9),C(1,"Logout"),y())}function x$(n,e){if(n&1){let t=Pe();v(0,"div",0)(1,"div",1)(2,"button",2),G("click",function(){H(t);let i=O();return z(i.toggleCollapse())}),P(3,"i",3),y(),ae(4,p$,3,0,"div",4),y(),v(5,"div",5)(6,"li",6)(7,"a",7),P(8,"i",8),ae(9,m$,2,0,"span",9),y()(),v(10,"li",6)(11,"a",7),P(12,"i",10),ae(13,g$,2,0,"span",9),y()(),v(14,"li",6)(15,"a",7),P(16,"i",11),ae(17,b$,2,0,"span",9),y()(),v(18,"li",6)(19,"a",7),P(20,"i",12),ae(21,y$,2,0,"span",9),y()(),v(22,"li",13),G("click",function(){H(t);let i=O();return z(i.logout())}),v(23,"a",14),P(24,"i",15),ae(25,v$,2,0,"span",9),y()()()()}if(n&2){let t=O();ne("ngClass",t.isLeftSidebarCollapsed()?"sidenav-collapsed":""),A(4),Se(t.isLeftSidebarCollapsed()?-1:4),A(3),ne("routerLink",Dn(15,E3))("routerLinkActiveOptions",Dn(16,hc)),A(2),Se(t.isLeftSidebarCollapsed()?-1:9),A(2),ne("routerLink",Dn(17,d$))("routerLinkActiveOptions",Dn(18,hc)),A(2),Se(t.isLeftSidebarCollapsed()?-1:13),A(2),ne("routerLink",Dn(19,A3))("routerLinkActiveOptions",Dn(20,hc)),A(2),Se(t.isLeftSidebarCollapsed()?-1:17),A(2),ne("routerLink",Dn(21,f$))("routerLinkActiveOptions",Dn(22,hc)),A(2),Se(t.isLeftSidebarCollapsed()?-1:21),A(4),Se(t.isLeftSidebarCollapsed()?-1:25)}}function w$(n,e){n&1&&(v(0,"div",4),P(1,"img",16),C(2,"BlockVote"),y())}function _$(n,e){n&1&&(v(0,"span",9),C(1,"Dashboard"),y())}function C$(n,e){n&1&&(v(0,"span",9),C(1,"Vote"),y())}function E$(n,e){n&1&&(v(0,"span",9),C(1,"Result"),y())}function A$(n,e){n&1&&(v(0,"span",9),C(1,"Logout"),y())}function I$(n,e){if(n&1){let t=Pe();v(0,"div",0)(1,"div",1)(2,"button",2),G("click",function(){H(t);let i=O();return z(i.toggleCollapse())}),P(3,"i",3),y(),ae(4,w$,3,0,"div",4),y(),v(5,"div",5)(6,"li",6)(7,"a",7),P(8,"i",8),ae(9,_$,2,0,"span",9),y()(),v(10,"li",6)(11,"a",7),P(12,"i",17),ae(13,C$,2,0,"span",9),y()(),v(14,"li",6)(15,"a",7),P(16,"i",11),ae(17,E$,2,0,"span",9),y()(),v(18,"li",13),G("click",function(){H(t);let i=O();return z(i.logout())}),v(19,"a",14),P(20,"i",15),ae(21,A$,2,0,"span",9),y()()()()}if(n&2){let t=O();ne("ngClass",t.isLeftSidebarCollapsed()?"sidenav-collapsed":""),A(4),Se(t.isLeftSidebarCollapsed()?-1:4),A(3),ne("routerLink",Dn(12,E3))("routerLinkActiveOptions",Dn(13,hc)),A(2),Se(t.isLeftSidebarCollapsed()?-1:9),A(2),ne("routerLink",Dn(14,h$))("routerLinkActiveOptions",Dn(15,hc)),A(2),Se(t.isLeftSidebarCollapsed()?-1:13),A(2),ne("routerLink",Dn(16,A3))("routerLinkActiveOptions",Dn(17,hc)),A(2),Se(t.isLeftSidebarCollapsed()?-1:17),A(4),Se(t.isLeftSidebarCollapsed()?-1:21)}}var Lr=class n{isLeftSidebarCollapsed=Lp.required();changeIsLeftSidebarCollapsed=l2();whatAmI=localStorage.getItem("user");router=I(Ft);toggleCollapse(){this.changeIsLeftSidebarCollapsed.emit(!this.isLeftSidebarCollapsed())}closeSidenav(){this.changeIsLeftSidebarCollapsed.emit(!0)}logout(){confirm("Are you sure you want to logout?")&&(localStorage.clear(),this.router.navigate(["/auth"]))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ze({type:n,selectors:[["app-left-sidebar"]],inputs:{isLeftSidebarCollapsed:[1,"isLeftSidebarCollapsed"]},outputs:{changeIsLeftSidebarCollapsed:"changeIsLeftSidebarCollapsed"},decls:2,vars:2,consts:[[1,"sidenav",3,"ngClass"],[1,"logo-container"],[1,"logo",3,"click"],[1,"fal","fa-bars"],[1,"logo-text"],[1,"sidenav-nav"],[1,"sidenav-nav-item"],["routerLinkActive","active",1,"sidenav-nav-link",3,"routerLink","routerLinkActiveOptions"],[1,"sidenav-link-icon","fal","fa-home"],[1,"sidenav-link-text"],[1,"sidenav-link-icon","fal","fa-users"],[1,"sidenav-link-icon","fal","fa-box-open"],[1,"sidenav-link-icon","fal","fa-cog"],[1,"sidenav-nav-item",2,"cursor","pointer",3,"click"],[1,"sidenav-nav-link"],[1,"sidenav-link-icon","fal","fa-sign-out"],["src","./img/BlockVote.png",1,"logoImg"],[1,"sidenav-link-icon","fal","fa-poll"]],template:function(t,r){t&1&&ae(0,x$,26,23,"div",0)(1,I$,22,18,"div",0),t&2&&(Se(r.whatAmI=="false"?0:-1),A(),Se(r.whatAmI=="true"?1:-1))},dependencies:[KD,ym,jD,sn,xr,r_],styles:[".logoImg[_ngcontent-%COMP%]{width:70px}.sidenav[_ngcontent-%COMP%]{background:#272635;transition:all .5s ease;position:fixed;z-index:1;top:0;width:16.5625rem;height:100vh;box-shadow:.063rem 0 1.25rem #8690a3}.sidenav-collapsed[_ngcontent-%COMP%]{width:5rem}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.938rem .938rem 0;width:100%}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{background:#fff;text-align:center;width:3rem;min-width:3rem;border-radius:.313rem;padding:.313rem;font-size:24px;font-weight:900;cursor:pointer;border:none}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{margin-left:0;font-size:24px;font-weight:700;color:#fff}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{margin-left:auto;cursor:pointer;width:2rem;height:2rem;border-radius:50%;background-color:transparent;border:none}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{color:#fff;font-size:24px}.sidenav-nav[_ngcontent-%COMP%]{list-style:none;padding:.938rem;margin:0;display:flex;flex-direction:column;align-items:center;height:calc(100% - 3.65rem)}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]{width:100%;margin-bottom:.625rem}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;height:3rem;color:#f3f3f3;text-decoration:none;border-radius:.625rem;transition:all .3s ease}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]   .sidenav-link-icon[_ngcontent-%COMP%]{font-size:22px;width:2rem;min-width:2rem;text-align:center;padding:12px}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]   .sidenav-link-text[_ngcontent-%COMP%]{margin-left:1.5rem}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]:hover   .sidenav-nav-link[_ngcontent-%COMP%]{background-color:#fff;color:#000}.active[_ngcontent-%COMP%]{background-color:#fff}.active[_ngcontent-%COMP%]   .sidenav-link-icon[_ngcontent-%COMP%], .active[_ngcontent-%COMP%]   .sidenav-link-text[_ngcontent-%COMP%]{color:#000}"]})};function i_(n){return n!=null&&`${n}`!="false"}var pu=(()=>{class n{get vertical(){return this._vertical}set vertical(t){this._vertical=i_(t)}_vertical=!1;get inset(){return this._inset}set inset(t){this._inset=i_(t)}_inset=!1;static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ze({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(r,i){r&2&&(Gr("aria-orientation",i.vertical?"vertical":"horizontal"),Gn("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(r,i){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-sys-outline));border-top-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-sys-outline));border-right-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return n})(),mu=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pt({type:n});static \u0275inj=Ot({imports:[Fr,Fr]})}return n})();function D$(n,e){if(n&1&&(v(0,"mat-list-item",13)(1,"h4",14),C(2),y(),P(3,"mat-divider"),y()),n&2){let t=e.$implicit;A(2),lt(t)}}function S$(n,e){if(n&1&&(v(0,"mat-list"),ae(1,D$,4,1,"mat-list-item",12),y()),n&2){let t=O(2);A(),ne("ngForOf",t.ongoingElections)}}function T$(n,e){if(n&1){let t=Pe();v(0,"button",15),G("click",function(){H(t);let i=O(2);return z(i.ongoingElection())}),C(1,"No Data"),y()}}function M$(n,e){if(n&1&&(v(0,"mat-list-item",13)(1,"h4",14),C(2),y(),P(3,"mat-divider"),y()),n&2){let t=e.$implicit;A(2),lt(t)}}function k$(n,e){if(n&1&&(v(0,"mat-list"),ae(1,M$,4,1,"mat-list-item",12),y()),n&2){let t=O(2);A(),ne("ngForOf",t.upcomingElections)}}function N$(n,e){if(n&1){let t=Pe();v(0,"button",15),G("click",function(){H(t);let i=O(2);return z(i.upcomingElection())}),C(1,"No Data"),y()}}function O$(n,e){if(n&1&&(v(0,"div",6)(1,"div",7)(2,"h3",8),C(3,"Ongoing Elections"),y(),v(4,"div",9),ae(5,S$,2,1,"mat-list",10)(6,T$,2,0,"ng-template",null,0,sl),y()(),v(8,"div",11)(9,"h3",8),C(10,"Upcoming Elections"),y(),v(11,"div",9),ae(12,k$,2,1,"mat-list",10)(13,N$,2,0,"ng-template",null,1,sl),y()()()),n&2){let t=ol(7),r=ol(14),i=O();A(5),ne("ngIf",i.ongoingElections.length>0)("ngIfElse",t),A(7),ne("ngIf",i.upcomingElections.length>0)("ngIfElse",r)}}var y0=class n{isLeftSidebarCollapsed=Gt(!1);screenWidth=Gt(window.innerWidth);onResize(){this.screenWidth.set(window.innerWidth),this.screenWidth()<768&&this.isLeftSidebarCollapsed.set(!0)}changeIsLeftSidebarCollapsed(e){this.isLeftSidebarCollapsed.set(e)}sizeClass=Sn(()=>this.isLeftSidebarCollapsed()?"":this.screenWidth()>768?"body-trimmed":"body-md-screen");router=I(Ft);blockchainService=I(Pr);constructor(){}walletAddress="";userName=Promise.resolve("");orgName=Promise.resolve("");owner="0xF3dcc20F2889631e7f09618b460149f770004517";user=Promise.resolve(this.blockchainService.getUserAddress());whatAmI="";upcomingElections=[];ongoingElections=[];upcomingElectionID=[];ongoingElectionID=[];elections=[];ngOnInit(){return h(this,null,function*(){this.isLeftSidebarCollapsed.set(this.screenWidth()<768);try{yield this.blockchainService.loadBlockchain();let e=yield this.blockchainService.userExists(yield this.blockchainService.getUserAddress()),t=yield this.blockchainService.isOrg(yield this.blockchainService.getUserAddress());this.walletAddress=yield this.blockchainService.getUserAddress(),e?(localStorage.clear(),localStorage.setItem("user","true"),this.whatAmI="Voter"):t?(localStorage.clear(),localStorage.setItem("user","false"),this.whatAmI="Organizer"):(localStorage.clear(),this.router.navigate(["/auth"]))}catch{localStorage.clear(),this.whatAmI="",this.router.navigate(["/auth"])}this.whatAmI==""&&(localStorage.clear(),this.router.navigate(["/auth"])),yield this.upcomingElection(),yield this.ongoingElection()})}upcomingElection(){return h(this,null,function*(){console.log("Upcoming Elections"),this.elections=yield this.blockchainService.getOwnedElectionNames();for(let a=0;a<this.elections.length;a++){var e=yield this.blockchainService.getElectionIDbyName(this.elections[a]),t=yield this.blockchainService.getElectionStartDate(e),r=yield this.blockchainService.getElectionEndDate(e),i=new Date(t),o=new Date(r),s=new Date;i>s&&o>s&&(this.upcomingElections.push(this.elections[a]),console.log(this.upcomingElections))}for(let a=0;a<this.upcomingElections.length;a++)this.upcomingElectionID.push(yield this.blockchainService.getElectionIDbyName(this.upcomingElections[a]))})}ongoingElection(){return h(this,null,function*(){console.log("Ongoing Elections"),this.elections=yield this.blockchainService.getOwnedElectionNames();for(let a=0;a<this.elections.length;a++){var e=yield this.blockchainService.getElectionIDbyName(this.elections[a]),t=yield this.blockchainService.getElectionStartDate(e),r=yield this.blockchainService.getElectionEndDate(e),i=new Date(t),o=new Date(r),s=new Date;i<s&&o>s&&this.ongoingElections.push(this.elections[a])}for(let a=0;a<this.ongoingElections.length;a++)this.ongoingElectionID.push(yield this.blockchainService.getElectionIDbyName(this.ongoingElections[a]))})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ze({type:n,selectors:[["app-dashboard"]],hostBindings:function(t,r){t&1&&G("resize",function(){return r.onResize()},!1,Ci)},decls:12,vars:5,consts:[["noElectionss",""],["noElections",""],[3,"changeIsLeftSidebarCollapsed","isLeftSidebarCollapsed"],[1,"body",3,"ngClass"],[2,"padding-top","1rem"],[2,"margin-left","-5rem"],[1,"flex-container"],[1,"box-container"],[1,"box-title"],[1,"box"],[4,"ngIf","ngIfElse"],[1,"box-container",2,"margin-right","3rem"],["class","list-item",4,"ngFor","ngForOf"],[1,"list-item"],[1,"btn-list",2,"text-align","center"],[1,"btn-refresh",3,"click"]],template:function(t,r){t&1&&(v(0,"app-left-sidebar",2),G("changeIsLeftSidebarCollapsed",function(o){return r.changeIsLeftSidebarCollapsed(o)}),y(),v(1,"div",3)(2,"div")(3,"h3",4),C(4,"Dashboard"),y(),P(5,"hr",5),y(),v(6,"h4"),C(7),y(),v(8,"p"),C(9),y(),P(10,"br"),ae(11,O$,15,4,"div",6),y()),t&2&&(ne("isLeftSidebarCollapsed",r.isLeftSidebarCollapsed()),A(),ne("ngClass",r.sizeClass()),A(6),fe("Welcome ",r.whatAmI,"!"),A(2),fe("Wallet address: ",r.walletAddress,""),A(2),Se(r.whatAmI=="Organizer"?11:-1))},dependencies:[sn,xr,cl,ll,_r,Lr,mu,pu],styles:[".body[_ngcontent-%COMP%]{width:calc(100% - 5rem);margin-left:5rem;z-index:0;position:relative;top:0;transition:all .5s ease;background:#000;padding-left:3rem;height:100vh}.box[_ngcontent-%COMP%]{margin-top:0;overflow-y:scroll;height:93%;scrollbar-width:thin;scrollbar-color:#CECECE #272635}.body-trimmed[_ngcontent-%COMP%]{width:calc(100% - 16.5625rem);margin-left:16.5625rem}.body-md-screen[_ngcontent-%COMP%]{width:calc(100% - 5rem);margin-left:5rem}.box-container[_ngcontent-%COMP%]{border:1px solid #fff;border-radius:13px;width:40%;padding:0;height:500px}.box-title[_ngcontent-%COMP%]{background-color:#fff;color:#000;text-align:center;border-radius:10px 10px 0 0;margin-bottom:0;border-bottom:1px solid black}.flex-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.btn-list[_ngcontent-%COMP%]{margin:0;cursor:pointer}.btn-list[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000;transition:all .3s ease}.btn-refresh[_ngcontent-%COMP%]{width:250px;height:45px;background-color:#272635;color:#fff;border-radius:10px;border:3px solid #CECECE;box-shadow:0 2px 2px #0003;margin-bottom:10px;font-family:Inter;font-size:15px;display:flex;justify-content:center;align-items:center;margin-top:40%;margin-left:33%}"]})};var ah={};xb(ah,{ActivityBlock:()=>V,ActivityHeader:()=>db,BaseComponent:()=>No,Block:()=>le,BtnUi:()=>Pu,CameraSource:()=>EN,CloudImageEditor:()=>pb,CloudImageEditorActivity:()=>cb,CloudImageEditorBlock:()=>_c,Config:()=>J5,Copyright:()=>KN,CropFrame:()=>RN,Data:()=>Xe,DropArea:()=>J_,EditorCropButtonControl:()=>Nu,EditorFilterControl:()=>ob,EditorImageCropper:()=>LN,EditorImageFader:()=>sb,EditorOperationControl:()=>Ou,EditorScroller:()=>UN,EditorSlider:()=>PN,EditorToolbar:()=>sh,ExternalSource:()=>WN,ExternalUploadSource:()=>vc,FileItem:()=>Mu,FileUploaderInline:()=>YN,FileUploaderMinimal:()=>ZN,FileUploaderRegular:()=>oC,FormInput:()=>ub,Icon:()=>H_,Img:()=>eb,LineLoaderUi:()=>VN,Modal:()=>bN,ModalEvents:()=>qt,PACKAGE_NAME:()=>bc,PACKAGE_VERSION:()=>yc,PresenceToggle:()=>jN,ProgressBar:()=>DN,ProgressBarCommon:()=>IN,Select:()=>qN,SimpleBtn:()=>Q_,SliderUi:()=>$N,SolutionBlock:()=>$s,SourceBtn:()=>X_,SourceList:()=>tb,Spinner:()=>QN,StartFrom:()=>nN,Thumb:()=>iC,UID:()=>pc,UploadCtxProvider:()=>AN,UploadList:()=>yN,UploadSource:()=>bt,UploaderBlock:()=>Je,UrlSource:()=>vN,defineComponents:()=>Ws,defineLocale:()=>A_,loadFileUploaderFrom:()=>JN,toKebabCase:()=>Eu});var R$=Object.defineProperty,P$=(n,e,t)=>e in n?R$(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,a_=(n,e,t)=>(P$(n,typeof e!="symbol"?e+"":e,t),t);function F$(n){let e=t=>{var r;for(let i in t)((r=t[i])==null?void 0:r.constructor)===Object&&(t[i]=e(t[i]));return x({},t)};return e(n)}var Xe=(()=>{let n=class{constructor(e){e.constructor===Object?this.store=F$(e):(this._storeIsProxy=!0,this.store=e),this.callbackMap=Object.create(null)}static warn(e,t){console.warn(`Symbiote Data: cannot ${e}. Prop name: `+t)}read(e){return!this._storeIsProxy&&!this.store.hasOwnProperty(e)?(n.warn("read",e),null):this.store[e]}has(e){return this._storeIsProxy?this.store[e]!==void 0:this.store.hasOwnProperty(e)}add(e,t,r=!1){!r&&Object.keys(this.store).includes(e)||(this.store[e]=t,this.notify(e))}pub(e,t){if(!this._storeIsProxy&&!this.store.hasOwnProperty(e)){n.warn("publish",e);return}this.store[e]=t,this.notify(e)}multiPub(e){for(let t in e)this.pub(t,e[t])}notify(e){this.callbackMap[e]&&this.callbackMap[e].forEach(t=>{t(this.store[e])})}sub(e,t,r=!0){return!this._storeIsProxy&&!this.store.hasOwnProperty(e)?(n.warn("subscribe",e),null):(this.callbackMap[e]||(this.callbackMap[e]=new Set),this.callbackMap[e].add(t),r&&t(this.store[e]),{remove:()=>{this.callbackMap[e].delete(t),this.callbackMap[e].size||delete this.callbackMap[e]},callback:t})}static registerCtx(e,t=Symbol()){let r=n.globalStore.get(t);return r?console.warn('State: context UID "'+t+'" already in use'):(r=new n(e),n.globalStore.set(t,r)),r}static deleteCtx(e){n.globalStore.delete(e)}static getCtx(e,t=!0){return n.globalStore.get(e)||(t&&console.warn('State: wrong context UID - "'+e+'"'),null)}};return n.globalStore=new Map,n})(),_e=Object.freeze({BIND_ATTR:"set",ATTR_BIND_PRFX:"@",EXT_DATA_CTX_PRFX:"*",NAMED_DATA_CTX_SPLTR:"/",CTX_NAME_ATTR:"ctx-name",CTX_OWNER_ATTR:"ctx-owner",CSS_CTX_PROP:"--ctx-name",EL_REF_ATTR:"ref",AUTO_TAG_PRFX:"sym",REPEAT_ATTR:"repeat",REPEAT_ITEM_TAG_ATTR:"repeat-item-tag",SET_LATER_KEY:"__toSetLater__",USE_TPL:"use-template",ROOT_STYLE_ATTR_NAME:"sym-component"}),S3="1234567890QWERTYUIOPASDFGHJKLZXCVBNMqwertyuiopasdfghjklzxcvbnm",L$=S3.length-1,pc=class{static generate(n="XXXXXXXXX-XXX"){let e="";for(let t=0;t<n.length;t++)e+=n[t]==="-"?n[t]:S3.charAt(Math.random()*L$);return e}};function T3(n,e,t){let r=!0,i,o=e.split(".");return o.forEach((s,a)=>{a<o.length-1?n=n[s]:i=s}),n?n[i]=t:r=!1,r}function B$(n){return n.split("-").map((e,t)=>e&&t?e[0].toUpperCase()+e.slice(1):e).join("").split("_").map((e,t)=>e&&t?e.toUpperCase():e).join("")}function U$(n,e){[...n.querySelectorAll(`[${_e.REPEAT_ATTR}]`)].forEach(t=>{let r=t.getAttribute(_e.REPEAT_ITEM_TAG_ATTR),i;if(r&&(i=window.customElements.get(r)),!i){i=class extends e.BaseComponent{constructor(){super(),r||(this.style.display="contents")}};let s=t.innerHTML;i.template=s,i.reg(r)}for(;t.firstChild;)t.firstChild.remove();let o=t.getAttribute(_e.REPEAT_ATTR);e.sub(o,s=>{if(!s){for(;t.firstChild;)t.firstChild.remove();return}let a=[...t.children],c,l=u=>{u.forEach((f,p)=>{if(a[p])if(a[p].set$)setTimeout(()=>{a[p].set$(f)});else for(let m in f)a[p][m]=f[m];else{c||(c=new DocumentFragment);let m=new i;Object.assign(m.init$,f),c.appendChild(m)}}),c&&t.appendChild(c);let d=a.slice(u.length,a.length);for(let f of d)f.remove()};if(s.constructor===Array)l(s);else if(s.constructor===Object){let u=[];for(let d in s){let f=s[d];Object.defineProperty(f,"_KEY_",{value:d,enumerable:!0}),u.push(f)}l(u)}else console.warn("Symbiote repeat data type error:"),console.log(s)}),t.removeAttribute(_e.REPEAT_ATTR),t.removeAttribute(_e.REPEAT_ITEM_TAG_ATTR)})}var I3="__default__";function V$(n,e){if(e.shadowRoot)return;let t=[...n.querySelectorAll("slot")];if(!t.length)return;let r={};t.forEach(i=>{let o=i.getAttribute("name")||I3;r[o]={slot:i,fr:document.createDocumentFragment()}}),e.initChildren.forEach(i=>{var o;let s=I3;i instanceof Element&&i.hasAttribute("slot")&&(s=i.getAttribute("slot"),i.removeAttribute("slot")),(o=r[s])==null||o.fr.appendChild(i)}),Object.values(r).forEach(i=>{if(i.fr.childNodes.length)i.slot.parentNode.replaceChild(i.fr,i.slot);else if(i.slot.childNodes.length){let o=document.createDocumentFragment();o.append(...i.slot.childNodes),i.slot.parentNode.replaceChild(o,i.slot)}else i.slot.remove()})}function j$(n,e){[...n.querySelectorAll(`[${_e.EL_REF_ATTR}]`)].forEach(t=>{let r=t.getAttribute(_e.EL_REF_ATTR);e.ref[r]=t,t.removeAttribute(_e.EL_REF_ATTR)})}function $$(n,e){[...n.querySelectorAll(`[${_e.BIND_ATTR}]`)].forEach(t=>{let i=t.getAttribute(_e.BIND_ATTR).split(";");[...t.attributes].forEach(o=>{if(o.name.startsWith("-")&&o.value){let s=B$(o.name.replace("-",""));i.push(s+":"+o.value),t.removeAttribute(o.name)}}),i.forEach(o=>{if(!o)return;let s=o.split(":").map(u=>u.trim()),a=s[0],c;a.indexOf(_e.ATTR_BIND_PRFX)===0&&(c=!0,a=a.replace(_e.ATTR_BIND_PRFX,""));let l=s[1].split(",").map(u=>u.trim());for(let u of l){let d;u.startsWith("!!")?(d="double",u=u.replace("!!","")):u.startsWith("!")&&(d="single",u=u.replace("!","")),e.sub(u,f=>{d==="double"?f=!!f:d==="single"&&(f=!f),c?f?.constructor===Boolean?f?t.setAttribute(a,""):t.removeAttribute(a):t.setAttribute(a,f):T3(t,a,f)||(t[_e.SET_LATER_KEY]||(t[_e.SET_LATER_KEY]=Object.create(null)),t[_e.SET_LATER_KEY][a]=f)})}}),t.removeAttribute(_e.BIND_ATTR)})}var v0="{{",zf="}}",H$="skip-text";function z$(n){let e,t=[],r=document.createTreeWalker(n,NodeFilter.SHOW_TEXT,{acceptNode:i=>{var o;return!((o=i.parentElement)!=null&&o.hasAttribute(H$))&&i.textContent.includes(v0)&&i.textContent.includes(zf)&&1}});for(;e=r.nextNode();)t.push(e);return t}var G$=function(n,e){z$(n).forEach(r=>{let i=[],o;for(;r.textContent.includes(zf);)r.textContent.startsWith(v0)?(o=r.textContent.indexOf(zf)+zf.length,r.splitText(o),i.push(r)):(o=r.textContent.indexOf(v0),r.splitText(o)),r=r.nextSibling;i.forEach(s=>{let a=s.textContent.replace(v0,"").replace(zf,"");s.textContent="",e.sub(a,c=>{s.textContent=c})})})},W$=[U$,V$,j$,$$,G$],x0="'",bu='"',q$=/\\([0-9a-fA-F]{1,6} ?)/g;function K$(n){return(n[0]===bu||n[0]===x0)&&(n[n.length-1]===bu||n[n.length-1]===x0)}function Q$(n){return(n[0]===bu||n[0]===x0)&&(n=n.slice(1)),(n[n.length-1]===bu||n[n.length-1]===x0)&&(n=n.slice(0,-1)),n}function Z$(n){let e="",t="";for(var r=0;r<n.length;r++){let i=n[r+1];n[r]==="\\"&&i==='"'?(e+='\\"',r++):n[r]==='"'&&t!=="\\"?e+='\\"':e+=n[r],t=n[r]}return e}function Y$(n){let e=n;K$(n)&&(e=Q$(e),e=e.replace(q$,(t,r)=>String.fromCodePoint(parseInt(r.trim(),16))),e=e.replaceAll(`\\
`,"\\n"),e=Z$(e),e=bu+e+bu);try{return JSON.parse(e)}catch{throw new Error(`Failed to parse CSS property value: ${e}. Original input: ${n}`)}}var D3=0,gu=null,ko=null,Fs=class extends HTMLElement{constructor(){super(),a_(this,"updateCssData",()=>{var n;this.dropCssDataCache(),(n=this.__boundCssProps)==null||n.forEach(e=>{let t=this.getCssData(this.__extractCssName(e),!0);t!==null&&this.$[e]!==t&&(this.$[e]=t)})}),this.init$=Object.create(null),this.cssInit$=Object.create(null),this.tplProcessors=new Set,this.ref=Object.create(null),this.allSubs=new Set,this.pauseRender=!1,this.renderShadow=!1,this.readyToDestroy=!0,this.processInnerHtml=!1,this.allowCustomTemplate=!1,this.ctxOwner=!1}get BaseComponent(){return Fs}initCallback(){}__initCallback(){var n;this.__initialized||(this.__initialized=!0,(n=this.initCallback)==null||n.call(this))}render(n,e=this.renderShadow){let t;if((e||this.constructor.__shadowStylesUrl)&&!this.shadowRoot&&this.attachShadow({mode:"open"}),this.allowCustomTemplate){let i=this.getAttribute(_e.USE_TPL);if(i){let o=this.getRootNode(),s=o?.querySelector(i)||document.querySelector(i);s?n=s.content.cloneNode(!0):console.warn(`Symbiote template "${i}" is not found...`)}}if(this.processInnerHtml)for(let i of this.tplProcessors)i(this,this);if(n||this.constructor.template){if(this.constructor.template&&!this.constructor.__tpl&&(this.constructor.__tpl=document.createElement("template"),this.constructor.__tpl.innerHTML=this.constructor.template),n?.constructor===DocumentFragment)t=n;else if(n?.constructor===String){let i=document.createElement("template");i.innerHTML=n,t=i.content.cloneNode(!0)}else this.constructor.__tpl&&(t=this.constructor.__tpl.content.cloneNode(!0));for(let i of this.tplProcessors)i(t,this)}let r=()=>{t&&(e&&this.shadowRoot.appendChild(t)||this.appendChild(t)),this.__initCallback()};if(this.constructor.__shadowStylesUrl){e=!0;let i=document.createElement("link");i.rel="stylesheet",i.href=this.constructor.__shadowStylesUrl,i.onload=r,this.shadowRoot.prepend(i)}else r()}addTemplateProcessor(n){this.tplProcessors.add(n)}get autoCtxName(){return this.__autoCtxName||(this.__autoCtxName=pc.generate(),this.style.setProperty(_e.CSS_CTX_PROP,`'${this.__autoCtxName}'`)),this.__autoCtxName}get cssCtxName(){return this.getCssData(_e.CSS_CTX_PROP,!0)}get ctxName(){var n;let e=((n=this.getAttribute(_e.CTX_NAME_ATTR))==null?void 0:n.trim())||this.cssCtxName||this.__cachedCtxName||this.autoCtxName;return this.__cachedCtxName=e,e}get localCtx(){return this.__localCtx||(this.__localCtx=Xe.registerCtx({},this)),this.__localCtx}get nodeCtx(){return Xe.getCtx(this.ctxName,!1)||Xe.registerCtx({},this.ctxName)}static __parseProp(n,e){let t,r;if(n.startsWith(_e.EXT_DATA_CTX_PRFX))t=e.nodeCtx,r=n.replace(_e.EXT_DATA_CTX_PRFX,"");else if(n.includes(_e.NAMED_DATA_CTX_SPLTR)){let i=n.split(_e.NAMED_DATA_CTX_SPLTR);t=Xe.getCtx(i[0]),r=i[1]}else t=e.localCtx,r=n;return{ctx:t,name:r}}sub(n,e,t=!0){let r=o=>{this.isConnected&&e(o)},i=Fs.__parseProp(n,this);i.ctx.has(i.name)?this.allSubs.add(i.ctx.sub(i.name,r,t)):window.setTimeout(()=>{this.allSubs.add(i.ctx.sub(i.name,r,t))})}notify(n){let e=Fs.__parseProp(n,this);e.ctx.notify(e.name)}has(n){let e=Fs.__parseProp(n,this);return e.ctx.has(e.name)}add(n,e,t=!1){let r=Fs.__parseProp(n,this);r.ctx.add(r.name,e,t)}add$(n,e=!1){for(let t in n)this.add(t,n[t],e)}get $(){if(!this.__stateProxy){let n=Object.create(null);this.__stateProxy=new Proxy(n,{set:(e,t,r)=>{let i=Fs.__parseProp(t,this);return i.ctx.pub(i.name,r),!0},get:(e,t)=>{let r=Fs.__parseProp(t,this);return r.ctx.read(r.name)}})}return this.__stateProxy}set$(n,e=!1){for(let t in n){let r=n[t];e||![String,Number,Boolean].includes(r?.constructor)?this.$[t]=r:this.$[t]!==r&&(this.$[t]=r)}}get __ctxOwner(){return this.ctxOwner||this.hasAttribute(_e.CTX_OWNER_ATTR)&&this.getAttribute(_e.CTX_OWNER_ATTR)!=="false"}__initDataCtx(){let n=this.constructor.__attrDesc;if(n)for(let e of Object.values(n))Object.keys(this.init$).includes(e)||(this.init$[e]="");for(let e in this.init$)if(e.startsWith(_e.EXT_DATA_CTX_PRFX))this.nodeCtx.add(e.replace(_e.EXT_DATA_CTX_PRFX,""),this.init$[e],this.__ctxOwner);else if(e.includes(_e.NAMED_DATA_CTX_SPLTR)){let t=e.split(_e.NAMED_DATA_CTX_SPLTR),r=t[0].trim(),i=t[1].trim();if(r&&i){let o=Xe.getCtx(r,!1);o||(o=Xe.registerCtx({},r)),o.add(i,this.init$[e])}}else this.localCtx.add(e,this.init$[e]);for(let e in this.cssInit$)this.bindCssData(e,this.cssInit$[e]);this.__dataCtxInitialized=!0}connectedCallback(){var n;if(this.isConnected){if(this.__disconnectTimeout&&window.clearTimeout(this.__disconnectTimeout),!this.connectedOnce){let e=(n=this.getAttribute(_e.CTX_NAME_ATTR))==null?void 0:n.trim();if(e&&this.style.setProperty(_e.CSS_CTX_PROP,`'${e}'`),this.__initDataCtx(),this[_e.SET_LATER_KEY]){for(let t in this[_e.SET_LATER_KEY])T3(this,t,this[_e.SET_LATER_KEY][t]);delete this[_e.SET_LATER_KEY]}this.initChildren=[...this.childNodes];for(let t of W$)this.addTemplateProcessor(t);if(this.pauseRender)this.__initCallback();else if(this.constructor.__rootStylesLink){let t=this.getRootNode();if(!t)return;if(t?.querySelector(`link[${_e.ROOT_STYLE_ATTR_NAME}="${this.constructor.is}"]`)){this.render();return}let i=this.constructor.__rootStylesLink.cloneNode(!0);i.setAttribute(_e.ROOT_STYLE_ATTR_NAME,this.constructor.is),i.onload=()=>{this.render()},t.nodeType===Node.DOCUMENT_NODE?t.head.appendChild(i):t.prepend(i)}else this.render()}this.connectedOnce=!0}}destroyCallback(){}disconnectedCallback(){this.connectedOnce&&(this.dropCssDataCache(),this.readyToDestroy&&(this.__disconnectTimeout&&window.clearTimeout(this.__disconnectTimeout),this.__disconnectTimeout=window.setTimeout(()=>{this.destroyCallback();for(let n of this.allSubs)n.remove(),this.allSubs.delete(n);for(let n of this.tplProcessors)this.tplProcessors.delete(n);ko?.delete(this.updateCssData),ko?.size||(gu?.disconnect(),gu=null,ko=null)},100)))}static reg(n,e=!1){n||(D3++,n=`${_e.AUTO_TAG_PRFX}-${D3}`),this.__tag=n;let t=window.customElements.get(n);if(t){!e&&t!==this&&console.warn([`Element with tag name "${n}" already registered.`,`You're trying to override it with another class "${this.name}".`,"This is most likely a mistake.","New element will not be registered."].join(`
`));return}window.customElements.define(n,e?class extends this{}:this)}static get is(){return this.__tag||this.reg(),this.__tag}static bindAttributes(n){this.observedAttributes=Object.keys(n),this.__attrDesc=n}attributeChangedCallback(n,e,t){var r;if(e===t)return;let i=(r=this.constructor.__attrDesc)==null?void 0:r[n];i?this.__dataCtxInitialized?this.$[i]=t:this.init$[i]=t:this[n]=t}getCssData(n,e=!1){if(this.__cssDataCache||(this.__cssDataCache=Object.create(null)),!Object.keys(this.__cssDataCache).includes(n)){this.__computedStyle||(this.__computedStyle=window.getComputedStyle(this));let t=this.__computedStyle.getPropertyValue(n).trim();try{this.__cssDataCache[n]=Y$(t)}catch{!e&&console.warn(`CSS Data error: ${n}`),this.__cssDataCache[n]=null}}return this.__cssDataCache[n]}__extractCssName(n){return n.split("--").map((e,t)=>t===0?"":e).join("--")}__initStyleAttrObserver(){ko||(ko=new Set),ko.add(this.updateCssData),gu||(gu=new MutationObserver(n=>{n[0].type==="attributes"&&ko.forEach(e=>{e()})}),gu.observe(document,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style"]}))}bindCssData(n,e=""){this.__boundCssProps||(this.__boundCssProps=new Set),this.__boundCssProps.add(n);let t=this.getCssData(this.__extractCssName(n),!0);t===null&&(t=e),this.add(n,t),this.__initStyleAttrObserver()}dropCssDataCache(){this.__cssDataCache=null,this.__computedStyle=null}defineAccessor(n,e,t){let r="__"+n;this[r]=this[n],Object.defineProperty(this,n,{set:i=>{this[r]=i,t?window.setTimeout(()=>{e?.(i)}):e?.(i)},get:()=>this[r]}),this[n]=this[r]}static set shadowStyles(n){let e=new Blob([n],{type:"text/css"});this.__shadowStylesUrl=URL.createObjectURL(e)}static set rootStyles(n){if(!this.__rootStylesLink){let e=new Blob([n],{type:"text/css"}),t=URL.createObjectURL(e),r=document.createElement("link");r.href=t,r.rel="stylesheet",this.__rootStylesLink=r}}},No=Fs;a_(No,"template");var s_=class{static _print(n){console.warn(n)}static setDefaultTitle(n){this.defaultTitle=n}static setRoutingMap(n){Object.assign(this.appMap,n);for(let e in this.appMap)!this.defaultRoute&&this.appMap[e].default===!0?this.defaultRoute=e:!this.errorRoute&&this.appMap[e].error===!0&&(this.errorRoute=e)}static set routingEventName(n){this.__routingEventName=n}static get routingEventName(){return this.__routingEventName||"sym-on-route"}static readAddressBar(){let n={route:null,options:{}};return window.location.search.split(this.separator).forEach(t=>{if(t.includes("?"))n.route=t.replace("?","");else if(t.includes("=")){let r=t.split("=");n.options[r[0]]=decodeURI(r[1])}else n.options[t]=!0}),n}static notify(){let n=this.readAddressBar(),e=this.appMap[n.route];if(e&&e.title&&(document.title=e.title),n.route===null&&this.defaultRoute){this.applyRoute(this.defaultRoute);return}else if(!e&&this.errorRoute){this.applyRoute(this.errorRoute);return}else if(!e&&this.defaultRoute){this.applyRoute(this.defaultRoute);return}else if(!e){this._print(`Route "${n.route}" not found...`);return}let t=new CustomEvent(s_.routingEventName,{detail:{route:n.route,options:Object.assign(e||{},n.options)}});window.dispatchEvent(t)}static reflect(n,e={}){let t=this.appMap[n];if(!t){this._print("Wrong route: "+n);return}let r="?"+n;for(let o in e)e[o]===!0?r+=this.separator+o:r+=this.separator+o+`=${e[o]}`;let i=t.title||this.defaultTitle||"";window.history.pushState(null,i,r),document.title=i}static applyRoute(n,e={}){this.reflect(n,e),this.notify()}static setSeparator(n){this._separator=n}static get separator(){return this._separator||"&"}static createRouterData(n,e){this.setRoutingMap(e);let t=Xe.registerCtx({route:null,options:null,title:null},n);return window.addEventListener(this.routingEventName,r=>{var i;t.multiPub({route:r.detail.route,options:r.detail.options,title:((i=r.detail.options)==null?void 0:i.title)||this.defaultTitle||""})}),s_.notify(),this.initPopstateListener(),t}static initPopstateListener(){this.__onPopstate||(this.__onPopstate=()=>{this.notify()},window.addEventListener("popstate",this.__onPopstate))}static removePopstateListener(){window.removeEventListener("popstate",this.__onPopstate),this.__onPopstate=null}};s_.appMap=Object.create(null);function Gf(n,e){for(let t in e)t.includes("-")?n.style.setProperty(t,e[t]):n.style[t]=e[t]}function J$(n,e){for(let t in e)e[t].constructor===Boolean?e[t]?n.setAttribute(t,""):n.removeAttribute(t):n.setAttribute(t,e[t])}function c_(n={tag:"div"}){let e=document.createElement(n.tag);if(n.attributes&&J$(e,n.attributes),n.styles&&Gf(e,n.styles),n.properties)for(let t in n.properties)e[t]=n.properties[t];return n.processors&&n.processors.forEach(t=>{t(e)}),n.children&&n.children.forEach(t=>{let r=c_(t);e.appendChild(r)}),e}var M3="idb-store-ready",X$="symbiote-db",eH="symbiote-idb-update_",tH=class{_notifyWhenReady(n=null){window.dispatchEvent(new CustomEvent(M3,{detail:{dbName:this.name,storeName:this.storeName,event:n}}))}get _updEventName(){return eH+this.name}_getUpdateEvent(n){return new CustomEvent(this._updEventName,{detail:{key:this.name,newValue:n}})}_notifySubscribers(n){window.localStorage.removeItem(this.name),window.localStorage.setItem(this.name,n),window.dispatchEvent(this._getUpdateEvent(n))}constructor(n,e){this.name=n,this.storeName=e,this.version=1,this.request=window.indexedDB.open(this.name,this.version),this.request.onupgradeneeded=t=>{this.db=t.target.result,this.objStore=this.db.createObjectStore(e,{keyPath:"_key"}),this.objStore.transaction.oncomplete=r=>{this._notifyWhenReady(r)}},this.request.onsuccess=t=>{this.db=t.target.result,this._notifyWhenReady(t)},this.request.onerror=t=>{console.error(t)},this._subscriptionsMap={},this._updateHandler=t=>{t.key===this.name&&this._subscriptionsMap[t.newValue]&&this._subscriptionsMap[t.newValue].forEach(i=>h(this,null,function*(){i(yield this.read(t.newValue))}))},this._localUpdateHandler=t=>{this._updateHandler(t.detail)},window.addEventListener("storage",this._updateHandler),window.addEventListener(this._updEventName,this._localUpdateHandler)}read(n){let t=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).get(n);return new Promise((r,i)=>{t.onsuccess=o=>{var s;(s=o.target.result)!=null&&s._value?r(o.target.result._value):(r(null),console.warn(`IDB: cannot read "${n}"`))},t.onerror=o=>{i(o)}})}write(n,e,t=!1){let r={_key:n,_value:e},o=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).put(r);return new Promise((s,a)=>{o.onsuccess=c=>{t||this._notifySubscribers(n),s(c.target.result)},o.onerror=c=>{a(c)}})}delete(n,e=!1){let r=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).delete(n);return new Promise((i,o)=>{r.onsuccess=s=>{e||this._notifySubscribers(n),i(s)},r.onerror=s=>{o(s)}})}getAll(){let e=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).getAll();return new Promise((t,r)=>{e.onsuccess=i=>{let o=i.target.result;t(o.map(s=>s._value))},e.onerror=i=>{r(i)}})}subscribe(n,e){this._subscriptionsMap[n]||(this._subscriptionsMap[n]=new Set);let t=this._subscriptionsMap[n];return t.add(e),{remove:()=>{t.delete(e),t.size||delete this._subscriptionsMap[n]}}}stop(){window.removeEventListener("storage",this._updateHandler),this._subscriptionsMap=null,k3.clear(this.name)}},k3=class{static get readyEventName(){return M3}static open(n=X$,e="store"){let t=n+"/"+e;return this._reg[t]||(this._reg[t]=new tH(n,e)),this._reg[t]}static clear(n){window.indexedDB.deleteDatabase(n);for(let e in this._reg)e.split("/")[0]===n&&delete this._reg[e]}};a_(k3,"_reg",Object.create(null));var N3=n=>{if(typeof n!="string"||!n)return"";let e=n.trim();return e.startsWith("-/")?e=e.slice(2):e.startsWith("/")&&(e=e.slice(1)),e.endsWith("/")&&(e=e.slice(0,e.length-1)),e},w0=(...n)=>n.filter(e=>typeof e=="string"&&e).map(e=>N3(e)).join("/-/"),Rn=(...n)=>{let e=w0(...n);return e?`-/${e}/`:""};function _0(n){let e=new URL(n),t=e.pathname+e.search+e.hash,r=t.lastIndexOf("http"),i=t.lastIndexOf("/"),o="";return r>=0?o=t.slice(r):i>=0&&(o=t.slice(i+1)),o}function C0(n){let e=new URL(n),{pathname:t}=e,r=t.indexOf("/"),i=t.indexOf("/",r+1);return t.substring(r+1,i)}function l_(n){let e=R3(n),t=new URL(e),r=t.pathname.indexOf("/-/");return r===-1?"":t.pathname.substring(r).slice(1)}function O3(n){return l_(n).split("/-/").filter(Boolean).map(t=>N3(t))}function R3(n){let e=new URL(n),t=_0(n),r=P3(t)?F3(t).pathname:t;return e.pathname=e.pathname.replace(r,""),e.search="",e.hash="",e.toString()}function P3(n){return n.startsWith("http")}function F3(n){let e=new URL(n);return{pathname:e.origin+e.pathname||"",search:e.search||"",hash:e.hash||""}}var Xt=(n,e,t)=>{let r=new URL(R3(n));if(t=t||_0(n),r.pathname.startsWith("//")&&(r.pathname=r.pathname.replace("//","/")),P3(t)){let i=F3(t);r.pathname=r.pathname+(e||"")+(i.pathname||""),r.search=i.search,r.hash=i.hash}else r.pathname=r.pathname+(e||"")+(t||"");return r.toString()},Ls=(n,e)=>{let t=new URL(n);return t.pathname=e+"/",t.toString()};var mn=(n,e=",")=>n.trim().split(e).map(t=>t.trim()).filter(t=>t.length>0);var cr=Object.freeze({brightness:0,exposure:0,gamma:100,contrast:0,saturation:0,vibrance:0,warmth:0,enhance:0,filter:0,rotate:0,mirror:!1,flip:!1,crop:void 0}),B3=["enhance","brightness","exposure","gamma","contrast","saturation","vibrance","warmth","filter","mirror","flip","rotate","crop"];function nH(n,e){if(typeof e=="number"){let t=e;return cr[n]!==t?`${n}/${t}`:""}if(typeof e=="boolean"){let t=e;return cr[n]!==t?`${n}`:""}if(n==="filter"&&e){let{name:t,amount:r}=e;return cr.filter===r?"":`${n}/${t}/${r}`}if(n==="crop"&&e){let{dimensions:t,coords:r}=e;return`${n}/${t.join("x")}/${r.join(",")}`}return""}function Bs(n){return w0(...B3.filter(e=>typeof n[e]<"u"&&n[e]!==null).map(e=>{let t=n[e];return nH(e,t)}).filter(e=>!!e))}var E0=w0("format/auto","progressive/yes"),Oo=([n])=>typeof n<"u"?Number(n):void 0,L3=()=>!0,rH=([n,e])=>({name:n,amount:typeof e<"u"?Number(e):100}),iH=([n,e])=>{if(!/\d+x\d+/.test(n)||!/\d+,\d+/.test(e))throw new Error("Crop by aspect ratio, percentage or alignment shortcuts is not supported.");return{dimensions:mn(n,"x").map(Number),coords:mn(e).map(Number)}},oH=Object.freeze({enhance:Oo,brightness:Oo,exposure:Oo,gamma:Oo,contrast:Oo,saturation:Oo,vibrance:Oo,warmth:Oo,filter:rH,mirror:L3,flip:L3,rotate:Oo,crop:iH});function U3(n){let e={};for(let t of n){let[r,...i]=t.split("/");if(!B3.includes(r))continue;let o=r,s=oH[o];try{let a=s(i);e[o]=a}catch(a){console.warn([`Failed to parse URL operation "${t}". It will be ignored.`,a instanceof Error?`Error message: "${a.message}"`:a,"If you need this functionality, please feel free to open an issue at https://github.com/uploadcare/blocks/issues/new"].join(`
`))}}return e}var wt=Object.freeze({CROP:"crop",TUNING:"tuning",FILTERS:"filters"}),Yn=[wt.CROP,wt.TUNING,wt.FILTERS],V3=["brightness","exposure","gamma","contrast","saturation","vibrance","warmth","enhance"],j3=["adaris","briaril","calarel","carris","cynarel","cyren","elmet","elonni","enzana","erydark","fenralan","ferand","galen","gavin","gethriel","iorill","iothari","iselva","jadis","lavra","misiara","namala","nerion","nethari","pamaya","sarnar","sedis","sewen","sorahel","sorlen","tarian","thellassan","varriel","varven","vevera","virkas","yedis","yllara","zatvel","zevcen"],$3=["rotate","mirror","flip"],Ui=Object.freeze({brightness:{zero:cr.brightness,range:[-100,100],keypointsNumber:2},exposure:{zero:cr.exposure,range:[-500,500],keypointsNumber:2},gamma:{zero:cr.gamma,range:[0,1e3],keypointsNumber:2},contrast:{zero:cr.contrast,range:[-100,500],keypointsNumber:2},saturation:{zero:cr.saturation,range:[-100,500],keypointsNumber:1},vibrance:{zero:cr.vibrance,range:[-100,500],keypointsNumber:1},warmth:{zero:cr.warmth,range:[-100,100],keypointsNumber:1},enhance:{zero:cr.enhance,range:[0,100],keypointsNumber:1},filter:{zero:cr.filter,range:[0,100],keypointsNumber:1}});var Jn=n=>n?n.split(",").map(e=>e.trim()).filter(Boolean):[],Ro=n=>n?n.join(","):"";var sH="https://ucarecdn.com",aH="https://upload.uploadcare.com",cH="https://social.uploadcare.com",hi={pubkey:"",multiple:!0,multipleMin:0,multipleMax:Number.MAX_SAFE_INTEGER,confirmUpload:!1,imgOnly:!1,accept:"",externalSourcesPreferredTypes:"",externalSourcesEmbedCss:"",store:"auto",cameraMirror:!1,cameraCapture:"",sourceList:"local, url, camera, dropbox, gdrive",cloudImageEditorTabs:Ro(Yn),maxLocalFileSizeBytes:0,thumbSize:76,showEmptyList:!1,useLocalImageEditor:!1,useCloudImageEditor:!0,removeCopyright:!1,cropPreset:"",imageShrink:"",modalScrollLock:!0,modalBackdropStrokes:!1,sourceListWrap:!0,remoteTabSessionKey:"",cdnCname:sH,baseUrl:aH,socialBaseUrl:cH,secureSignature:"",secureExpire:"",secureDeliveryProxy:"",retryThrottledRequestMaxTimes:10,multipartMinFileSize:26214400,multipartChunkSize:5242880,maxConcurrentRequests:10,multipartMaxConcurrentRequests:4,multipartMaxAttempts:3,checkForUrlDuplicates:!1,saveUrlForRecurrentUploads:!1,groupOutput:!1,userAgentIntegration:"",debug:!1,metadata:null,localeName:"en",localeDefinitionOverride:null,secureUploadsExpireThreshold:10*60*1e3,secureUploadsSignatureResolver:null,secureDeliveryProxyUrlResolver:null,iconHrefResolver:null,fileValidators:[],collectionValidators:[],cameraModes:"photo, video",defaultCameraMode:null,enableAudioRecording:!0,enableVideoRecording:null,maxVideoRecordingDuration:null,mediaRecorderOptions:null,filesViewMode:"list",gridShowFileNames:!1,cloudImageEditorAutoOpen:!1,cloudImageEditorMaskHref:null};var et=Object.freeze({FILE_ADDED:"file-added",FILE_REMOVED:"file-removed",FILE_UPLOAD_START:"file-upload-start",FILE_UPLOAD_PROGRESS:"file-upload-progress",FILE_UPLOAD_SUCCESS:"file-upload-success",FILE_UPLOAD_FAILED:"file-upload-failed",FILE_URL_CHANGED:"file-url-changed",MODAL_OPEN:"modal-open",MODAL_CLOSE:"modal-close",DONE_CLICK:"done-click",UPLOAD_CLICK:"upload-click",ACTIVITY_CHANGE:"activity-change",COMMON_UPLOAD_START:"common-upload-start",COMMON_UPLOAD_PROGRESS:"common-upload-progress",COMMON_UPLOAD_SUCCESS:"common-upload-success",COMMON_UPLOAD_FAILED:"common-upload-failed",CHANGE:"change",GROUP_CREATED:"group-created"}),A0=class{_timeoutStore=new Map;_targets=new Set;_debugPrint=null;constructor(e){this._debugPrint=e}bindTarget(e){this._targets.add(e)}unbindTarget(e){this._targets.delete(e)}_dispatch(e,t){for(let r of this._targets)r.dispatchEvent(new CustomEvent(e,{detail:t}));this._debugPrint?.(()=>{let r=t&&typeof t=="object"?x({},t):t;return[`event "${e}"`,r]})}emit(e,t,{debounce:r}={}){if(typeof r!="number"&&!r){this._dispatch(e,typeof t=="function"?t():t);return}this._timeoutStore.has(e)&&window.clearTimeout(this._timeoutStore.get(e));let i=typeof r=="number"?r:20,o=window.setTimeout(()=>{this._dispatch(e,typeof t=="function"?t():t),this._timeoutStore.delete(e)},i);this._timeoutStore.set(e,o)}};function gt(n,e){let t,r=(...i)=>{clearTimeout(t),t=setTimeout(()=>n(...i),e)};return r.cancel=()=>{clearTimeout(t)},r}var H3="--uploadcare-blocks-window-height",Wf=class{static clientsRegistry=new Set;static flush=gt(()=>{document.documentElement.style.setProperty(H3,`${window.innerHeight}px`)},100);static registerClient(e){this.clientsRegistry.size===0&&this.attachTracker(),this.clientsRegistry.add(e)}static unregisterClient(e){this.clientsRegistry.delete(e),this.clientsRegistry.size===0&&this.detachTracker()}static attachTracker(){window.addEventListener("resize",this.flush,{passive:!0,capture:!0}),this.flush()}static detachTracker(){window.removeEventListener("resize",this.flush,{capture:!0}),document.documentElement.style.removeProperty(H3)}};var z3=n=>{let e=new Intl.Locale(n),t="ltr";return typeof e.getTextInfo=="function"&&e.getTextInfo().direction?t=e.getTextInfo().direction:"textInfo"in e&&e.textInfo?.direction&&(t=e.textInfo.direction),t};var I0=(n,e)=>new Intl.PluralRules(n).select(e);var lH=n=>n,u_="{{",W3="}}",G3="plural:";function qf(n,e,t={}){let{openToken:r=u_,closeToken:i=W3,transform:o=lH}=t;for(let s in e){let a=e[s]?.toString();n=n.replaceAll(r+s+i,typeof a=="string"?o(a):a)}return n}function q3(n){let e=[],t=n.indexOf(u_);for(;t!==-1;){let r=n.indexOf(W3,t),i=n.substring(t+2,r);if(i.startsWith(G3)){let o=n.substring(t+2,r).replace(G3,""),s=o.substring(0,o.indexOf("(")),a=o.substring(o.indexOf("(")+1,o.indexOf(")"));e.push({variable:i,pluralKey:s,countVariable:a})}t=n.indexOf(u_,r)}return e}var K3=({element:n,attribute:e,onSuccess:t,onTimeout:r,timeout:i=300})=>{let o=n.getAttribute(e);if(o!==null){t(o);return}let s=new MutationObserver(l=>{let u=l[l.length-1];c(u)});s.observe(n,{attributes:!0,attributeFilter:[e]});let a=setTimeout(()=>{s.disconnect(),r()},i),c=l=>{let u=n.getAttribute(e);l.type==="attributes"&&l.attributeName===e&&u!==null&&(clearTimeout(a),s.disconnect(),t(u))}};function Q3(n){return Object.prototype.toString.call(n)==="[object Object]"}var uH=/\W|_/g;function dH(n){return n.split(uH).map((e,t)=>e.charAt(0)[t>0?"toUpperCase":"toLowerCase"]()+e.slice(1)).join("")}function Z3(n,{ignoreKeys:e}={ignoreKeys:[]}){return Array.isArray(n)?n.map(t=>Lo(t,{ignoreKeys:e})):n}function Lo(n,{ignoreKeys:e}={ignoreKeys:[]}){if(Array.isArray(n))return Z3(n,{ignoreKeys:e});if(!Q3(n))return n;let t={};for(let r of Object.keys(n)){let i=n[r];if(e.includes(r)){t[r]=i;continue}Q3(i)?i=Lo(i,{ignoreKeys:e}):Array.isArray(i)&&(i=Z3(i,{ignoreKeys:e})),t[dH(r)]=i}return t}var fH=n=>new Promise(e=>setTimeout(e,n));function g_({libraryName:n,libraryVersion:e,userAgent:t,publicKey:r="",integration:i=""}){let o="JavaScript";if(typeof t=="string")return t;if(typeof t=="function")return t({publicKey:r,libraryName:n,libraryVersion:e,languageName:o,integration:i});let s=[n,e,r].filter(Boolean).join("/"),a=[o,i].filter(Boolean).join("; ");return`${s} (${a})`}var hH={factor:2,time:100};function pH(n,e=hH){let t=0;function r(i){let o=Math.round(e.time*e.factor**t);return i({attempt:t,retry:a=>fH(a??o).then(()=>(t+=1,r(i)))})}return r(n)}var mc=class extends Error{},yu=class n extends mc{originalProgressEvent;constructor(e){super(),this.name="NetworkError",this.message="Network error",Object.setPrototypeOf(this,n.prototype),this.originalProgressEvent=e}},S0=(n,e)=>{n&&(n.aborted?Promise.resolve().then(e):n.addEventListener("abort",()=>e(),{once:!0}))},Us=class n extends mc{isCancel=!0;constructor(e="Request canceled"){super(e),this.name="CancelError",Object.setPrototypeOf(this,n.prototype)}},mH=500,J3=({check:n,interval:e=mH,timeout:t,signal:r})=>new Promise((i,o)=>{let s,a;S0(r,()=>{s&&clearTimeout(s),o(new Us("Poll cancelled"))}),t&&(a=setTimeout(()=>{s&&clearTimeout(s),o(new Us("Timed out"))},t));let c=()=>{try{Promise.resolve(n(r)).then(l=>{l?(a&&clearTimeout(a),i(l)):s=setTimeout(c,e)}).catch(l=>{a&&clearTimeout(a),o(l)})}catch(l){a&&clearTimeout(a),o(l)}};s=setTimeout(c,0)}),Fe={baseCDN:"https://ucarecdn.com",baseURL:"https://upload.uploadcare.com",maxContentLength:50*1024*1024,retryThrottledRequestMaxTimes:1,retryNetworkErrorMaxTimes:3,multipartMinFileSize:25*1024*1024,multipartChunkSize:5*1024*1024,multipartMinLastPartSize:1024*1024,maxConcurrentRequests:4,pollingTimeoutMilliseconds:1e4,pusherKey:"79ae88bd931ea68464d9"},T0="application/octet-stream",X3="original",Vs=({method:n,url:e,data:t,headers:r={},signal:i,onProgress:o})=>new Promise((s,a)=>{let c=new XMLHttpRequest,l=n?.toUpperCase()||"GET",u=!1;c.open(l,e,!0),r&&Object.entries(r).forEach(d=>{let[f,p]=d;typeof p<"u"&&!Array.isArray(p)&&c.setRequestHeader(f,p)}),c.responseType="text",S0(i,()=>{u=!0,c.abort(),a(new Us)}),c.onload=()=>{if(c.status!=200)a(new Error(`Error ${c.status}: ${c.statusText}`));else{let d={method:l,url:e,data:t,headers:r||void 0,signal:i,onProgress:o},f=c.getAllResponseHeaders().trim().split(/[\r\n]+/),p={};f.forEach(function(w){let _=w.split(": "),D=_.shift(),T=_.join(": ");D&&typeof D<"u"&&(p[D]=T)});let m=c.response,b=c.status;s({request:d,data:m,headers:p,status:b})}},c.onerror=d=>{u||a(new yu(d))},o&&typeof o=="function"&&(c.upload.onprogress=d=>{d.lengthComputable?o({isComputable:!0,value:d.loaded/d.total}):o({isComputable:!1})}),t?c.send(t):c.send()});function gH(n,...e){return n}var bH=({name:n})=>n?[n]:[],yH=gH,vH=()=>new FormData,e5=n=>!1,M0=n=>typeof Blob<"u"&&n instanceof Blob,k0=n=>typeof File<"u"&&n instanceof File,N0=n=>!!n&&typeof n=="object"&&!Array.isArray(n)&&"uri"in n&&typeof n.uri=="string",vu=n=>M0(n)||k0(n)||e5()||N0(n),xH=n=>typeof n=="string"||typeof n=="number"||typeof n>"u",wH=n=>!!n&&typeof n=="object"&&!Array.isArray(n),_H=n=>!!n&&typeof n=="object"&&"data"in n&&vu(n.data);function t5(n,e,t){if(Array.isArray(t))for(let r of t)t5(n,`${e}[]`,r);else if(_H(t)){let{name:r,contentType:i}=t,o=yH(t.data,r,i??T0),s=bH({name:r,contentType:i});n.push([e,o,...s])}else if(wH(t))for(let[r,i]of Object.entries(t))typeof i<"u"&&n.push([`${e}[${r}]`,String(i)]);else xH(t)&&t&&n.push([e,t.toString()])}function CH(n){let e=[];for(let[t,r]of Object.entries(n))t5(e,t,r);return e}function O0(n){let e=vH(),t=CH(n);for(let r of t){let[i,o,...s]=r;e.append(i,o,...s)}return e}var Pn=class n extends mc{code;request;response;headers;constructor(e,t,r,i,o){super(),this.name="UploadError",this.message=e,this.code=t,this.request=r,this.response=i,this.headers=o,Object.setPrototypeOf(this,n.prototype)}},EH=n=>{let e=new URLSearchParams;for(let[t,r]of Object.entries(n))r&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).filter(i=>i[1]??!1).forEach(i=>e.set(`${t}[${i[0]}]`,String(i[1]))):Array.isArray(r)?r.forEach(i=>{e.append(`${t}[]`,i)}):typeof r=="string"&&r?e.set(t,r):typeof r=="number"&&e.set(t,r.toString());return e.toString()},Po=(n,e,t)=>{let r=new URL(n);return r.pathname=(r.pathname+e).replace("//","/"),t&&(r.search=EH(t)),r.toString()},AH="6.14.3",IH="UploadcareUploadClient",DH=AH;function gc(n){return g_(x({libraryName:IH,libraryVersion:DH},n))}var SH="RequestThrottledError",Y3=15e3,TH=1e3;function MH(n){let{headers:e}=n||{};if(!e||typeof e["retry-after"]!="string")return Y3;let t=parseInt(e["retry-after"],10);return Number.isFinite(t)?t*1e3:Y3}function js(n,e){let{retryThrottledRequestMaxTimes:t,retryNetworkErrorMaxTimes:r}=e;return pH(({attempt:i,retry:o})=>n().catch(s=>{if("response"in s&&s?.code===SH&&i<t)return o(MH(s));if(s instanceof yu&&i<r)return o((i+1)*TH);throw s}))}var n5=n=>{let e="";return(M0(n)||k0(n)||N0(n))&&(e=n.type),e||T0},r5=n=>{let e="";return k0(n)&&n.name?e=n.name:M0(n)||e5()?e="":N0(n)&&n.name&&(e=n.name),e||X3};function b_(n){return typeof n>"u"||n==="auto"?"auto":n?"1":"0"}function kH(n,{publicKey:e,fileName:t,contentType:r,baseURL:i=Fe.baseURL,secureSignature:o,secureExpire:s,store:a,signal:c,onProgress:l,source:u="local",integration:d,userAgent:f,retryThrottledRequestMaxTimes:p=Fe.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:m=Fe.retryNetworkErrorMaxTimes,metadata:b}){return js(()=>Vs({method:"POST",url:Po(i,"/base/",{jsonerrors:1}),headers:{"X-UC-User-Agent":gc({publicKey:e,integration:d,userAgent:f})},data:O0({file:{data:n,name:t||r5(n),contentType:r||n5(n)},UPLOADCARE_PUB_KEY:e,UPLOADCARE_STORE:b_(a),signature:o,expire:s,source:u,metadata:b}),signal:c,onProgress:l}).then(({data:w,headers:_,request:D})=>{let T=Lo(JSON.parse(w));if("error"in T)throw new Pn(T.error.content,T.error.errorCode,D,T,_);return T}),{retryNetworkErrorMaxTimes:m,retryThrottledRequestMaxTimes:p})}var i5=function(n){return n.Token="token",n.FileInfo="file_info",n}(i5||{});function NH(n,{publicKey:e,baseURL:t=Fe.baseURL,store:r,fileName:i,checkForUrlDuplicates:o,saveUrlForRecurrentUploads:s,secureSignature:a,secureExpire:c,source:l="url",signal:u,integration:d,userAgent:f,retryThrottledRequestMaxTimes:p=Fe.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:m=Fe.retryNetworkErrorMaxTimes,metadata:b}){return js(()=>Vs({method:"POST",headers:{"X-UC-User-Agent":gc({publicKey:e,integration:d,userAgent:f})},url:Po(t,"/from_url/",{jsonerrors:1,pub_key:e,source_url:n,store:b_(r),filename:i,check_URL_duplicates:o?1:void 0,save_URL_duplicates:s?1:void 0,signature:a,expire:c,source:l,metadata:b}),signal:u}).then(({data:w,headers:_,request:D})=>{let T=Lo(JSON.parse(w));if("error"in T)throw new Pn(T.error.content,T.error.errorCode,D,T,_);return T}),{retryNetworkErrorMaxTimes:m,retryThrottledRequestMaxTimes:p})}var lr=function(n){return n.Unknown="unknown",n.Waiting="waiting",n.Progress="progress",n.Error="error",n.Success="success",n}(lr||{}),OH=n=>"status"in n&&n.status===lr.Error;function RH(n,{publicKey:e,baseURL:t=Fe.baseURL,signal:r,integration:i,userAgent:o,retryThrottledRequestMaxTimes:s=Fe.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:a=Fe.retryNetworkErrorMaxTimes}={}){return js(()=>Vs({method:"GET",headers:e?{"X-UC-User-Agent":gc({publicKey:e,integration:i,userAgent:o})}:void 0,url:Po(t,"/from_url/status/",{jsonerrors:1,token:n}),signal:r}).then(({data:c,headers:l,request:u})=>{let d=Lo(JSON.parse(c));if("error"in d&&!OH(d))throw new Pn(d.error.content,d.error.errorCode,u,d,l);return d}),{retryNetworkErrorMaxTimes:a,retryThrottledRequestMaxTimes:s})}function PH(n,{publicKey:e,baseURL:t=Fe.baseURL,jsonpCallback:r,secureSignature:i,secureExpire:o,signal:s,source:a,integration:c,userAgent:l,retryThrottledRequestMaxTimes:u=Fe.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:d=Fe.retryNetworkErrorMaxTimes}){return js(()=>Vs({method:"POST",headers:{"X-UC-User-Agent":gc({publicKey:e,integration:c,userAgent:l})},url:Po(t,"/group/",{jsonerrors:1}),data:O0({files:n,callback:r,pub_key:e,signature:i,expire:o,source:a}),signal:s}).then(({data:f,headers:p,request:m})=>{let b=Lo(JSON.parse(f));if("error"in b)throw new Pn(b.error.content,b.error.errorCode,m,b,p);return b}),{retryNetworkErrorMaxTimes:d,retryThrottledRequestMaxTimes:u})}function o5(n,{publicKey:e,baseURL:t=Fe.baseURL,signal:r,source:i,integration:o,userAgent:s,retryThrottledRequestMaxTimes:a=Fe.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:c=Fe.retryNetworkErrorMaxTimes}){return js(()=>Vs({method:"GET",headers:{"X-UC-User-Agent":gc({publicKey:e,integration:o,userAgent:s})},url:Po(t,"/info/",{jsonerrors:1,pub_key:e,file_id:n,source:i}),signal:r}).then(({data:l,headers:u,request:d})=>{let f=Lo(JSON.parse(l));if("error"in f)throw new Pn(f.error.content,f.error.errorCode,d,f,u);return f}),{retryThrottledRequestMaxTimes:a,retryNetworkErrorMaxTimes:c})}function FH(n,{publicKey:e,contentType:t,fileName:r,multipartChunkSize:i=Fe.multipartChunkSize,baseURL:o="",secureSignature:s,secureExpire:a,store:c,signal:l,source:u="local",integration:d,userAgent:f,retryThrottledRequestMaxTimes:p=Fe.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:m=Fe.retryNetworkErrorMaxTimes,metadata:b}){return js(()=>Vs({method:"POST",url:Po(o,"/multipart/start/",{jsonerrors:1}),headers:{"X-UC-User-Agent":gc({publicKey:e,integration:d,userAgent:f})},data:O0({filename:r||X3,size:n,content_type:t||T0,part_size:i,UPLOADCARE_STORE:b_(c),UPLOADCARE_PUB_KEY:e,signature:s,expire:a,source:u,metadata:b}),signal:l}).then(({data:w,headers:_,request:D})=>{let T=Lo(JSON.parse(w));if("error"in T)throw new Pn(T.error.content,T.error.errorCode,D,T,_);return T.parts=Object.keys(T.parts).map(W=>T.parts[Number(W)]),T}),{retryThrottledRequestMaxTimes:p,retryNetworkErrorMaxTimes:m})}function LH(n,e,{contentType:t,signal:r,onProgress:i,retryThrottledRequestMaxTimes:o=Fe.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:s=Fe.retryNetworkErrorMaxTimes}){return js(()=>Vs({method:"PUT",url:e,data:n,onProgress:i,signal:r,headers:{"Content-Type":t||T0}}).then(a=>(i&&i({isComputable:!0,value:1}),a)).then(({status:a})=>({code:a})),{retryThrottledRequestMaxTimes:o,retryNetworkErrorMaxTimes:s})}function BH(n,{publicKey:e,baseURL:t=Fe.baseURL,source:r="local",signal:i,integration:o,userAgent:s,retryThrottledRequestMaxTimes:a=Fe.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:c=Fe.retryNetworkErrorMaxTimes}){return js(()=>Vs({method:"POST",url:Po(t,"/multipart/complete/",{jsonerrors:1}),headers:{"X-UC-User-Agent":gc({publicKey:e,integration:o,userAgent:s})},data:O0({uuid:n,UPLOADCARE_PUB_KEY:e,source:r}),signal:i}).then(({data:l,headers:u,request:d})=>{let f=Lo(JSON.parse(l));if("error"in f)throw new Pn(f.error.content,f.error.errorCode,d,f,u);return f}),{retryThrottledRequestMaxTimes:a,retryNetworkErrorMaxTimes:c})}function y_(n,{publicKey:e,baseURL:t,source:r,integration:i,userAgent:o,retryThrottledRequestMaxTimes:s,retryNetworkErrorMaxTimes:a,signal:c,onProgress:l}){return J3({check:u=>o5(n,{publicKey:e,baseURL:t,signal:u,source:r,integration:i,userAgent:o,retryThrottledRequestMaxTimes:s,retryNetworkErrorMaxTimes:a}).then(d=>d.isReady?d:(l&&l({isComputable:!0,value:1}),!1)),signal:c})}function UH(n){return"defaultEffects"in n}var Fo=class{uuid;name;size;isStored;isImage;mimeType;cdnUrl;s3Url;originalFilename;imageInfo;videoInfo;contentInfo;metadata;s3Bucket;defaultEffects=null;constructor(e,{baseCDN:t=Fe.baseCDN,fileName:r}={}){let{uuid:i,s3Bucket:o}=e,s=Po(t,`${i}/`),a=o?Po(`https://${o}.s3.amazonaws.com/`,`${i}/${e.filename}`):null;this.uuid=i,this.name=r||e.filename,this.size=e.size,this.isStored=e.isStored,this.isImage=e.isImage,this.mimeType=e.mimeType,this.cdnUrl=s,this.originalFilename=e.originalFilename,this.imageInfo=e.imageInfo,this.videoInfo=e.videoInfo,this.contentInfo=e.contentInfo,this.metadata=e.metadata||null,this.s3Bucket=o||null,this.s3Url=a,UH(e)&&(this.defaultEffects=e.defaultEffects)}},VH=(n,{publicKey:e,fileName:t,baseURL:r,secureSignature:i,secureExpire:o,store:s,contentType:a,signal:c,onProgress:l,source:u,integration:d,userAgent:f,retryThrottledRequestMaxTimes:p,retryNetworkErrorMaxTimes:m,baseCDN:b,metadata:w})=>kH(n,{publicKey:e,fileName:t,contentType:a,baseURL:r,secureSignature:i,secureExpire:o,store:s,signal:c,onProgress:l,source:u,integration:d,userAgent:f,retryThrottledRequestMaxTimes:p,retryNetworkErrorMaxTimes:m,metadata:w}).then(({file:_})=>y_(_,{publicKey:e,baseURL:r,source:u,integration:d,userAgent:f,retryThrottledRequestMaxTimes:p,retryNetworkErrorMaxTimes:m,onProgress:l,signal:c})).then(_=>new Fo(_,{baseCDN:b})),jH=(n,{publicKey:e,fileName:t,baseURL:r,signal:i,onProgress:o,source:s,integration:a,userAgent:c,retryThrottledRequestMaxTimes:l,retryNetworkErrorMaxTimes:u,baseCDN:d})=>o5(n,{publicKey:e,baseURL:r,signal:i,source:s,integration:a,userAgent:c,retryThrottledRequestMaxTimes:l,retryNetworkErrorMaxTimes:u}).then(f=>new Fo(f,{baseCDN:d,fileName:t})).then(f=>(o&&o({isComputable:!0,value:1}),f)),$H=(n,{signal:e}={})=>{let t=null,r=null,i=n.map(()=>new AbortController),o=s=>()=>{r=s,i.forEach((a,c)=>c!==s&&a.abort())};return S0(e,()=>{i.forEach(s=>s.abort())}),Promise.all(n.map((s,a)=>{let c=o(a);return Promise.resolve().then(()=>s({stopRace:c,signal:i[a].signal})).then(l=>(c(),l)).catch(l=>(t=l,null))})).then(s=>{if(r===null)throw t;return s[r]})},HH=window.WebSocket,h_=class{events=Object.create({});emit(e,t){this.events[e]?.forEach(r=>r(t))}on(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)}off(e,t){t?this.events[e]=this.events[e].filter(r=>r!==t):this.events[e]=[]}},zH=(n,e)=>x(n==="success"?{status:lr.Success}:n==="progress"?{status:lr.Progress}:{status:lr.Error},e),p_=class{key;disconnectTime;ws=void 0;queue=[];isConnected=!1;subscribers=0;emmitter=new h_;disconnectTimeoutId=null;constructor(e,t=3e4){this.key=e,this.disconnectTime=t}connect(){if(this.disconnectTimeoutId&&clearTimeout(this.disconnectTimeoutId),!this.isConnected&&!this.ws){let e=`wss://ws.pusherapp.com/app/${this.key}?protocol=5&client=js&version=1.12.2`;this.ws=new HH(e),this.ws.addEventListener("error",t=>{this.emmitter.emit("error",new Error(t.message))}),this.emmitter.on("connected",()=>{this.isConnected=!0,this.queue.forEach(t=>this.send(t.event,t.data)),this.queue=[]}),this.ws.addEventListener("message",t=>{let r=JSON.parse(t.data.toString());switch(r.event){case"pusher:connection_established":{this.emmitter.emit("connected",void 0);break}case"pusher:ping":{this.send("pusher:pong",{});break}case"progress":case"success":case"fail":this.emmitter.emit(r.channel,zH(r.event,JSON.parse(r.data)))}})}}disconnect(){let e=()=>{this.ws?.close(),this.ws=void 0,this.isConnected=!1};this.disconnectTime?this.disconnectTimeoutId=setTimeout(()=>{e()},this.disconnectTime):e()}send(e,t){let r=JSON.stringify({event:e,data:t});this.ws?.send(r)}subscribe(e,t){this.subscribers+=1,this.connect();let r=`task-status-${e}`,i={event:"pusher:subscribe",data:{channel:r}};this.emmitter.on(r,t),this.isConnected?this.send(i.event,i.data):this.queue.push(i)}unsubscribe(e){this.subscribers-=1;let t=`task-status-${e}`,r={event:"pusher:unsubscribe",data:{channel:t}};this.emmitter.off(t),this.isConnected?this.send(r.event,r.data):this.queue=this.queue.filter(i=>i.data.channel!==t),this.subscribers===0&&this.disconnect()}onError(e){return this.emmitter.on("error",e),()=>this.emmitter.off("error",e)}},d_=null,v_=n=>{if(!d_){let e=typeof window>"u"?0:3e4;d_=new p_(n,e)}return d_},GH=n=>{v_(n).connect()};function WH({token:n,publicKey:e,baseURL:t,integration:r,userAgent:i,retryThrottledRequestMaxTimes:o,retryNetworkErrorMaxTimes:s,onProgress:a,signal:c}){return J3({check:l=>RH(n,{publicKey:e,baseURL:t,integration:r,userAgent:i,retryThrottledRequestMaxTimes:o,retryNetworkErrorMaxTimes:s,signal:l}).then(u=>{switch(u.status){case lr.Error:return new Pn(u.error,u.errorCode);case lr.Waiting:return!1;case lr.Unknown:return new Pn(`Token "${n}" was not found.`);case lr.Progress:return a&&(u.total==="unknown"?a({isComputable:!1}):a({isComputable:!0,value:u.done/u.total})),!1;case lr.Success:return a&&a({isComputable:!0,value:u.done/u.total}),u;default:throw new Error("Unknown status")}}),signal:c})}var qH=({token:n,pusherKey:e,signal:t,onProgress:r})=>new Promise((i,o)=>{let s=v_(e),a=s.onError(o),c=()=>{a(),s.unsubscribe(n)};S0(t,()=>{c(),o(new Us("pusher cancelled"))}),s.subscribe(n,l=>{switch(l.status){case lr.Progress:{r&&(l.total==="unknown"?r({isComputable:!1}):r({isComputable:!0,value:l.done/l.total}));break}case lr.Success:{c(),r&&r({isComputable:!0,value:l.done/l.total}),i(l);break}case lr.Error:c(),o(new Pn(l.msg,l.error_code))}})}),KH=(n,{publicKey:e,fileName:t,baseURL:r,baseCDN:i,checkForUrlDuplicates:o,saveUrlForRecurrentUploads:s,secureSignature:a,secureExpire:c,store:l,signal:u,onProgress:d,source:f,integration:p,userAgent:m,retryThrottledRequestMaxTimes:b,pusherKey:w=Fe.pusherKey,metadata:_})=>Promise.resolve(GH(w)).then(()=>NH(n,{publicKey:e,fileName:t,baseURL:r,checkForUrlDuplicates:o,saveUrlForRecurrentUploads:s,secureSignature:a,secureExpire:c,store:l,signal:u,source:f,integration:p,userAgent:m,retryThrottledRequestMaxTimes:b,metadata:_})).catch(D=>(v_(w)?.disconnect(),Promise.reject(D))).then(D=>D.type===i5.FileInfo?D:$H([({signal:T})=>WH({token:D.token,publicKey:e,baseURL:r,integration:p,userAgent:m,retryThrottledRequestMaxTimes:b,onProgress:d,signal:T}),({signal:T})=>qH({token:D.token,pusherKey:w,signal:T,onProgress:d})],{signal:u})).then(D=>{if(D instanceof Pn)throw D;return D}).then(D=>y_(D.uuid,{publicKey:e,baseURL:r,integration:p,userAgent:m,retryThrottledRequestMaxTimes:b,onProgress:d,signal:u})).then(D=>new Fo(D,{baseCDN:i})),f_=new WeakMap,QH=n=>h(void 0,null,function*(){if(f_.has(n))return f_.get(n);let e=yield fetch(n.uri).then(t=>t.blob());return f_.set(n,e),e}),s5=n=>h(void 0,null,function*(){if(k0(n)||M0(n))return n.size;if(N0(n))return(yield QH(n)).size;throw new Error("Unknown file type. Cannot determine file size.")}),ZH=(n,e=Fe.multipartMinFileSize)=>n>=e,a5=n=>{let e="[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}",t=new RegExp(e);return!vu(n)&&t.test(n)},x_=n=>{let e="^(?:\\w+:)?\\/\\/([^\\s\\.]+\\.\\S{2}|localhost[\\:?\\d]*)\\S*$",t=new RegExp(e);return!vu(n)&&t.test(n)},YH=(n,e)=>new Promise((t,r)=>{let i=[],o=!1,s=e.length,a=[...e],c=()=>{let l=e.length-a.length,u=a.shift();u&&u().then(d=>{o||(i[l]=d,s-=1,s?c():t(i))}).catch(d=>{o=!0,r(d)})};for(let l=0;l<n;l++)c()}),JH=(n,e,t,r)=>{let i=r*e,o=Math.min(i+r,t);return n.slice(i,o)},XH=(n,e,t)=>h(void 0,null,function*(){return r=>JH(n,r,e,t)}),ez=(n,e,{publicKey:t,contentType:r,onProgress:i,signal:o,integration:s,retryThrottledRequestMaxTimes:a,retryNetworkErrorMaxTimes:c})=>LH(n,e,{publicKey:t,contentType:r,onProgress:i,signal:o,integration:s,retryThrottledRequestMaxTimes:a,retryNetworkErrorMaxTimes:c}),tz=(W,F)=>h(void 0,[W,F],function*(n,{publicKey:e,fileName:t,fileSize:r,baseURL:i,secureSignature:o,secureExpire:s,store:a,signal:c,onProgress:l,source:u,integration:d,userAgent:f,retryThrottledRequestMaxTimes:p,retryNetworkErrorMaxTimes:m,contentType:b,multipartChunkSize:w=Fe.multipartChunkSize,maxConcurrentRequests:_=Fe.maxConcurrentRequests,baseCDN:D,metadata:T}){let B=r??(yield s5(n)),q,U=(Y,re)=>{if(!l)return;q||(q=Array(Y).fill(0));let oe=Me=>Me.reduce((He,_t)=>He+_t,0);return Me=>{Me.isComputable&&(q[re]=Me.value,l({isComputable:!0,value:oe(q)/Y}))}};return b||=n5(n),FH(B,{publicKey:e,contentType:b,fileName:t||r5(n),baseURL:i,secureSignature:o,secureExpire:s,store:a,signal:c,source:u,integration:d,userAgent:f,retryThrottledRequestMaxTimes:p,retryNetworkErrorMaxTimes:m,metadata:T,multipartChunkSize:w}).then(oe=>h(void 0,[oe],function*({uuid:Y,parts:re}){let Me=yield XH(n,B,w);return Promise.all([Y,YH(_,re.map((He,_t)=>()=>ez(Me(_t),He,{publicKey:e,contentType:b,onProgress:U(re.length,_t),signal:c,integration:d,retryThrottledRequestMaxTimes:p,retryNetworkErrorMaxTimes:m})))])})).then(([Y])=>BH(Y,{publicKey:e,baseURL:i,source:u,integration:d,userAgent:f,retryThrottledRequestMaxTimes:p,retryNetworkErrorMaxTimes:m})).then(Y=>Y.isReady?Y:y_(Y.uuid,{publicKey:e,baseURL:i,source:u,integration:d,userAgent:f,retryThrottledRequestMaxTimes:p,retryNetworkErrorMaxTimes:m,onProgress:l,signal:c})).then(Y=>new Fo(Y,{baseCDN:D}))});function w_(q,U){return h(this,arguments,function*(n,{publicKey:e,fileName:t,baseURL:r=Fe.baseURL,secureSignature:i,secureExpire:o,store:s,signal:a,onProgress:c,source:l,integration:u,userAgent:d,retryThrottledRequestMaxTimes:f,retryNetworkErrorMaxTimes:p,contentType:m,multipartMinFileSize:b,multipartChunkSize:w,maxConcurrentRequests:_,baseCDN:D=Fe.baseCDN,checkForUrlDuplicates:T,saveUrlForRecurrentUploads:W,pusherKey:F,metadata:B}){if(vu(n)){let Y=yield s5(n);return ZH(Y,b)?tz(n,{publicKey:e,contentType:m,multipartChunkSize:w,fileSize:Y,fileName:t,baseURL:r,secureSignature:i,secureExpire:o,store:s,signal:a,onProgress:c,source:l,integration:u,userAgent:d,maxConcurrentRequests:_,retryThrottledRequestMaxTimes:f,retryNetworkErrorMaxTimes:p,baseCDN:D,metadata:B}):VH(n,{publicKey:e,fileName:t,contentType:m,baseURL:r,secureSignature:i,secureExpire:o,store:s,signal:a,onProgress:c,source:l,integration:u,userAgent:d,retryThrottledRequestMaxTimes:f,retryNetworkErrorMaxTimes:p,baseCDN:D,metadata:B})}if(x_(n))return KH(n,{publicKey:e,fileName:t,baseURL:r,baseCDN:D,checkForUrlDuplicates:T,saveUrlForRecurrentUploads:W,secureSignature:i,secureExpire:o,store:s,signal:a,onProgress:c,source:l,integration:u,userAgent:d,retryThrottledRequestMaxTimes:f,retryNetworkErrorMaxTimes:p,pusherKey:F,metadata:B});if(a5(n))return jH(n,{publicKey:e,fileName:t,baseURL:r,signal:a,onProgress:c,source:l,integration:u,userAgent:d,retryThrottledRequestMaxTimes:f,retryNetworkErrorMaxTimes:p,baseCDN:D});throw new TypeError(`File uploading from "${n}" is not supported`)})}var m_=class{uuid;filesCount;totalSize;isStored;isImage;cdnUrl;files;createdAt;storedAt=null;constructor(e,{baseCDN:t=Fe.baseCDN}={}){this.uuid=e.id,this.filesCount=e.filesCount;let r=e.files.filter(Boolean);this.totalSize=Object.values(r).reduce((i,o)=>i+o.size,0),this.isStored=!!e.datetimeStored,this.isImage=!!Object.values(r).filter(i=>i.isImage).length,this.cdnUrl=e.cdnUrl,this.files=r.map(i=>new Fo(i,{baseCDN:t})),this.createdAt=e.datetimeCreated,this.storedAt=e.datetimeStored}},nz=n=>{for(let e of n)if(!vu(e))return!1;return!0},rz=n=>{for(let e of n)if(!a5(e))return!1;return!0},iz=n=>{for(let e of n)if(!x_(e))return!1;return!0};function c5(n,{publicKey:e,fileName:t,baseURL:r=Fe.baseURL,secureSignature:i,secureExpire:o,store:s,signal:a,onProgress:c,source:l,integration:u,userAgent:d,retryThrottledRequestMaxTimes:f,retryNetworkErrorMaxTimes:p,contentType:m,multipartChunkSize:b=Fe.multipartChunkSize,baseCDN:w=Fe.baseCDN,checkForUrlDuplicates:_,saveUrlForRecurrentUploads:D,jsonpCallback:T}){if(!nz(n)&&!iz(n)&&!rz(n))throw new TypeError(`Group uploading from "${n}" is not supported`);let W,F=!0,B=n.length,q=(U,Y)=>{if(!c)return;W||(W=Array(U).fill(0));let re=oe=>oe.reduce((Me,He)=>Me+He)/U;return oe=>{if(!oe.isComputable||!F){F=!1,c({isComputable:!1});return}W[Y]=oe.value,c({isComputable:!0,value:re(W)})}};return Promise.all(n.map((U,Y)=>vu(U)||x_(U)?w_(U,{publicKey:e,fileName:t,baseURL:r,secureSignature:i,secureExpire:o,store:s,signal:a,onProgress:q(B,Y),source:l,integration:u,userAgent:d,retryThrottledRequestMaxTimes:f,retryNetworkErrorMaxTimes:p,contentType:m,multipartChunkSize:b,baseCDN:w,checkForUrlDuplicates:_,saveUrlForRecurrentUploads:D}).then(re=>re.uuid):U)).then(U=>PH(U,{publicKey:e,baseURL:r,jsonpCallback:T,secureSignature:i,secureExpire:o,signal:a,source:l,integration:u,userAgent:d,retryThrottledRequestMaxTimes:f,retryNetworkErrorMaxTimes:p}).then(Y=>new m_(Y,{baseCDN:w})).then(Y=>(c&&c({isComputable:!0,value:1}),Y)))}var D0=class{_concurrency=1;_pending=[];_running=0;_resolvers=new Map;_rejectors=new Map;constructor(e){this._concurrency=e}_run(){let e=this._concurrency-this._running;for(let t=0;t<e;t++){let r=this._pending.shift();if(!r)return;let i=this._resolvers.get(r),o=this._rejectors.get(r);if(!i||!o)throw new Error("Unexpected behavior: resolver or rejector is undefined");this._running+=1,r().finally(()=>{this._resolvers.delete(r),this._rejectors.delete(r),this._running-=1,this._run()}).then(s=>i(s)).catch(s=>o(s))}}add(e){return new Promise((t,r)=>{this._resolvers.set(e,t),this._rejectors.set(e,r),this._pending.push(e),this._run()})}get pending(){return this._pending.length}get running(){return this._running}set concurrency(e){this._concurrency=e,this._run()}get concurrency(){return this._concurrency}};var __=()=>({}),C_=n=>N(x({},__()),{"*currentActivity":null,"*currentActivityParams":{},"*history":[],"*historyBack":null,"*closeModal":()=>{n.modalManager.close(n.$["*currentActivity"]),n.set$({"*currentActivity":null})}}),R0=n=>N(x({},C_(n)),{"*commonProgress":0,"*uploadList":[],"*uploadQueue":new D0(1),"*collectionErrors":[],"*collectionState":null,"*groupInfo":null,"*uploadTrigger":new Set,"*secureUploadsManager":null});var Kf={"locale-id":"en","social-source-lang":"en","upload-file":"Upload file","upload-files":"Upload files","choose-file":"Choose file","choose-files":"Choose files","drop-files-here":"Drop files here","select-file-source":"Select file source",selected:"Selected",upload:"Upload","add-more":"Add more",cancel:"Cancel","start-from-cancel":"Cancel",clear:"Clear","camera-shot":"Shot","upload-url":"Import","upload-url-placeholder":"Paste link here","edit-image":"Edit image","edit-detail":"Details",back:"Back",done:"Done",ok:"Ok","remove-from-list":"Remove",no:"No",yes:"Yes","confirm-your-action":"Confirm your action","are-you-sure":"Are you sure?","selected-count":"{{count}} of {{total}} selected","select-all":"Select all","deselect-all":"Deselect all","upload-error":"Upload error","validation-error":"Validation error","no-files":"No files selected",browse:"Browse","not-uploaded-yet":"Not uploaded yet...",file__one:"file",file__other:"files",error__one:"error",error__other:"errors","header-uploading":"Uploading {{count}} {{plural:file(count)}}","header-failed":"{{count}} {{plural:error(count)}}","header-succeed":"{{count}} {{plural:file(count)}} uploaded","header-total":"{{count}} {{plural:file(count)}} selected","src-type-local":"From device","src-type-from-url":"From link","src-type-camera":"Camera","src-type-mobile-video-camera":"Video","src-type-mobile-photo-camera":"Photo","src-type-draw":"Draw","src-type-facebook":"Facebook","src-type-dropbox":"Dropbox","src-type-gdrive":"Google Drive","src-type-gphotos":"Google Photos","src-type-flickr":"Flickr","src-type-vk":"VK","src-type-evernote":"Evernote","src-type-box":"Box","src-type-onedrive":"Onedrive","src-type-huddle":"Huddle","src-type-other":"Other","caption-from-url":"Import from link","caption-camera":"Camera","caption-draw":"Draw","caption-edit-file":"Edit file","file-no-name":"No name...","toggle-fullscreen":"Toggle fullscreen","toggle-guides":"Toggle guides",rotate:"Rotate","flip-vertical":"Flip vertical","flip-horizontal":"Flip horizontal",apply:"Apply",brightness:"Brightness",contrast:"Contrast",saturation:"Saturation",exposure:"Exposure",gamma:"Gamma",vibrance:"Vibrance",warmth:"Warmth",enhance:"Enhance",original:"Original",resize:"Resize image",crop:"Crop","select-color":"Select color",text:"Text",draw:"Draw","cancel-edit":"Cancel edit","tab-view":"Preview","tab-details":"Details","file-name":"Name","file-size":"Size","cdn-url":"CDN URL","file-size-unknown":"Unknown","camera-permissions-denied":"Camera access denied","camera-permissions-prompt":"Please allow access to the camera","camera-permissions-request":"Request access","files-count-limit-error-title":"Files count limit overflow","files-count-limit-error-too-few":"You\u2019ve chosen {{total}} {{plural:file(total)}}. At least {{min}} {{plural:file(min)}} required.","files-count-limit-error-too-many":"You\u2019ve chosen too many files. {{max}} {{plural:file(max)}} is maximum.","files-max-size-limit-error":"File is too big. Max file size is {{maxFileSize}}.","has-validation-errors":"File validation error occurred. Please, check your files before upload.","images-only-accepted":"Only image files are accepted.","file-type-not-allowed":"Uploading of these file types is not allowed.","some-files-were-not-uploaded":"Some files were not uploaded.","file-item-edit-button":"Edit","file-item-remove-button":"Remove","a11y-editor-tab-filters":"Filters","a11y-editor-tab-tuning":"Tuning","a11y-editor-tab-crop":"Crop","a11y-activity-header-button-close":"Close",flip:"Flip",mirror:"Mirror","a11y-cloud-editor-apply-filter":"Apply {{name}} filter","a11y-cloud-editor-apply-crop":"Apply {{name}} operation","a11y-cloud-editor-apply-tuning":"Apply {{name}} tuning",finished:"Finished",failed:"Failed",uploading:"Uploading",idle:"Idle","a11y-file-item-status":"File {{fileName}} in status {{status}}","waiting-for":"Waiting for {{source}}",queued:"Queued"};var P0=new Map,E_=new Map,l5=(n,e)=>{P0.has(n)&&console.log(`Locale ${n} is already defined. Overwriting...`),P0.set(n,x(x({},Kf),e))},oz=(n,e)=>{E_.set(n,e)},A_=(n,e)=>{typeof e=="function"?oz(n,e):l5(n,e)},u5=n=>h(void 0,null,function*(){if(!P0.has(n)){if(!E_.has(n))throw new Error(`Locale ${n} is not defined`);let t=yield E_.get(n)();l5(n,t)}return P0.get(n)});A_("en",Kf);var Bo=n=>`*l10n/${n}`,sz="en",F0=class{_blockInstance=null;_localeName="";_callbacks=new Set;_boundBlocks=new Map;constructor(e){this._blockInstance=e;for(let[t,r]of Object.entries(Kf))this._blockInstance.add(Bo(t),r,!1);setTimeout(()=>{e.subConfigValue("localeName",t=>h(this,null,function*(){if(!this._blockInstance||!t)return;this._localeName=t;let r=yield u5(t);if(t!==sz&&this._localeName!==t)return;let i=this._blockInstance.cfg.localeDefinitionOverride?.[t];for(let[o,s]of Object.entries(r)){let a=i?.[o];this._blockInstance.add(Bo(o),a??s,!0);for(let c of this._callbacks)c()}})),e.subConfigValue("localeDefinitionOverride",t=>{if(!t)return;let r=t[this._localeName];if(r)for(let[i,o]of Object.entries(r)){this._blockInstance?.add(Bo(i),o,!0);for(let s of this._callbacks)s()}})})}onLocaleChange(e){let t=gt(e,0);return this._callbacks.add(t),()=>{this._callbacks.delete(t)}}bindL10n(e,t,r){e.$[t]=r(),this._boundBlocks.has(e)||this._boundBlocks.set(e,new Map),this._boundBlocks.get(e)?.get(t)?.();let i=this.onLocaleChange(()=>{e.$[t]=r()});this._boundBlocks.get(e)?.set(t,i)}destroyL10nBindings(e){let t=this._boundBlocks.get(e);if(t){for(let r of t.values())r();this._boundBlocks.delete(e)}}destroy(){this._callbacks.clear()}};function d5(n,e){[...n.querySelectorAll("[l10n]")].forEach(t=>{let r=t.getAttribute("l10n");if(!r)return;let i=r.split(";");for(let o of i)o&&az(t,o,e)})}var az=(n,e,t)=>{let r="textContent",i=!1;if(e.includes(":")){let a=e.split(":");r=a[0],e=a[1],r.startsWith("@")&&(r=r.slice(1),i=!0)}let o=e;t.has(o)&&t.sub(o,a=>{if(!a)return;t.l10nProcessorSubs.has(o)||t.l10nProcessorSubs.set(o,new Set);let c=t.l10nProcessorSubs.get(o);c?.forEach(d=>{d.remove(),c.delete(d),t.allSubs.delete(d)});let l=Bo(a).replace("*","");t.nodeCtx.has(l)||t.nodeCtx.add(l,a);let u=t.nodeCtx.sub(l,()=>{n[r]=t.l10n(a)});c?.add(u),t.allSubs.add(u),n.removeAttribute("l10n")});let s=Bo(e);t.has(s)||t.add(s,""),t.sub(s,()=>{e=e,i?n.setAttribute(r,t.l10n(e)):n[r]=t.l10n(e)}),n.removeAttribute("l10n")};var Fn=n=>`*cfg/${n}`;var cz={button:["toolbar"],checkbox:["toolbar"],menuitem:["menu","menubar"],option:["listbox"],tab:["tablist"]};function Qf(n,e){e.tabIndex=0,e.focus(),n.tabIndex=-1}function I_(n){let e=n.role||n.type||n.tagName;if(!e)return null;let t=cz[e.toLowerCase()];if(!t)return null;for(let r of t){let i=n.closest(`[role=${r}]`);if(i)return i}}function D_(n,e){return e.role==="toolbar"?lz(e):e.querySelectorAll(`[role=${n.role}]`)}function lz(n){return[...n.querySelectorAll("*")].filter(t=>t.role==="button"||t.type==="button"||t.role==="checkbox"||t.type==="checkbox")}function uz(n){let e=n.getAttribute("aria-orientation");if(e==="vertical")return!1;if(e==="horizontal")return!0;let t=n.role;return t==="menubar"||t==="tablist"||t==="toolbar"}function f5(n){return e=>{let t=!1,r=n?.searchDelayMs||300,i=0,o="";function s(d){let f=I_(d.target);if(!f){a();return}let p=D_(d.target,f),m=Array.from(p).indexOf(d.target),b="ArrowDown",w="ArrowUp";if(uz(f)&&(e.document.dir==="rtl"?(b="ArrowLeft",w="ArrowRight"):(b="ArrowRight",w="ArrowLeft")),d.key===b)d.preventDefault(),Qf(d.target,p[m+1]||p[0]);else if(d.key===w)d.preventDefault(),Qf(d.target,p[m-1]||p[p.length-1]);else if(d.key==="Home")d.preventDefault(),Qf(d.target,p[0]);else if(d.key==="End")d.preventDefault(),Qf(d.target,p[p.length-1]);else if(d.key.length===1&&f.role!=="tablist"){let _=Date.now();_-i<=r?o+=d.key.toLowerCase():o=d.key.toLowerCase(),i=_;let D=Array.from(p).find(T=>T.textContent?.trim()?.toLowerCase()?.startsWith(o));D&&(d.preventDefault(),Qf(d.target,D))}}function a(){t=!1,e.removeEventListener("keydown",s)}function c(d){let f=I_(d.target);if(f){t||(t=!0,e.addEventListener("keydown",s));let p=D_(d.target,f);for(let m of p)m!==d.target&&m.setAttribute("tabindex",-1)}else t&&a()}function l(d){(!d.relatedTarget||d.relatedTarget===e.document)&&a()}function u(d){let f=I_(d.target);if(f){let p=D_(d.target,f);for(let m of p)m!==d.target&&m.setAttribute("tabindex",-1);d.target.setAttribute("tabindex",0)}}return e.addEventListener("click",u),e.addEventListener("focusin",c),e.addEventListener("focusout",l),()=>{a(),e.removeEventListener("click",u),e.removeEventListener("focusin",c),e.removeEventListener("focusout",l)}}}function h5(){return n=>{let e,t;function r(o){if(o.target.getAttribute("aria-hidden")==="true"){e=o.target,e.setAttribute("aria-hidden","false"),t=e.hidden,t&&(e.hidden=!1);let s=o.target.querySelector('a, button, select, textarea, input:not([type=radio]), [type=radio]:checked, [tabindex]:not([tabindex="-1"])');s&&(s.tabIndex=0)}}function i(o){e&&e.contains(o.target)&&(!o.relatedTarget||!e.contains(o.relatedTarget))&&(o.target.tabIndex=-1,e.setAttribute("aria-hidden","true"),t&&(e.hidden=!0),e=null)}return n.addEventListener("keyuxJump",r),n.addEventListener("focusout",i),()=>{n.removeEventListener("keyuxJump",r),n.removeEventListener("focusout",i)}}}function p5(){return n=>{let e=[];function t(c){let l=n.document.activeElement;l&&l!==n.document.body&&e.push(new WeakRef(l)),c.focus({focusVisible:!0})}function r(){let c=e.pop();if(!c){n.document.activeElement.blur();return}let l=c.deref();l&&l.isConnected?l.focus():r()}let i=0,o;function s(c){clearInterval(o);let l=c.getAttribute("aria-controls");o=setInterval(()=>{if(i++>50){clearInterval(o);return}let u=n.document.getElementById(l);if(u){let d=u.querySelector('a, button, select, textarea, input:not([type=radio]), [type=radio]:checked, [tabindex]:not([tabindex="-1"])');d&&(clearInterval(o),u.dispatchEvent(new n.CustomEvent("keyuxJump",{bubbles:!0})),t(d))}},50)}function a(c){c.target.getAttribute("aria-controls")&&c.key==="Enter"&&s(c.target),c.key==="Escape"&&r()}return n.addEventListener("keydown",a),()=>{n.removeEventListener("keydown",a)}}}function m5(n){let e,t=n.split(" "),r;function i(a){a.key==="Enter"&&(a.target.tagName==="BUTTON"||a.target.tagName==="A")&&(o(),a.target.classList.add(...t),e=a.target,r=a.target)}function o(){e&&e.classList.remove(...t),r=null}function s(a){a.clientX===0&&a.clientY===0&&r!==a.target&&(o(),a.target.classList.add(...t),e=a.target)}return a=>(a.addEventListener("click",s),a.addEventListener("keydown",i),a.addEventListener("keyup",o),()=>{a.removeEventListener("click",s),a.removeEventListener("keydown",i),a.removeEventListener("keyup",o)})}function g5(n,e){let t=e.map(r=>r(n));return()=>{t.forEach(r=>r())}}var S_=class{_listeners=new Map;_scope=[];addEventListener(e,t){let r=i=>{let o=i.target;o&&this._scope.some(s=>s===i.target||s.contains(o))&&t(i)};this._listeners.set(t,r),window.addEventListener(e,r)}removeEventListener(e,t){let r=this._listeners.get(t);r&&window.removeEventListener(e,r),this._listeners.delete(t)}get CustomEvent(){return window.CustomEvent}get document(){return window.document}get navigator(){return window.navigator}registerScope(e){this._scope.push(e)}destroy(){this._scope=[],this._listeners.forEach((e,t)=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",e),this._listeners.delete(t)})}},L0=class{_destroyKeyUX;_scopedWindow;constructor(){this._scopedWindow=new S_,this._destroyKeyUX=g5(this._scopedWindow,[f5(),m5("is-pressed"),p5(),h5()])}registerBlock(e){this._scopedWindow.registerScope(e)}destroy(){this._destroyKeyUX?.(),this._scopedWindow.destroy()}};var qt=Object.freeze({ADD:"modal:add",DELETE:"modal:delete",OPEN:"modal:open",CLOSE:"modal:close",CLOSE_ALL:"modal:closeAll",DESTROY:"modal:destroy"}),B0=class{_modals=new Map;_activeModals=new Set;_subscribers=new Map;constructor(e){this._block=e}_debugPrint(...e){this._block.debugPrint("[modal-manager]",...e)}registerModal(e,t){this._modals.set(e,t),this._notify(qt.ADD,{id:e,modal:t})}deleteModal(e){if(!this._modals.has(e))return!1;let t=this._modals.get(e);return this._modals.delete(e),this._activeModals.delete(e),this._notify(qt.DELETE,{id:e,modal:t}),!0}open(e){if(!this._modals.has(e))return this._debugPrint(`Modal with ID "${e}" not found`),!1;let t=this._modals.get(e);return this._activeModals.add(e),this._notify(qt.OPEN,{modal:t,id:e}),!0}close(e){if(!this._modals.has(e)||!this._activeModals.has(e))return this._debugPrint(`Modal with ID "${e}" not found or not active`),!1;let t=this._modals.get(e);return this._activeModals.delete(e),this._notify(qt.CLOSE,{id:e,modal:t}),!0}toggle(e){return this._modals.has(e)?this._activeModals.has(e)?this.close(e):this.open(e):(this._debugPrint(`Modal with ID "${e}" not found`),!1)}get hasActiveModals(){return this._activeModals.size>0}back(){if(this._activeModals.size===0)return this._debugPrint("No active modals to go back from"),!1;let e=Array.from(this._activeModals).pop();return this.close(e)}closeAll(){let e=this._activeModals.size;return this._activeModals.clear(),this._notify(qt.CLOSE_ALL,{}),e}subscribe(e,t){return this._subscribers.has(e)||this._subscribers.set(e,new Set),this._subscribers.get(e)?.add(t),()=>this.unsubscribe(e,t)}unsubscribe(e,t){this._subscribers.has(e)&&this._subscribers.get(e)?.delete(t)}_notify(e,t){if(this._subscribers.has(e))for(let r of this._subscribers.get(e)??new Set)try{r(t)}catch(i){this._debugPrint("Error in modal subscriber:",i)}}destroy(){this.closeAll(),this._modals.clear(),this._subscribers.clear(),this._notify(qt.DESTROY,{})}};var dz="uc-",le=(()=>{class n extends No{static StateConsumerScope=null;static styleAttrs=[];requireCtxName=!1;activityType=null;init$=__();l10n(t,r={}){if(!t)return"";let i=this.$[Bo(t)]||t,o=q3(i);for(let a of o)r[a.variable]=this.pluralize(a.pluralKey,Number(r[a.countVariable]));return qf(i,r)}pluralize(t,r){let i=this.l10n("locale-id")||"en",o=I0(i,r);return this.l10n(`${t}__${o}`)}bindL10n(t,r){this.localeManager?.bindL10n(this,t,r)}constructor(){super(),this.l10nProcessorSubs=new Map,this.addTemplateProcessor(d5)}emit(t,r,i){let o=this.has("*eventEmitter")&&this.$["*eventEmitter"];o&&o.emit(t,r,i)}hasBlockInCtx(t){for(let r of this.blocksRegistry)if(t(r))return!0;return!1}setOrAddState(t,r){this.add$({[t]:r},!0)}connectedCallback(){this.constructor.styleAttrs.forEach(r=>{this.setAttribute(r,"")}),this.hasAttribute("retpl")&&(this.constructor.template=null,this.processInnerHtml=!0),this.requireCtxName?K3({element:this,attribute:"ctx-name",onSuccess:()=>{super.connectedCallback()},onTimeout:()=>{console.error("Attribute `ctx-name` is required and it is not set.")}}):super.connectedCallback(),Wf.registerClient(this)}disconnectedCallback(){super.disconnectedCallback(),Wf.unregisterClient(this)}initCallback(){this.has("*blocksRegistry")||this.add("*blocksRegistry",new Set),this.$["*blocksRegistry"].add(this),this.has("*eventEmitter")||this.add("*eventEmitter",new A0(this.debugPrint.bind(this))),this.has("*localeManager")||this.add("*localeManager",new F0(this)),this.has("*a11y")||this.add("*a11y",new L0),this.has("*modalManager")||this.add("*modalManager",new B0(this)),this.sub(Bo("locale-id"),r=>{let i=z3(r);this.style.direction=i==="ltr"?"":i})}get modalManager(){return this.has("*modalManager")&&this.$["*modalManager"]}get localeManager(){return this.has("*localeManager")?this.$["*localeManager"]:null}get a11y(){return this.has("*a11y")?this.$["*a11y"]:null}get blocksRegistry(){return this.$["*blocksRegistry"]}destroyCallback(){super.destroyCallback();let t=this.blocksRegistry;t?.delete(this),this.localeManager?.destroyL10nBindings(this),this.l10nProcessorSubs=new Map,Xe.deleteCtx(this),t?.size===0&&setTimeout(()=>{this.destroyCtxCallback()},0)}destroyCtxCallback(){Xe.deleteCtx(this.ctxName),this.localeManager?.destroy(),this.modalManager&&this.modalManager?.destroy()}proxyUrl(t){return h(this,null,function*(){if(this.cfg.secureDeliveryProxy&&this.cfg.secureDeliveryProxyUrlResolver&&console.warn("Both secureDeliveryProxy and secureDeliveryProxyUrlResolver are set. The secureDeliveryProxyUrlResolver will be used."),this.cfg.secureDeliveryProxyUrlResolver)try{return yield this.cfg.secureDeliveryProxyUrlResolver(t,{uuid:C0(t),cdnUrlModifiers:l_(t),fileName:_0(t)})}catch(r){return console.error("Failed to resolve secure delivery proxy URL. Falling back to the default URL.",r),t}return this.cfg.secureDeliveryProxy?qf(this.cfg.secureDeliveryProxy,{previewUrl:t},{transform:r=>window.encodeURIComponent(r)}):t})}get cfg(){if(!this.__cfgProxy){let t=Object.create(null);this.__cfgProxy=new Proxy(t,{set:(r,i,o)=>{if(typeof i!="string")return!1;let s=Fn(i);return this.has(s)||this.add(s,hi[i]),this.$[s]=o,!0},get:(r,i)=>{let o=Fn(i);return this.has(o)||this.add(o,hi[i]),this.$[Fn(i)]}})}return this.__cfgProxy}subConfigValue(t,r){let i=Fn(t);this.has(i)||this.add(i,hi[t]),this.sub(i,r)}debugPrint(...t){if(!this.cfg.debug)return;let r=t;if(typeof t?.[0]=="function"){let i=t[0];r=i()}console.log(`[${this.ctxName}]`,...r)}static reg(t){if(!t){super.reg();return}t.startsWith(dz)&&super.reg(t)}}return n})();var b5="<svg width='0' height='0' style='position:absolute'><symbol viewBox='0 0 24 24' id='uc-icon-about' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M11.152 14.12v.1h1.523v-.1c.007-.409.053-.752.138-1.028.086-.277.22-.517.405-.72.188-.202.434-.397.735-.586.32-.191.593-.412.82-.66.232-.249.41-.531.533-.847.125-.32.187-.678.187-1.076 0-.579-.137-1.085-.41-1.518a2.717 2.717 0 0 0-1.14-1.018c-.49-.245-1.062-.367-1.715-.367-.597 0-1.142.114-1.636.34-.49.228-.884.564-1.182 1.008-.299.44-.46.98-.485 1.619h1.62c.024-.377.118-.684.282-.922a1.48 1.48 0 0 1 .617-.532c.25-.114.51-.17.784-.17.301 0 .575.063.82.191.248.124.447.302.597.533.149.23.223.504.223.82 0 .263-.05.502-.149.72a1.91 1.91 0 0 1-.405.574 3.48 3.48 0 0 1-.575.453 4.22 4.22 0 0 0-.847.66c-.234.242-.415.558-.543.949-.125.39-.19.916-.197 1.577Zm.053 3.03c.21.206.46.31.75.31.196 0 .374-.049.534-.144a1.1 1.1 0 0 0 .383-.384c.1-.163.15-.343.15-.538a1 1 0 0 0-.32-.746 1.019 1.019 0 0 0-.746-.314c-.291 0-.542.105-.751.314-.21.206-.314.455-.314.746 0 .295.104.547.314.756ZM24 12c0 6.627-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0s12 5.373 12 12Zm-1.5 0c0 5.799-4.701 10.5-10.5 10.5S1.5 17.799 1.5 12 6.201 1.5 12 1.5 22.5 6.201 22.5 12Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-add' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M12.75 21a.75.75 0 0 1-1.5 0v-8.25H3a.75.75 0 0 1 0-1.5h8.25V3a.75.75 0 0 1 1.5 0v8.25H21a.75.75 0 0 1 0 1.5h-8.25V21Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-arrow-down' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M11.5 23.03a.75.75 0 0 0 .999 0l9.29-8.276a.75.75 0 0 0-.998-1.12l-8.042 7.164V1.53a.75.75 0 0 0-1.5 0v19.267l-8.04-7.163a.75.75 0 0 0-.998 1.12z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-back' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M20.251 12a.75.75 0 0 1-.75.75H6.067l5.72 5.85a.75.75 0 1 1-1.072 1.05L4.136 12.92a1.292 1.292 0 0 1 0-1.842l6.579-6.728a.75.75 0 1 1 1.072 1.048l-5.72 5.851H19.5a.75.75 0 0 1 .75.75Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-badge-error' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M13.6 18.4a1.6 1.6 0 1 1-3.2 0 1.6 1.6 0 0 1 3.2 0zM12 4.5A1.5 1.5 0 0 1 13.5 6v7a1.5 1.5 0 0 1-3 0V6A1.5 1.5 0 0 1 12 4.5z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-badge-success' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='m10.5 18.204 7.6-8.183a1.5 1.5 0 0 0-2.2-2.042l-5.4 5.817-2.4-2.586a1.5 1.5 0 1 0-2.2 2.041l4.6 4.953Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-box' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M1.01 4.148a.75.75 0 0 1 .75.75v4.348a4.437 4.437 0 0 1 2.988-1.153c1.734 0 3.23.992 3.978 2.438a4.478 4.478 0 0 1 3.978-2.438c2.49 0 4.488 2.044 4.488 4.543 0 2.5-1.999 4.544-4.488 4.544a4.478 4.478 0 0 1-3.978-2.438 4.478 4.478 0 0 1-3.978 2.438C2.26 17.18.26 15.135.26 12.636V4.898a.75.75 0 0 1 .75-.75Zm.75 8.488c0 1.692 1.348 3.044 2.988 3.044s2.989-1.352 2.989-3.044c0-1.691-1.349-3.043-2.989-3.043S1.76 10.945 1.76 12.636Zm10.944-3.043c-1.64 0-2.988 1.352-2.988 3.043 0 1.692 1.348 3.044 2.988 3.044s2.988-1.352 2.988-3.044c0-1.69-1.348-3.043-2.988-3.043Zm4.328-1.23a.75.75 0 0 1 1.052.128l2.333 2.983 2.333-2.983a.75.75 0 0 1 1.181.924l-2.562 3.277 2.562 3.276a.75.75 0 1 1-1.181.924l-2.333-2.983-2.333 2.983a.75.75 0 1 1-1.181-.924l2.562-3.276-2.562-3.277a.75.75 0 0 1 .129-1.052Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-camera' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M7.65 2.55a.75.75 0 0 1 .6-.3h7.5a.75.75 0 0 1 .6.3l2.025 2.7H21a3 3 0 0 1 3 3v10.5a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V8.25a3 3 0 0 1 3-3h2.625zm.975 1.2L6.6 6.45a.75.75 0 0 1-.6.3H3a1.5 1.5 0 0 0-1.5 1.5v10.5a1.5 1.5 0 0 0 1.5 1.5h18a1.5 1.5 0 0 0 1.5-1.5V8.25a1.5 1.5 0 0 0-1.5-1.5h-3a.75.75 0 0 1-.6-.3l-2.025-2.7zm3.375 6a3.375 3.375 0 1 0 0 6.75 3.375 3.375 0 0 0 0-6.75zm-4.875 3.375a4.875 4.875 0 1 1 9.75 0 4.875 4.875 0 0 1-9.75 0z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-camera-full' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' clip-rule='evenodd' d='M2 4.667a2 2 0 0 0-2 2V16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6.667a2 2 0 0 0-2-2h-2.667l-2-2.667H6.667l-2 2.667H2Zm8 10a3.667 3.667 0 1 0 0-7.334 3.667 3.667 0 0 0 0 7.334Z' fill='currentColor'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-close' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M4.604 4.604a.75.75 0 0 1 1.06 0L12 10.939l6.335-6.335a.75.75 0 1 1 1.061 1.06L13.061 12l6.335 6.335a.75.75 0 1 1-1.06 1.061L12 13.061l-6.335 6.335a.75.75 0 0 1-1.061-1.06L10.939 12 4.604 5.665a.75.75 0 0 1 0-1.061z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-collapse' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M3.116 12a.75.75 0 0 1 .75-.75h16.268a.75.75 0 0 1 0 1.5H3.866a.75.75 0 0 1-.75-.75Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-default' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M11.501.392a.75.75 0 0 1 .998 0l6.704 5.972a.75.75 0 0 1-.998 1.12l-5.455-4.86v13.439a.75.75 0 0 1-1.5 0V2.625l-5.454 4.86a.75.75 0 1 1-.998-1.12zM.857 16.73a.75.75 0 0 1 .75.75v4.914h20.786v-4.914a.75.75 0 0 1 1.5 0v5.664a.75.75 0 0 1-.75.75H.857a.75.75 0 0 1-.75-.75v-5.664a.75.75 0 0 1 .75-.75z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-dropbox' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M6.019 1.92a.75.75 0 0 1 .806 0L12 5.219l5.176-3.297a.75.75 0 0 1 .806 0l5.577 3.553a.75.75 0 0 1 0 1.265l-4.574 2.914 4.574 2.914a.75.75 0 0 1 0 1.265l-5.577 3.554a.75.75 0 0 1-.806 0L12 14.089l-5.175 3.297a.75.75 0 0 1-.806 0L.44 13.833a.75.75 0 0 1 0-1.266l4.575-2.914L.44 6.74a.75.75 0 0 1 0-1.265zm.403 8.616L2.24 13.2l4.182 2.664 4.181-2.664zm6.975 2.664 4.182 2.664L21.76 13.2l-4.181-2.664zm2.776-3.547L12 12.311 7.828 9.653 12 6.995zm1.406-.882 4.181-2.664-4.181-2.664-4.182 2.664zm-6.976-2.664L6.422 3.443 2.24 6.107 6.422 8.77zM5.791 18.544a.75.75 0 0 1 1.035-.23l5.175 3.297 5.175-3.297a.75.75 0 1 1 .806 1.265l-5.578 3.554a.75.75 0 0 1-.806 0L6.02 19.579a.75.75 0 0 1-.23-1.035z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-edit-file' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M18.558 2.804a.78.78 0 0 0-.557.235l-.008.007-2.472 2.46 3.847 3.848 2.46-2.473.004-.003a.78.78 0 0 0 0-1.108l-.004-.003-2.712-2.728a.78.78 0 0 0-.558-.235Zm-.248 7.613-3.852-3.852-8.93 8.887-1.516 5.41 5.41-1.515 8.888-8.93Zm-.636-8.934a2.28 2.28 0 0 1 2.512.505l2.702 2.717.002.002a2.278 2.278 0 0 1 0 3.234l-.002.002-12.541 12.602a.75.75 0 0 1-.33.193l-6.884 1.928a.75.75 0 0 1-.925-.924l1.928-6.885a.75.75 0 0 1 .193-.33l12.603-12.54a2.28 2.28 0 0 1 .742-.504Z' clip-rule='evenodd'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-error' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M13 13h-2V7h2m0 10h-2v-2h2M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-evernote' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M9.804 2.27v-.048c.055-.263.313-.562.85-.562h.44c.142 0 .325.014.526.033.066.009.124.023.267.06l.13.032h.002c.319.079.515.275.644.482a1.461 1.461 0 0 1 .16.356l.004.012a.75.75 0 0 0 .603.577l1.191.207a1988.512 1988.512 0 0 0 2.332.402c.512.083 1.1.178 1.665.442.64.3 1.19.795 1.376 1.77.548 2.931.657 5.829.621 8a39.233 39.233 0 0 1-.125 2.602 17.518 17.518 0 0 1-.092.849.735.735 0 0 0-.024.112c-.378 2.705-1.269 3.796-2.04 4.27-.746.457-1.53.451-2.217.447h-.192c-.46 0-1.073-.23-1.581-.635-.518-.412-.763-.87-.763-1.217 0-.45.188-.688.355-.786.161-.095.436-.137.796.087a.75.75 0 1 0 .792-1.274c-.766-.476-1.64-.52-2.345-.108-.7.409-1.098 1.188-1.098 2.08 0 .996.634 1.84 1.329 2.392.704.56 1.638.96 2.515.96l.185.002c.667.009 1.874.025 3.007-.67 1.283-.786 2.314-2.358 2.733-5.276a4.213 4.213 0 0 0 .056-.335c.023-.184.051-.445.079-.772.055-.655.111-1.585.13-2.704.037-2.234-.074-5.239-.647-8.301v-.002c-.294-1.544-1.233-2.391-2.215-2.85-.777-.363-1.623-.496-2.129-.576a8.872 8.872 0 0 1-.25-.041l-.006-.001-1.99-.345-.761-.132a2.93 2.93 0 0 0-.182-.338A2.532 2.532 0 0 0 12.379.329l-.091-.023a3.967 3.967 0 0 0-.493-.103L11.769.2a7.846 7.846 0 0 0-.675-.04h-.44c-.733 0-1.368.284-1.795.742L2.416 7.431c-.468.428-.751 1.071-.751 1.81 0 .02 0 .041.003.062l.003.034c.017.21.038.468.096.796.107.715.275 1.47.391 1.994.029.13.055.245.075.342l.002.008c.258 1.141.641 1.94.978 2.466.168.263.323.456.444.589a2.808 2.808 0 0 0 .192.194c1.536 1.562 3.713 2.196 5.731 2.08.13-.005.35-.032.537-.073a2.627 2.627 0 0 0 .652-.24c.425-.26.75-.661.992-1.046.184-.294.342-.61.473-.915a3.8 3.8 0 0 0 .627.493 5.022 5.022 0 0 0 1.97.709l.023.002.018.003.11.016c.088.014.205.035.325.058l.056.014c.088.022.164.04.235.061a1.736 1.736 0 0 1 .145.048l.03.014c.765.34 1.302 1.09 1.302 1.871a.75.75 0 0 0 1.5 0c0-1.456-.964-2.69-2.18-3.235a3.595 3.595 0 0 0-.679-.217l-.063-.015a10.616 10.616 0 0 0-.606-.105l-.02-.003-.03-.003h-.002a3.542 3.542 0 0 1-1.331-.485c-.471-.298-.788-.692-.828-1.234a.75.75 0 0 0-1.48-.106l-.001.003-.004.017a8.23 8.23 0 0 1-.092.352 9.963 9.963 0 0 1-.298.892c-.132.34-.29.68-.47.966-.174.276-.339.454-.478.549a1.178 1.178 0 0 1-.221.072 1.949 1.949 0 0 1-.241.036h-.013l-.032.002c-1.684.1-3.423-.437-4.604-1.65a.746.746 0 0 0-.053-.05L4.84 14.6a1.348 1.348 0 0 1-.07-.073 2.99 2.99 0 0 1-.293-.392c-.242-.379-.558-1.014-.778-1.985a54.1 54.1 0 0 0-.083-.376 27.494 27.494 0 0 1-.367-1.872l-.003-.02a6.791 6.791 0 0 1-.08-.67c.004-.277.086-.475.2-.609l.067-.067a.63.63 0 0 1 .292-.145h.05c.18 0 1.095.055 2.013.115l1.207.08.534.037a.747.747 0 0 0 .052.002c.782 0 1.349-.206 1.759-.585l.005-.005c.553-.52.622-1.225.622-1.76V6.24l-.026-.565A774.97 774.97 0 0 1 9.885 4.4c-.042-.961-.081-1.939-.081-2.13ZM4.995 6.953a251.126 251.126 0 0 1 2.102.137l.508.035c.48-.004.646-.122.715-.185.07-.068.146-.209.147-.649l-.024-.548a791.69 791.69 0 0 1-.095-2.187L4.995 6.953Zm16.122 9.996Zm-5.479-5.323a.75.75 0 0 0 1.014.31 2.04 2.04 0 0 1 .304-.089 1.84 1.84 0 0 1 .544-.039c.215.023.321.06.37.085.033.016.039.026.047.04a.75.75 0 0 0 1.289-.767c-.337-.567-.906-.783-1.552-.85a3.334 3.334 0 0 0-1.002.062c-.27.056-.531.14-.705.234a.75.75 0 0 0-.31 1.014Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-expand' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='m12 8.337-8.47 8.47a.75.75 0 0 1-1.06-1.06l8.605-8.606a1.29 1.29 0 0 1 1.85 0l8.605 8.605a.75.75 0 1 1-1.06 1.06L12 8.338Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-external-source-placeholder' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M6.341 3.27a10.5 10.5 0 0 1 5.834-1.77.75.75 0 0 0 0-1.5 12 12 0 1 0 12 12 .75.75 0 0 0-1.5 0A10.5 10.5 0 1 1 6.34 3.27Zm14.145 1.48a.75.75 0 1 0-1.06-1.062L9.925 13.19V7.95a.75.75 0 1 0-1.5 0V15c0 .414.336.75.75.75h7.05a.75.75 0 0 0 0-1.5h-5.24l9.501-9.5Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-facebook' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M12 1.5C6.201 1.5 1.5 6.201 1.5 12c0 4.943 3.416 9.089 8.016 10.204v-6.108H7.383a.75.75 0 0 1-.75-.75v-3.281a.75.75 0 0 1 .75-.75h2.133V9.393c0-.958.225-2.511 1.38-3.65 1.194-1.177 3.174-1.718 6.254-1.056a.75.75 0 0 1 .592.733v2.754a.75.75 0 0 1-.75.75c-.692 0-1.203.026-1.584.082-.387.057-.578.137-.675.202-.109.073-.237.205-.237 1.029v1.078h2.39a.75.75 0 0 1 .742.866l-.516 3.281a.75.75 0 0 1-.74.634h-1.876v6.106C19.09 21.082 22.5 16.939 22.5 12c0-5.799-4.701-10.5-10.5-10.5zM0 12C0 5.373 5.373 0 12 0s12 5.373 12 12c0 5.995-4.395 10.961-10.138 11.856a.75.75 0 0 1-.866-.74v-7.77a.75.75 0 0 1 .75-.75h1.984l.28-1.781h-2.264a.75.75 0 0 1-.75-.75v-1.828c0-.829.089-1.729.9-2.274.363-.244.807-.37 1.293-.441a9.623 9.623 0 0 1 1.053-.086V6.04c-2.41-.405-3.645.132-4.293.771-.737.728-.933 1.793-.933 2.582v2.672a.75.75 0 0 1-.75.75H8.133v1.78h2.133a.75.75 0 0 1 .75.75v7.772a.75.75 0 0 1-.865.741C4.4 22.968 0 18 0 12z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-file' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M2.895 1.201c0-.473.383-.857.857-.857h8.4c.227 0 .445.09.606.251l8.4 8.4c.16.16.25.379.25.606v13.2a.857.857 0 0 1-.856.857h-16.8a.857.857 0 0 1-.857-.857zm1.714.857v19.886h15.085V10.458h-7.542a.857.857 0 0 1-.858-.857V2.058zm8.4 1.213 5.473 5.473H13.01z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-flickr' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M5.959 7.926c-2.298 0-4.14 1.834-4.14 4.073 0 2.241 1.842 4.075 4.14 4.075 2.302 0 4.145-1.834 4.145-4.075 0-2.238-1.843-4.073-4.145-4.073Zm-5.64 4.073c0-3.086 2.533-5.573 5.64-5.573 3.11 0 5.645 2.486 5.645 5.573 0 3.089-2.535 5.575-5.645 5.575-3.107 0-5.64-2.487-5.64-5.575Zm18.07-4.073c-2.301 0-4.144 1.835-4.144 4.073 0 2.24 1.843 4.075 4.145 4.075 2.299 0 4.141-1.834 4.141-4.075 0-2.239-1.842-4.073-4.141-4.073Zm-5.644 4.073c0-3.087 2.535-5.573 5.645-5.573 3.108 0 5.641 2.487 5.641 5.573 0 3.088-2.533 5.575-5.641 5.575-3.11 0-5.645-2.486-5.645-5.575Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-gdrive' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M7.736 1.818a.75.75 0 0 1 .647-.37h7.587a.75.75 0 0 1 .655.383l7.233 12.946a.75.75 0 0 1-.003.737l-3.794 6.66a.75.75 0 0 1-.651.378H4.59a.75.75 0 0 1-.651-.378l-3.794-6.66a.75.75 0 0 1 .005-.75zm.64 1.876L1.663 15.148l2.93 5.145 6.655-11.581zm3.736 6.526-2.398 4.173H14.5zm4.116 4.173h5.697L15.53 2.947H9.677zm5.685 1.5H8.852l-2.966 5.16h13.088z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-gphotos' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M12.51 0c-.702 0-1.272.57-1.272 1.273V7.35A6.381 6.381 0 0 0 0 11.489c0 .703.57 1.273 1.273 1.273H7.35A6.381 6.381 0 0 0 11.488 24c.704 0 1.274-.57 1.274-1.273V16.65A6.381 6.381 0 0 0 24 12.51c0-.703-.57-1.273-1.273-1.273H16.65A6.381 6.381 0 0 0 12.511 0Zm.252 11.232V1.53a4.857 4.857 0 0 1 0 9.702Zm-1.53.006H1.53a4.857 4.857 0 0 1 9.702 0Zm1.536 1.524a4.857 4.857 0 0 0 9.702 0h-9.702Zm-6.136 4.857c0-2.598 2.04-4.72 4.606-4.85v9.7a4.857 4.857 0 0 1-4.606-4.85Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-huddle' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M6.204 2.002c-.252.23-.357.486-.357.67V21.07c0 .15.084.505.313.812.208.28.499.477.929.477.519 0 .796-.174.956-.365.178-.212.286-.535.286-.924v-.013l.117-6.58c.004-1.725 1.419-3.883 3.867-3.883 1.33 0 2.332.581 2.987 1.364.637.762.95 1.717.95 2.526v6.47c0 .392.11.751.305.995.175.22.468.41 1.008.41.52 0 .816-.198 1.002-.437.207-.266.31-.633.31-.969V14.04c0-2.81-1.943-5.108-4.136-5.422a5.971 5.971 0 0 0-3.183.41c-.912.393-1.538.96-1.81 1.489a.75.75 0 0 1-1.417-.344v-7.5c0-.587-.47-1.031-1.242-1.031-.315 0-.638.136-.885.36ZM5.194.892A2.844 2.844 0 0 1 7.09.142c1.328 0 2.742.867 2.742 2.53v5.607a6.358 6.358 0 0 1 1.133-.629 7.47 7.47 0 0 1 3.989-.516c3.056.436 5.425 3.482 5.425 6.906v6.914c0 .602-.177 1.313-.627 1.89-.47.605-1.204 1.016-2.186 1.016-.96 0-1.698-.37-2.179-.973-.46-.575-.633-1.294-.633-1.933v-6.469c0-.456-.19-1.071-.602-1.563-.394-.471-.986-.827-1.836-.827-1.447 0-2.367 1.304-2.367 2.39v.014l-.117 6.58c-.001.64-.177 1.333-.637 1.881-.48.57-1.2.9-2.105.9-.995 0-1.7-.5-2.132-1.081-.41-.552-.61-1.217-.61-1.708V2.672c0-.707.366-1.341.847-1.78Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-info' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M11 9h2V7h-2m1 13c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-18A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2m-1 15h2v-6h-2v6Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-local' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M3 3.75a1.5 1.5 0 0 0-1.5 1.5v13.5a1.5 1.5 0 0 0 1.5 1.5h18a1.5 1.5 0 0 0 1.5-1.5V9A1.5 1.5 0 0 0 21 7.5h-9a.75.75 0 0 1-.643-.364L9.325 3.75zm-3 1.5a3 3 0 0 1 3-3h6.75a.75.75 0 0 1 .643.364L12.425 6H21a3 3 0 0 1 3 3v9.75a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-microphone' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' clip-rule='evenodd' d='M7.5 4.781a4.5 4.5 0 0 1 9 0v6.469a4.5 4.5 0 1 1-9 0V4.781Zm4.5-3a3 3 0 0 0-3 3v6.469a3 3 0 1 0 6 0V4.781a3 3 0 0 0-3-3Zm-8.156 8.11a.75.75 0 0 1 .75.75 7.406 7.406 0 1 0 14.812 0 .75.75 0 0 1 1.5 0 8.907 8.907 0 0 1-8.156 8.875v2.703h3.258a.75.75 0 1 1 0 1.5H7.992a.75.75 0 0 1 0-1.5h3.258v-2.703a8.907 8.907 0 0 1-8.156-8.875.75.75 0 0 1 .75-.75Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-microphone-mute' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' clip-rule='evenodd' d='M7.5 4.781a4.5 4.5 0 0 1 9 0V6l3.524-3.524a.75.75 0 1 1 1.061 1.06L5.036 19.585a.75.75 0 0 1-1.06-1.06l1.656-1.657a8.88 8.88 0 0 1-2.538-6.227.75.75 0 0 1 1.5 0c0 2.009.8 3.83 2.1 5.166l1.771-1.772A4.483 4.483 0 0 1 7.5 11.25V4.781Zm2.037 8.182L15 7.5V4.781a3 3 0 1 0-6 0v6.469c0 .637.198 1.227.537 1.713Zm10.62-3.072a.75.75 0 0 1 .75.75 8.907 8.907 0 0 1-8.157 8.875v2.703h3.258a.75.75 0 1 1 0 1.5H7.992a.75.75 0 0 1 0-1.5h3.258v-2.703a8.855 8.855 0 0 1-3.035-.811.75.75 0 1 1 .638-1.358 7.406 7.406 0 0 0 10.553-6.707.75.75 0 0 1 .75-.75ZM15 10.81a.75.75 0 0 1 1.5 0v.439a4.5 4.5 0 0 1-5 4.473.75.75 0 1 1 .166-1.491A3 3 0 0 0 15 11.25v-.44Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-mobile-photo-camera' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M7.65 2.55a.75.75 0 0 1 .6-.3h7.5a.75.75 0 0 1 .6.3l2.025 2.7H21a3 3 0 0 1 3 3v10.5a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V8.25a3 3 0 0 1 3-3h2.625zm.975 1.2L6.6 6.45a.75.75 0 0 1-.6.3H3a1.5 1.5 0 0 0-1.5 1.5v10.5a1.5 1.5 0 0 0 1.5 1.5h18a1.5 1.5 0 0 0 1.5-1.5V8.25a1.5 1.5 0 0 0-1.5-1.5h-3a.75.75 0 0 1-.6-.3l-2.025-2.7zm3.375 6a3.375 3.375 0 1 0 0 6.75 3.375 3.375 0 0 0 0-6.75zm-4.875 3.375a4.875 4.875 0 1 1 9.75 0 4.875 4.875 0 0 1-9.75 0z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-mobile-video-camera' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' clip-rule='evenodd' d='M0 6.75a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v1.078L22.873 5A.75.75 0 0 1 24 5.648v12.704a.75.75 0 0 1-1.123.65L18 16.207v1.043a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V6.75Zm18 7.728 4.5 2.58V6.95L18 9.562v4.916ZM16.5 6.75a1.5 1.5 0 0 0-1.5-1.5H3a1.5 1.5 0 0 0-1.5 1.5v10.5a1.5 1.5 0 0 0 1.5 1.5h12a1.5 1.5 0 0 0 1.5-1.5V6.75Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-onedrive' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M13.616 4.147a7.689 7.689 0 0 0-7.642 3.285A6.299 6.299 0 0 0 1.455 17.3c.684.894 2.473 2.658 5.17 2.658h12.141c.95 0 1.882-.256 2.697-.743.815-.486 1.514-1.247 1.964-2.083a5.26 5.26 0 0 0-3.713-7.612 7.69 7.69 0 0 0-6.098-5.373ZM3.34 17.15c.674.63 1.761 1.308 3.284 1.308h12.142a3.76 3.76 0 0 0 2.915-1.383l-7.494-4.489L3.34 17.15Zm10.875-6.25 2.47-1.038a5.239 5.239 0 0 1 1.427-.389 6.19 6.19 0 0 0-10.3-1.952 6.338 6.338 0 0 1 2.118.813l4.285 2.567Zm4.55.033c-.512 0-1.019.104-1.489.307l-.006.003-1.414.594 6.521 3.906a3.76 3.76 0 0 0-3.357-4.8l-.254-.01ZM4.097 9.617A4.799 4.799 0 0 1 6.558 8.9c.9 0 1.84.25 2.587.713l3.4 2.037-10.17 4.28a4.799 4.799 0 0 1 1.721-6.312Z'/></symbol><symbol fill='none' viewBox='0 0 10 10' id='uc-icon-pause' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' d='M1 0h2.5v10H1zM6.5 0H9v10H6.5z'/></symbol><symbol fill='none' viewBox='0 0 10 10' id='uc-icon-play' xmlns='http://www.w3.org/2000/svg'><path d='m1 0 9 5-9 5V0Z' fill='currentColor'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-remove-file' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M11.955 3.3A2.969 2.969 0 0 0 8.998 6h5.914a2.97 2.97 0 0 0-2.957-2.7zM16.416 6a4.47 4.47 0 0 0-8.922 0h-2.32a.755.755 0 0 0-.111.008H3.075a.75.75 0 1 0 0 1.5h1.35V19.35a2.85 2.85 0 0 0 2.85 2.85h9.45a2.85 2.85 0 0 0 2.85-2.85V7.508h1.35a.75.75 0 0 0 0-1.5h-1.989A.754.754 0 0 0 18.825 6zM5.925 7.508V19.35a1.35 1.35 0 0 0 1.35 1.35h9.45a1.35 1.35 0 0 0 1.35-1.35V7.508z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-select' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='m7 10 5 5 5-5H7Z'/></symbol><symbol fill='none' viewBox='0 0 20 20' id='uc-icon-square' xmlns='http://www.w3.org/2000/svg'><rect width='20' height='20' rx='4' fill='#fff'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-upload' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M11.501.392a.75.75 0 0 1 .998 0l6.704 5.972a.75.75 0 0 1-.998 1.12l-5.455-4.86v13.439a.75.75 0 0 1-1.5 0V2.625l-5.454 4.86a.75.75 0 1 1-.998-1.12zM.857 16.73a.75.75 0 0 1 .75.75v4.914h20.786v-4.914a.75.75 0 0 1 1.5 0v5.664a.75.75 0 0 1-.75.75H.857a.75.75 0 0 1-.75-.75v-5.664a.75.75 0 0 1 .75-.75z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-upload-error' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M13 13h-2V7h2m0 10h-2v-2h2M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-url' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M19.11 3.67c-1.71-1.709-4.578-1.682-6.408.148l-2.22 2.22a.75.75 0 0 1-1.062-1.06l2.222-2.221C14.018.381 17.836.276 20.17 2.61l1.22 1.22c2.335 2.334 2.23 6.153-.147 8.529l-2.22 2.22a.75.75 0 0 1-1.062-1.06l2.222-2.221c1.83-1.83 1.856-4.698.147-6.408zm-3.36 4.58a.75.75 0 0 1 0 1.06l-6.439 6.44a.75.75 0 0 1-1.06-1.06l6.439-6.44a.75.75 0 0 1 1.06 0zM6.04 9.42a.75.75 0 0 1 0 1.061l-2.222 2.222c-1.83 1.83-1.856 4.698-.147 6.407l1.22 1.22c1.71 1.71 4.578 1.683 6.408-.147l2.221-2.221a.75.75 0 1 1 1.06 1.06l-2.22 2.222c-2.377 2.376-6.195 2.481-8.53.147l-1.22-1.22c-2.334-2.334-2.228-6.153.148-8.53l2.221-2.22a.75.75 0 0 1 1.06 0z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-video-camera' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' clip-rule='evenodd' d='M0 6.75a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v1.078L22.873 5A.75.75 0 0 1 24 5.648v12.704a.75.75 0 0 1-1.123.65L18 16.207v1.043a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V6.75Zm18 7.728 4.5 2.58V6.95L18 9.562v4.916ZM16.5 6.75a1.5 1.5 0 0 0-1.5-1.5H3a1.5 1.5 0 0 0-1.5 1.5v10.5a1.5 1.5 0 0 0 1.5 1.5h12a1.5 1.5 0 0 0 1.5-1.5V6.75Z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-video-camera-full' xmlns='http://www.w3.org/2000/svg'><path d='M2 3.333a2 2 0 0 0-2 2v9.334a2 2 0 0 0 2 2h10.938a2 2 0 0 0 2-2v-2.013L20 15.646V4.354l-5.063 3.03v-2.05a2 2 0 0 0-2-2H2Z' fill='currentColor'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-vk' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M6.341 3.27a10.5 10.5 0 0 1 5.834-1.77.75.75 0 0 0 0-1.5 12 12 0 1 0 12 12 .75.75 0 0 0-1.5 0A10.5 10.5 0 1 1 6.34 3.27Zm14.145 1.48a.75.75 0 1 0-1.06-1.062L9.925 13.19V7.95a.75.75 0 1 0-1.5 0V15c0 .414.336.75.75.75h7.05a.75.75 0 0 0 0-1.5h-5.24l9.501-9.5Z'/></symbol></svg>";var $s=(()=>{class n extends le{static styleAttrs=["uc-wgt-common"];requireCtxName=!0;init$=R0(this);_template=null;initCallback(){super.initCallback(),this.a11y?.registerBlock(this)}static set template(t){this._template=b5+t+"<slot></slot>"}static get template(){return this._template}}return n})();var y5="active",Zf="___ACTIVITY_IS_ACTIVE___",V=class n extends le{historyTracked=!1;init$=C_(this);_debouncedHistoryFlush=gt(this._historyFlush.bind(this),10);_deactivate(){let e=n._activityCallbacks.get(this);this[Zf]=!1,this.removeAttribute(y5),e?.deactivateCallback?.()}_activate(){let e=n._activityCallbacks.get(this);this.$["*historyBack"]=this.historyBack.bind(this),this[Zf]=!0,this.setAttribute(y5,""),e?.activateCallback?.(),this._debouncedHistoryFlush(),this.emit(et.ACTIVITY_CHANGE,{activity:this.activityType})}initCallback(){super.initCallback(),this.activityType&&(this.hasAttribute("activity")||this.setAttribute("activity",this.activityType),this.sub("*currentActivity",e=>{try{this.activityType!==e&&this[Zf]?this._deactivate():this.activityType===e&&!this[Zf]&&this._activate()}catch(t){console.error(`Error in activity "${this.activityType}". `,t),this.$["*currentActivity"]=this.$["*history"][this.$["*history"].length-1]??null}e||(this.$["*history"]=[])}))}_historyFlush(){let e=this.$["*history"];e&&(e.length>10&&(e=e.slice(e.length-11,e.length-1)),this.historyTracked&&e[e.length-1]!==this.activityType&&e.push(this.activityType),this.$["*history"]=e)}_isActivityRegistered(){return this.activityType&&n._activityCallbacks.has(this)}static _activityCallbacks=new Map;get isActivityActive(){return this[Zf]}get couldOpenActivity(){return!0}registerActivity(e,t={}){let{onActivate:r,onDeactivate:i}=t;n._activityCallbacks.set(this,{activateCallback:r,deactivateCallback:i})}unregisterActivity(){this.isActivityActive&&this._deactivate(),n._activityCallbacks.delete(this)}destroyCallback(){super.destroyCallback(),this._isActivityRegistered()&&this.unregisterActivity();let e=this.$["*currentActivity"];!![...this.blocksRegistry].find(r=>r instanceof n&&r.activityType===e)||(this.$["*currentActivity"]=null,this.modalManager.closeAll())}get activityKey(){return this.ctxName+this.activityType}get activityParams(){return this.$["*currentActivityParams"]}get initActivity(){return this.getCssData("--cfg-init-activity")}get doneActivity(){return this.getCssData("--cfg-done-activity")}historyBack(){let e=this.$["*history"];if(e){let t=e.pop();for(;t===this.activityType;)t=e.pop();let r=!!t;t&&(r=[...this.blocksRegistry].find(o=>o.activityType===t)?.couldOpenActivity??!1),t=r?t:void 0,t&&this.modalManager.open(t),this.$["*currentActivity"]=t,this.$["*history"]=e,t||this.modalManager.closeAll()}}};V.activities=Object.freeze({START_FROM:"start-from",CAMERA:"camera",DRAW:"draw",UPLOAD_LIST:"upload-list",URL:"url",CLOUD_IMG_EDIT:"cloud-image-edit",EXTERNAL:"external"});var Yf=33.333333333333336,ve=1,T_=24,v5=6;function Hs(n,e){for(let t in e)n.setAttributeNS(null,t,e[t].toString())}function ur(n,e={}){let t=document.createElementNS("http://www.w3.org/2000/svg",n);return Hs(t,e),t}function x5(n,e,t){let{x:r,y:i,width:o,height:s}=n,a=e.includes("w")?0:1,c=e.includes("n")?0:1,l=[-1,1][a],u=[-1,1][c],d=[r+a*o+1.5*l,i+c*s+1.5*u-24*t*u],f=[r+a*o+1.5*l,i+c*s+1.5*u],p=[r+a*o-24*t*l+1.5*l,i+c*s+1.5*u];return{d:`M ${d[0]} ${d[1]} L ${f[0]} ${f[1]} L ${p[0]} ${p[1]}`,center:f}}function w5(n,e,t){let{x:r,y:i,width:o,height:s}=n,a=["n","s"].includes(e)?.5:{w:0,e:1}[e],c=["w","e"].includes(e)?.5:{n:0,s:1}[e],l=[-1,1][a],u=[-1,1][c],d,f;["n","s"].includes(e)?(d=[r+a*o-34*t/2,i+c*s+1.5*u],f=[r+a*o+34*t/2,i+c*s+1.5*u]):(d=[r+a*o+1.5*l,i+c*s-34*t/2],f=[r+a*o+1.5*l,i+c*s+34*t/2]);let p=`M ${d[0]} ${d[1]} L ${f[0]} ${f[1]}`,m=[f[0]-(f[0]-d[0])/2,f[1]-(f[1]-d[1])/2];return{d:p,center:m}}function _5(n){return n===""?"move":["e","w"].includes(n)?"ew-resize":["n","s"].includes(n)?"ns-resize":["nw","se"].includes(n)?"nwse-resize":"nesw-resize"}function C5({rect:n,delta:[e,t],imageBox:r}){return wu(N(x({},n),{x:n.x+e,y:n.y+t}),r)}function wu(n,e){let{x:t}=n,{y:r}=n;return n.x<e.x?t=e.x:n.x+n.width>e.x+e.width&&(t=e.x+e.width-n.width),n.y<e.y?r=e.y:n.y+n.height>e.y+e.height&&(r=e.y+e.height-n.height),N(x({},n),{x:t,y:r})}function fz({rect:n,delta:e,aspectRatio:t,imageBox:r}){let[,i]=e,{y:o,width:s,height:a}=n;o+=i,a-=i,t&&(s=a*t);let c=n.x+n.width/2-s/2;return o<=r.y&&(o=r.y,a=n.y+n.height-o,t&&(s=a*t,c=n.x+n.width/2-s/2)),c<=r.x&&(c=r.x,o=n.y+n.height-a),c+s>=r.x+r.width&&(c=Math.max(r.x,r.x+r.width-s),s=r.x+r.width-c,t&&(a=s/t),o=n.y+n.height-a),a<ve&&(a=ve,t&&(s=a*t,c=n.x+n.width/2-s/2),o=n.y+n.height-a),s<ve&&(s=ve,t&&(a=s/t,c=n.x+n.width/2-s/2),o=n.y+n.height-a),{x:c,y:o,width:s,height:a}}function hz({rect:n,delta:e,aspectRatio:t,imageBox:r}){let[i]=e,{x:o,width:s,height:a}=n;o+=i,s-=i,t&&(a=s/t);let c=n.y+n.height/2-a/2;return o<=r.x&&(o=r.x,s=n.x+n.width-o,t&&(a=s/t,c=n.y+n.height/2-a/2)),c<=r.y&&(c=r.y,o=n.x+n.width-s),c+a>=r.y+r.height&&(c=Math.max(r.y,r.y+r.height-a),a=r.y+r.height-c,t&&(s=a*t),o=n.x+n.width-s),a<ve&&(a=ve,t&&(s=a*t),c=n.y+n.height/2-a/2,o=n.x+n.width-s),s<ve&&(s=ve,t&&(a=s/t),c=n.y+n.height/2-a/2,o=n.x+n.width-s),{x:o,y:c,width:s,height:a}}function pz({rect:n,delta:e,aspectRatio:t,imageBox:r}){let[,i]=e,{y:o,width:s,height:a}=n;a+=i,t&&(s=a*t);let c=n.x+n.width/2-s/2;return o+a>=r.y+r.height&&(a=r.y+r.height-o,t&&(s=a*t),c=n.x+n.width/2-s/2),c<=r.x&&(c=r.x,o=n.y),c+s>=r.x+r.width&&(c=Math.max(r.x,r.x+r.width-s),s=r.x+r.width-c,t&&(a=s/t),o=n.y),a<ve&&(a=ve,t&&(s=a*t),c=n.x+n.width/2-s/2),s<ve&&(s=ve,t&&(a=s/t),c=n.x+n.width/2-s/2),{x:c,y:o,width:s,height:a}}function mz({rect:n,delta:e,aspectRatio:t,imageBox:r}){let[i]=e,{x:o,width:s,height:a}=n;s+=i,t&&(a=s/t);let c=n.y+n.height/2-a/2;return o+s>=r.x+r.width&&(s=r.x+r.width-o,t&&(a=s/t),c=n.y+n.height/2-a/2),c<=r.y&&(c=r.y,o=n.x),c+a>=r.y+r.height&&(c=Math.max(r.y,r.y+r.height-a),a=r.y+r.height-c,t&&(s=a*t),o=n.x),a<ve&&(a=ve,t&&(s=a*t),c=n.y+n.height/2-a/2),s<ve&&(s=ve,t&&(a=s/t),c=n.y+n.height/2-a/2),{x:o,y:c,width:s,height:a}}function gz({rect:n,delta:e,aspectRatio:t,imageBox:r}){let[i,o]=e,{x:s,y:a,width:c,height:l}=n;return s+i<r.x&&(i=r.x-s),a+o<r.y&&(o=r.y-a),s+=i,c-=i,a+=o,l-=o,t&&Math.abs(c/l)>t?(o=c/t-l,l+=o,a-=o,a<=r.y&&(l=l-(r.y-a),c=l*t,s=n.x+n.width-c,a=r.y)):t&&(i=l*t-c,c=c+i,s-=i,s<=r.x&&(c=c-(r.x-s),l=c/t,s=r.x,a=n.y+n.height-l)),l<ve&&(l=ve,t&&(c=l*t),s=n.x+n.width-c,a=n.y+n.height-l),c<ve&&(c=ve,t&&(l=c/t),s=n.x+n.width-c,a=n.y+n.height-l),{x:s,y:a,width:c,height:l}}function bz({rect:n,delta:e,aspectRatio:t,imageBox:r}){let[i,o]=e,{x:s,y:a,width:c,height:l}=n;return s+c+i>r.x+r.width&&(i=r.x+r.width-s-c),a+o<r.y&&(o=r.y-a),c+=i,a+=o,l-=o,t&&Math.abs(c/l)>t?(o=c/t-l,l+=o,a-=o,a<=r.y&&(l=l-(r.y-a),c=l*t,s=n.x,a=r.y)):t&&(i=l*t-c,c+=i,s+c>=r.x+r.width&&(c=r.x+r.width-s,l=c/t,s=r.x+r.width-c,a=n.y+n.height-l)),l<ve&&(l=ve,t&&(c=l*t),a=n.y+n.height-l),c<ve&&(c=ve,t&&(l=c/t),a=n.y+n.height-l),{x:s,y:a,width:c,height:l}}function yz({rect:n,delta:e,aspectRatio:t,imageBox:r}){let[i,o]=e,{x:s,y:a,width:c,height:l}=n;return s+i<r.x&&(i=r.x-s),a+l+o>r.y+r.height&&(o=r.y+r.height-a-l),s+=i,c-=i,l+=o,t&&Math.abs(c/l)>t?(o=c/t-l,l+=o,a+l>=r.y+r.height&&(l=r.y+r.height-a,c=l*t,s=n.x+n.width-c,a=r.y+r.height-l)):t&&(i=l*t-c,c+=i,s-=i,s<=r.x&&(c=c-(r.x-s),l=c/t,s=r.x,a=n.y)),l<ve&&(l=ve,t&&(c=l*t),s=n.x+n.width-c),c<ve&&(c=ve,t&&(l=c/t),s=n.x+n.width-c),{x:s,y:a,width:c,height:l}}function vz({rect:n,delta:e,aspectRatio:t,imageBox:r}){let[i,o]=e,{x:s,y:a,width:c,height:l}=n;return s+c+i>r.x+r.width&&(i=r.x+r.width-s-c),a+l+o>r.y+r.height&&(o=r.y+r.height-a-l),c+=i,l+=o,t&&Math.abs(c/l)>t?(o=c/t-l,l+=o,a+l>=r.y+r.height&&(l=r.y+r.height-a,c=l*t,s=n.x,a=r.y+r.height-l)):t&&(i=l*t-c,c+=i,s+c>=r.x+r.width&&(c=r.x+r.width-s,l=c/t,s=r.x+r.width-c,a=n.y)),l<ve&&(l=ve,t&&(c=l*t)),c<ve&&(c=ve,t&&(l=c/t)),{x:s,y:a,width:c,height:l}}function E5(t){var r=t,{direction:n}=r,e=wC(r,["direction"]);switch(n){case"n":return fz(e);case"w":return hz(e);case"s":return pz(e);case"e":return mz(e);case"nw":return gz(e);case"ne":return bz(e);case"sw":return yz(e);case"se":return vz(e);default:return e.rect}}function A5(n,[e,t]){return n.x<=e&&e<=n.x+n.width&&n.y<=t&&t<=n.y+n.height}function I5(n,e){return n.x>=e.x&&n.y>=e.y&&n.x+n.width<=e.x+e.width&&n.y+n.height<=e.y+e.height}function D5(n,e){return Math.abs(n.width/n.height-e)<.1}function _u({width:n,height:e},t){let r=t/90%2!==0;return{width:r?e:n,height:r?n:e}}function S5(n,e,t){let r=n/e,i,o;r>t?(i=Math.round(e*t),o=e):(i=n,o=Math.round(n/t));let s=Math.round((n-i)/2),a=Math.round((e-o)/2);return s+i>n&&(i=n-s),a+o>e&&(o=e-a),{x:s,y:a,width:i,height:o}}function Cu(n){return{x:Math.round(n.x),y:Math.round(n.y),width:Math.round(n.width),height:Math.round(n.height)}}function zs(n,e,t){return Math.min(Math.max(n,e),t)}var V0=n=>{if(!n)return[];let[e,t]=n.split(":").map(Number);if(!Number.isFinite(e)||!Number.isFinite(t)){console.error(`Invalid crop preset: ${n}`);return}return[{type:"aspect-ratio",width:e,height:t}]};var bc="blocks",yc="1.16.2";function T5(n){return g_(N(x({},n),{libraryName:bc,libraryVersion:yc}))}var M5=n=>Math.floor(n/1e3),k5=(n,{threshold:e})=>{let{secureExpire:t}=n,r=M5(Date.now()),i=Number(t),o=M5(e);return r+o>=i};var j0=class{_block;_secureToken=null;constructor(e){this._block=e}_debugPrint(...e){this._block.debugPrint("[secure-uploads]",...e)}getSecureToken(){return h(this,null,function*(){let{secureSignature:e,secureExpire:t,secureUploadsSignatureResolver:r}=this._block.cfg;if((e||t)&&r&&console.warn("Both secureSignature/secureExpire and secureUploadsSignatureResolver are set. secureUploadsSignatureResolver will be used."),r){if(!this._secureToken||k5(this._secureToken,{threshold:this._block.cfg.secureUploadsExpireThreshold})){this._secureToken?this._debugPrint("Secure signature is expired. Resolving a new one..."):this._debugPrint("Secure signature is not set yet.");try{let i=yield r();i?!i.secureSignature||!i.secureExpire?console.error("Secure signature resolver returned an invalid result:",i):(this._debugPrint("Secure signature resolved:",i),this._debugPrint("Secure signature will expire in",new Date(Number(i.secureExpire)*1e3).toISOString()),this._secureToken=i):(this._debugPrint("Secure signature resolver returned nothing."),this._secureToken=null)}catch(i){console.error("Secure signature resolving failed. Falling back to the previous one.",i)}}return this._secureToken}return e&&t?(this._debugPrint("Secure signature and expire are set. Using them...",{secureSignature:e,secureExpire:t}),{secureSignature:e,secureExpire:t}):null})}};var N5="[Typed State] Wrong property name: ",xz="[Typed State] Wrong property type: ",$0=class{constructor(e,t){this.__typedSchema=e,this.__ctxId=t||pc.generate(),this.__schema=Object.keys(e).reduce((r,i)=>(r[i]=e[i].value,r),{}),this.__data=Xe.registerCtx(this.__schema,this.__ctxId)}get uid(){return this.__ctxId}setValue(e,t){if(!this.__typedSchema.hasOwnProperty(e)){console.warn(N5+e);return}let r=this.__typedSchema[e],i=t?.constructor===r.type,o=t instanceof r.type,s=r.nullable&&t===null;if(i||o||s){this.__data.pub(e,t);return}console.warn(xz+e)}setMultipleValues(e){for(let[t,r]of Object.entries(e))this.setValue(t,r)}getValue(e){return this.__typedSchema.hasOwnProperty(e)||console.warn(N5+e),this.__data.read(e)}subscribe(e,t){return this.__data.sub(e,t)}remove(){Xe.deleteCtx(this.__ctxId)}};var H0=class{constructor(e){this.__typedSchema=e.typedSchema,this.__ctxId=e.ctxName||pc.generate(),this.__data=Xe.registerCtx({},this.__ctxId),this.__watchList=e.watchList||[],this.__subsMap=Object.create(null),this.__propertyObservers=new Set,this.__collectionObservers=new Set,this.__items=new Set,this.__removed=new Set,this.__added=new Set;let t=Object.create(null);this.__notifyObservers=(r,i)=>{this.__observeTimeout&&window.clearTimeout(this.__observeTimeout),t[r]||(t[r]=new Set),t[r].add(i),this.__observeTimeout=window.setTimeout(()=>{Object.keys(t).length!==0&&(this.__propertyObservers.forEach(o=>{o(x({},t))}),t=Object.create(null))})}}notify(){this.__notifyTimeout&&window.clearTimeout(this.__notifyTimeout),this.__notifyTimeout=window.setTimeout(()=>{let e=new Set(this.__added),t=new Set(this.__removed);this.__added.clear(),this.__removed.clear();for(let r of this.__collectionObservers)r?.([...this.__items],e,t)})}observeCollection(e){return this.__collectionObservers.add(e),this.__items.size>0&&this.notify(),()=>{this.unobserveCollection(e)}}unobserveCollection(e){this.__collectionObservers?.delete(e)}add(e){let t=new $0(this.__typedSchema);for(let[r,i]of Object.entries(e))t.setValue(r,i);return this.__items.add(t.uid),this.notify(),this.__data.add(t.uid,t),this.__added.add(t),this.__watchList.forEach(r=>{this.__subsMap[t.uid]||(this.__subsMap[t.uid]=[]),this.__subsMap[t.uid].push(t.subscribe(r,()=>{this.__notifyObservers(r,t.uid)}))}),t.uid}read(e){return this.__data.read(e)}readProp(e,t){let r=this.read(e);return r?r.getValue(t):(console.warn(`Item with id ${e} not found`),null)}publishProp(e,t,r){let i=this.read(e);if(!i){console.warn(`Item with id ${e} not found`);return}i.setValue(t,r)}remove(e){let t=this.read(e);t&&this.__removed.add(t),this.__items.delete(e),this.notify(),this.__data.pub(e,null),delete this.__subsMap[e]}clearAll(){this.__items.forEach(e=>{this.remove(e)})}observeProperties(e){return this.__propertyObservers.add(e),()=>{this.unobserveProperties(e)}}unobserveProperties(e){this.__propertyObservers?.delete(e)}findItems(e){let t=[];return this.__items.forEach(r=>{let i=this.read(r);i&&e(i)&&t.push(r)}),t}items(){return[...this.__items]}get size(){return this.__items.size}destroy(){Xe.deleteCtx(this.__ctxId),this.__propertyObservers=new Set,this.__collectionObservers=new Set;for(let e in this.__subsMap)this.__subsMap[e].forEach(t=>{t.remove()}),delete this.__subsMap[e]}};var Te=Object.freeze({PHOTO:"photo",VIDEO:"video"}),Br=Object.freeze({IDLE:"idle",SHOT:"shot",PLAY:"play",PAUSE:"pause",RESUME:"resume",STOP:"stop",RETAKE:"retake",ACCEPT:"accept"});var M_=n=>({isVideoRecordingEnabled:Jn(n.cameraModes).includes(Te.VIDEO),isPhotoEnabled:Jn(n.cameraModes).includes(Te.PHOTO)});var vc=Object.freeze({FACEBOOK:"facebook",DROPBOX:"dropbox",GDRIVE:"gdrive",GPHOTOS:"gphotos",FLICKR:"flickr",VK:"vk",EVERNOTE:"evernote",BOX:"box",ONEDRIVE:"onedrive",HUDDLE:"huddle"}),k_=Object.freeze({MOBILE_VIDEO_CAMERA:"mobile-video-camera",MOBILE_PHOTO_CAMERA:"mobile-photo-camera"}),bt=Object.freeze(x(x({LOCAL:"local",DROP_AREA:"drop-area",CAMERA:"camera",EXTERNAL:"external",API:"js-api",URL:"url",DRAW:"draw"},k_),vc));var wz=()=>{let n=navigator.userAgent;return/Macintosh|Windows/.test(n)&&/Version\/[\d\.]+.*Safari/.test(n)&&!/Chrome|Chromium|Edg|OPR/.test(n)},_z=()=>"capture"in document.createElement("input"),Cz=()=>({safariDesktop:wz()}),Ez=()=>({htmlMediaCapture:_z()}),O5=Cz(),xc=Ez();var Jf="image/*",N_="video/*",Az=["image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/avif","image/avif-sequence",".heif",".heifs",".heic",".heics",".avif",".avifs"],Iz=()=>O5.safariDesktop?[Jf]:[Jf,...Az],Xf=Iz(),z0=n=>n?n.filter(e=>typeof e=="string").map(e=>mn(e)).flat():[],O_=(n,e)=>e.some(t=>t.endsWith("*")?(t=t.replace("*",""),n.startsWith(t)):n===t),R5=(n,e)=>e.some(t=>t.startsWith(".")?n.toLowerCase().endsWith(t.toLowerCase()):!1),P5=n=>{let e=n?.type;return e?O_(e,Xf):!1};var Dz=/[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}/i,Sz=new RegExp(`^/?(${Dz.source})(?:/(-/(?:[^/]+/)+)?([^/]*))?$`,"i"),F5=({url:n,cdnBase:e})=>{let t=new URL(e),r=new URL(n);if(t.host!==r.host)return null;let[,i,o,s]=Sz.exec(r.pathname);return{uuid:i,cdnUrlModifiers:o||"",filename:s||null}};var L5=n=>{let e=new Map;return(...t)=>{let r=JSON.stringify(t);if(e.has(r))return e.get(r);let i=n(...t);return e.set(r,i),i}};var B5=new Set;function G0(n){B5.has(n)||(B5.add(n),console.warn(n))}function Tz(n){let e=!1;return setTimeout(()=>{e=!0},0),r=>(...i)=>(e&&G0(n),r(...i))}function U5(n){let e={progress:()=>n.$["*commonProgress"],errors:()=>n.$["*collectionErrors"],group:()=>n.$["*groupInfo"],totalCount:()=>n.uploadCollection.size,failedCount:()=>t.failedEntries.length,successCount:()=>t.successEntries.length,uploadingCount:()=>t.uploadingEntries.length,status:()=>t.isFailed?"failed":t.isUploading?"uploading":t.isSuccess?"success":"idle",isSuccess:()=>t.allEntries.length>0&&t.errors.length===0&&t.successEntries.length===t.allEntries.length,isUploading:()=>t.allEntries.some(i=>i.status==="uploading"),isFailed:()=>t.errors.length>0||t.failedEntries.length>0,allEntries:()=>n.getOutputData(),successEntries:()=>t.allEntries.filter(i=>i.status==="success"),failedEntries:()=>t.allEntries.filter(i=>i.status==="failed"),uploadingEntries:()=>t.allEntries.filter(i=>i.status==="uploading"),idleEntries:()=>t.allEntries.filter(i=>i.status==="idle")},t={},r=Tz("You're trying to access the OutputCollectionState asynchronously. In this case, the data you retrieve will be newer than it was when the OutputCollectionState was created or when the event was dispatched. If you want to retain the state at a specific moment in time, you should use the spread operator like this: `{...outputCollectionState}` or `{...e.detail}`");for(let[i,o]of Object.entries(e)){let s=i,c=L5(r(o));Object.defineProperty(t,s,{get:c,enumerable:!0})}return t}var W0=class{_ctx;constructor(e){this._ctx=e}get _uploadCollection(){return this._ctx.uploadCollection}get cfg(){return this._ctx.cfg}get l10n(){return this._ctx.l10n.bind(this._ctx)}addFileFromUrl=(e,{silent:t,fileName:r,source:i}={})=>{let o=this._uploadCollection.add({externalUrl:e,fileName:r??null,silent:t??!1,source:i??bt.API});return this.getOutputItem(o)};addFileFromUuid=(e,{silent:t,fileName:r,source:i}={})=>{let o=this._uploadCollection.add({uuid:e,fileName:r??null,silent:t??!1,source:i??bt.API});return this.getOutputItem(o)};addFileFromCdnUrl=(e,{silent:t,fileName:r,source:i}={})=>{let o=F5({url:e,cdnBase:this.cfg.cdnCname});if(!o)throw new Error("Invalid CDN URL");let s=this._uploadCollection.add({uuid:o.uuid,cdnUrl:e,cdnUrlModifiers:o.cdnUrlModifiers,fileName:r??o.filename??null,silent:t??!1,source:i??bt.API});return this.getOutputItem(s)};addFileFromObject=(e,{silent:t,fileName:r,source:i,fullPath:o}={})=>{let s=this._uploadCollection.add({file:e,isImage:P5(e),mimeType:e.type,fileName:r??e.name,fileSize:e.size,silent:t??!1,source:i??bt.API,fullPath:o??null});return this.getOutputItem(s)};removeFileByInternalId=e=>{if(!this._uploadCollection.read(e))throw new Error(`File with internalId ${e} not found`);this._uploadCollection.remove(e)};removeAllFiles(){this._uploadCollection.clearAll()}uploadAll=()=>{let e=this._uploadCollection.items().filter(t=>{let r=this._uploadCollection.read(t);return r?!r.getValue("isRemoved")&&!r.getValue("isUploading")&&!r.getValue("fileInfo"):!1});e.length!==0&&(this._ctx.$["*uploadTrigger"]=new Set(e),this._ctx.emit(et.COMMON_UPLOAD_START,this.getOutputCollectionState()))};openSystemDialog=(e={})=>{let t=Ro(z0([this.cfg.accept??"",...this.cfg.imgOnly?Xf:[]])),r="uploadcare-file-input",i=document.createElement("input");if(i.setAttribute(r,""),Gf(i,{opacity:0,height:0,width:0,visibility:"hidden"}),i.type="file",i.multiple=this.cfg.multiple,e.captureCamera){i.capture=this.cfg.cameraCapture;let{isPhotoEnabled:o,isVideoRecordingEnabled:s}=M_(this.cfg);e.modeCamera===Te.PHOTO&&o?i.accept=Jf:e.modeCamera===Te.VIDEO&&s?i.accept=N_:i.accept=[Jf,s&&N_].filter(Boolean).join(",")}else i.accept=t;i.addEventListener("change",()=>{i.files&&([...i.files].forEach(o=>this.addFileFromObject(o,{source:e.captureCamera?bt.CAMERA:bt.LOCAL})),this._ctx.modalManager.open(V.activities.UPLOAD_LIST),this._ctx.$["*currentActivity"]=V.activities.UPLOAD_LIST,i.remove())},{once:!0}),document.querySelectorAll(`[${r}]`).forEach(o=>o.remove()),document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click"))};getOutputItem=e=>{let t=Xe.getCtx(e).store,r=t.fileInfo,i=t.isRemoved?"removed":t.errors.length>0?"failed":t.fileInfo?"success":t.isUploading?"uploading":"idle";return{uuid:r?.uuid??t.uuid??null,internalId:e,name:r?.originalFilename??t.fileName,size:r?.size??t.fileSize,isImage:r?.isImage??t.isImage,mimeType:r?.mimeType??t.mimeType,file:t.file,externalUrl:t.externalUrl,cdnUrlModifiers:t.cdnUrlModifiers,cdnUrl:t.cdnUrl??r?.cdnUrl??null,fullPath:t.fullPath,uploadProgress:t.uploadProgress,fileInfo:r??null,metadata:t.metadata??r?.metadata??null,isSuccess:i==="success",isUploading:i==="uploading",isFailed:i==="failed",isRemoved:i==="removed",errors:t.errors,status:i,source:t?.source}};getOutputCollectionState=()=>U5(this._ctx);initFlow=(e=!1)=>{if(this._uploadCollection.size>0&&!e)this._ctx.modalManager?.open(V.activities.UPLOAD_LIST),this._ctx.set$({"*currentActivity":V.activities.UPLOAD_LIST});else if(this._sourceList?.length===1){let t=this._sourceList[0];if(t==="local"){this._ctx.$["*currentActivity"]=V.activities.UPLOAD_LIST,this.openSystemDialog();return}if(t==="camera"&&xc.htmlMediaCapture){let{isPhotoEnabled:s,isVideoRecordingEnabled:a}=M_(this.cfg);if(s&&a){this._ctx.set$({"*currentActivity":V.activities.START_FROM});return}else if(s||a){this.openSystemDialog({captureCamera:!0,modeCamera:s?Te.PHOTO:Te.VIDEO});return}else this.openSystemDialog({captureCamera:!0,modeCamera:Te.PHOTO})}let r=this._ctx.$["*blocksRegistry"],i=s=>"type"in s&&s.type===t;[...r].find(i)?.activate(),this._ctx.$["*currentActivity"]&&this._ctx.modalManager?.open(this._ctx.$["*currentActivity"])}else this._ctx.modalManager?.open(V.activities.START_FROM),this._ctx.set$({"*currentActivity":V.activities.START_FROM})};doneFlow=()=>{this._ctx.set$({"*currentActivity":this._ctx.doneActivity,"*history":this._ctx.doneActivity?[this._ctx.doneActivity]:[]}),this._ctx.$["*currentActivity"]||this._ctx.modalManager.closeAll()};setCurrentActivity=(e,t=void 0)=>{if(this._ctx.hasBlockInCtx(r=>r.activityType===e)){this._ctx.set$({"*currentActivityParams":t??{},"*currentActivity":e});return}console.warn(`Activity type "${e}" not found in the context`)};getCurrentActivity=()=>this._ctx.$["*currentActivity"];setModalState=e=>{if(e&&!this._ctx.$["*currentActivity"]){console.warn(`Can't open modal without current activity. Please use "setCurrentActivity" method first.`);return}e?this._ctx.modalManager?.open(this._ctx.$["*currentActivity"]):(this._ctx.modalManager?.close(this._ctx.$["*currentActivity"]),this._ctx.$["*currentActivity"]=null)};get _sourceList(){let e=[];return this.cfg.sourceList&&(e=mn(this.cfg.sourceList)),e}};var R_=(n,e)=>{let t=e.cfg.imgOnly,r=n.isImage;if(!(!t||r)&&!(!n.fileInfo&&n.externalUrl)&&!(!n.fileInfo&&!n.mimeType))return{type:"NOT_AN_IMAGE",message:e.l10n("images-only-accepted"),payload:{entry:n}}};var P_=(n,e)=>{let t=e.cfg.imgOnly,r=e.cfg.accept,i=z0([...t?Xf:[],r]);if(!i.length)return;let o=n.mimeType,s=n.name;if(!o||!s)return;let a=O_(o,i),c=R5(s,i);if(!a&&!c)return{type:"FORBIDDEN_FILE_TYPE",message:e.l10n("file-type-not-allowed"),payload:{entry:n}}};var ji=1e3,wc=Object.freeze({AUTO:"auto",BYTE:"byte",KB:"kb",MB:"mb",GB:"gb",TB:"tb",PB:"pb"}),eh=n=>Math.ceil(n*100)/100,V5=(n,e=wc.AUTO)=>{let t=e===wc.AUTO;if(e===wc.BYTE||t&&n<ji**1){let r=I0("en-US",n),i={one:"byte",other:"bytes"}[r];return`${n} ${i}`}return e===wc.KB||t&&n<ji**2?`${eh(n/ji**1)} KB`:e===wc.MB||t&&n<ji**3?`${eh(n/ji**2)} MB`:e===wc.GB||t&&n<ji**4?`${eh(n/ji**3)} GB`:e===wc.TB||t&&n<ji**5?`${eh(n/ji**4)} TB`:`${eh(n/ji**5)} PB`};var F_=(n,e)=>{let t=e.cfg.maxLocalFileSizeBytes,r=n.size;if(t&&r&&r>t)return{type:"FILE_SIZE_EXCEEDED",message:e.l10n("files-max-size-limit-error",{maxFileSize:V5(t)}),payload:{entry:n}}};var L_=(n,e)=>{let{internalId:t}=n,i=e._uploadCollection.read(t)?.getValue("uploadError");if(!i)return;if(i instanceof Pn)return{type:"UPLOAD_ERROR",message:i.message,payload:{entry:n,error:i}};if(i instanceof yu)return{type:"NETWORK_ERROR",message:i.message,payload:{entry:n,error:i}};let o=i instanceof Error?i:new Error("Unknown error",{cause:i});return{type:"UNKNOWN_ERROR",message:o.message,payload:{entry:n,error:o}}};var B_=(n,e)=>{if(n.failedCount>0)return{type:"SOME_FILES_HAS_ERRORS",message:e.l10n("some-files-were-not-uploaded")}};var U_=(n,e)=>{let t=n.totalCount,r=e.cfg.multiple?e.cfg.multipleMin:0,i=e.cfg.multiple?e.cfg.multipleMax:1;if(r&&t<r)return{type:"TOO_FEW_FILES",message:e.l10n("files-count-limit-error-too-few",{min:r,max:i,total:t}),payload:{total:t,min:r,max:i}};if(i&&t>i)return{type:"TOO_MANY_FILES",message:e.l10n("files-count-limit-error-too-many",{min:r,max:i,total:t}),payload:{total:t,min:r,max:i}}};var q0={file:"File validator execution has failed",collection:"Collection validator execution has failed",message:"Missing message. We recommend adding message: value."},K0=class{_blockInstance;_fileValidators=[R_,P_,F_,L_];_collectionValidators=[U_,B_];constructor(e){this._blockInstance=e,this._uploadCollection=this._blockInstance.uploadCollection;let t=()=>{this.runFileValidators(),this.runCollectionValidators()};this._blockInstance.subConfigValue("maxLocalFileSizeBytes",t),this._blockInstance.subConfigValue("multipleMin",t),this._blockInstance.subConfigValue("multipleMax",t),this._blockInstance.subConfigValue("multiple",t),this._blockInstance.subConfigValue("imgOnly",t),this._blockInstance.subConfigValue("accept",t)}runFileValidators(e){let t=e??this._uploadCollection.items();for(let r of t){let i=this._uploadCollection.read(r);i&&this._runFileValidatorsForEntry(i)}}runCollectionValidators(){let e=this._blockInstance.api.getOutputCollectionState(),t=[];for(let r of[...this._collectionValidators,...this._addCustomTypeToValidators(this._blockInstance.cfg.collectionValidators)])try{let i=r(e,this._blockInstance.api);if(!i)continue;i&&(t.push(i),i.message||console.warn(q0.message))}catch(i){console.warn(q0.collection,i)}this._blockInstance.$["*collectionErrors"]=t,t.length>0&&this._blockInstance.emit(et.COMMON_UPLOAD_FAILED,()=>this._blockInstance.api.getOutputCollectionState(),{debounce:!0})}_runFileValidatorsForEntry(e){let t=this._blockInstance.api.getOutputItem(e.uid),r=[];for(let i of[...this._fileValidators,...this._addCustomTypeToValidators(this._blockInstance.cfg.fileValidators)])try{let o=i(t,this._blockInstance.api);if(!o)continue;o&&(r.push(o),o.message||console.warn(q0.message))}catch(o){console.warn(q0.file,o)}e.setValue("errors",r)}_addCustomTypeToValidators(e){return e.map(t=>(...r)=>{let i=t(...r);return i?N(x({},i),{type:"CUSTOM_ERROR"}):void 0})}};var j5=Object.freeze({file:Object.freeze({type:File,value:null,nullable:!0}),externalUrl:Object.freeze({type:String,value:null,nullable:!0}),fileName:Object.freeze({type:String,value:null,nullable:!0}),fileSize:Object.freeze({type:Number,value:null,nullable:!0}),lastModified:Object.freeze({type:Number,value:Date.now()}),uploadProgress:Object.freeze({type:Number,value:0}),uuid:Object.freeze({type:String,value:null,nullable:!0}),isImage:Object.freeze({type:Boolean,value:!1}),mimeType:Object.freeze({type:String,value:null,nullable:!0}),ctxName:Object.freeze({type:String,value:null,nullable:!0}),cdnUrl:Object.freeze({type:String,value:null,nullable:!0}),cdnUrlModifiers:Object.freeze({type:String,value:null,nullable:!0}),fileInfo:Object.freeze({type:Fo,value:null,nullable:!0}),isUploading:Object.freeze({type:Boolean,value:!1}),abortController:Object.freeze({type:AbortController,value:null,nullable:!0}),thumbUrl:Object.freeze({type:String,value:null,nullable:!0}),silent:Object.freeze({type:Boolean,value:!1}),source:Object.freeze({type:String,value:null,nullable:!0}),fullPath:Object.freeze({type:String,value:null,nullable:!0}),metadata:Object.freeze({type:Object,value:null,nullable:!0}),errors:Object.freeze({type:Array,value:[]}),uploadError:Object.freeze({type:Error,value:null,nullable:!0}),isRemoved:Object.freeze({type:Boolean,value:!1}),isQueued:Object.freeze({type:Boolean,value:!1})});var Je=class n extends V{couldBeCtxOwner=!1;isCtxOwner=!1;init$=R0(this);get hasCtxOwner(){return this.hasBlockInCtx(e=>e instanceof n?e.isCtxOwner&&e.isConnected&&e!==this:!1)}initCallback(){if(super.initCallback(),!this.has("*uploadCollection")){let e=new H0({typedSchema:j5,watchList:["uploadProgress","uploadError","fileInfo","errors","cdnUrl","isUploading"]});this.add("*uploadCollection",e)}this.has("*publicApi")||this.add("*publicApi",new W0(this)),this.has("*validationManager")||this.add("*validationManager",new K0(this)),!this.hasCtxOwner&&this.couldBeCtxOwner&&this.initCtxOwner()}get validationManager(){if(!this.has("*validationManager"))throw new Error("Unexpected error: ValidationManager is not initialized");return this.$["*validationManager"]}get api(){if(!this.has("*publicApi"))throw new Error("Unexpected error: UploaderPublicApi is not initialized");return this.$["*publicApi"]}getAPI(){return this.api}get uploadCollection(){if(!this.has("*uploadCollection"))throw new Error("Unexpected error: TypedCollection is not initialized");return this.$["*uploadCollection"]}destroyCtxCallback(){this._unobserveCollectionProperties?.(),this._unobserveCollection?.(),this.uploadCollection.destroy(),this.$["*uploadCollection"]=null,super.destroyCtxCallback()}initCtxOwner(){this.isCtxOwner=!0,this._unobserveCollection=this.uploadCollection.observeCollection(this._handleCollectionUpdate),this._unobserveCollectionProperties=this.uploadCollection.observeProperties(this._handleCollectionPropertiesUpdate),this.subConfigValue("maxConcurrentRequests",e=>{this.$["*uploadQueue"].concurrency=Number(e)||1}),this.$["*secureUploadsManager"]||(this.$["*secureUploadsManager"]=new j0(this))}_createGroup(e){return h(this,null,function*(){let t=yield this.getUploadClientOptions(),r=e.allEntries.map(a=>a.uuid+(a.cdnUrlModifiers?`/${a.cdnUrlModifiers}`:"")),i=new AbortController,o=yield c5(r,N(x({},t),{signal:i.signal}));if(this.$["*collectionState"]!==e){i.abort();return}this.$["*groupInfo"]=o;let s=this.api.getOutputCollectionState();this.emit(et.GROUP_CREATED,s),this.emit(et.CHANGE,()=>this.api.getOutputCollectionState(),{debounce:!0}),this.$["*collectionState"]=s})}_flushOutputItems=gt(()=>h(this,null,function*(){if(this.getOutputData().length!==this.uploadCollection.size)return;let t=this.api.getOutputCollectionState();this.$["*collectionState"]=t,this.emit(et.CHANGE,()=>this.api.getOutputCollectionState(),{debounce:!0}),this.cfg.groupOutput&&t.totalCount>0&&t.status==="success"&&this._createGroup(t)}),300);_handleCollectionUpdate=(e,t,r)=>{(t.size||r.size)&&(this.$["*groupInfo"]=null),this.validationManager.runFileValidators(),this.validationManager.runCollectionValidators();for(let i of t)i.getValue("silent")||this.emit(et.FILE_ADDED,this.api.getOutputItem(i.uid));for(let i of r){this.$["*uploadTrigger"].delete(i.uid),i.getValue("abortController")?.abort(),i.setMultipleValues({isRemoved:!0,abortController:null,isUploading:!1,uploadProgress:0});let o=i?.getValue("thumbUrl");o&&URL.revokeObjectURL(o),this.emit(et.FILE_REMOVED,this.api.getOutputItem(i.uid))}this.$["*uploadList"]=e.map(i=>({uid:i})),this._flushCommonUploadProgress(),this._flushOutputItems()};_handleCollectionPropertiesUpdate=e=>{this._flushOutputItems();let t=this.uploadCollection,r=[...new Set(Object.entries(e).filter(([i])=>["uploadError","fileInfo"].includes(i)).map(([,i])=>[...i]).flat())];if(r.length>0&&setTimeout(()=>{this.validationManager.runFileValidators(r)}),e.uploadProgress){for(let i of e.uploadProgress){let{isUploading:o,silent:s}=Xe.getCtx(i).store;o&&!s&&this.emit(et.FILE_UPLOAD_PROGRESS,this.api.getOutputItem(i))}this._flushCommonUploadProgress()}if(e.isUploading)for(let i of e.isUploading){let{isUploading:o,silent:s}=Xe.getCtx(i).store;o&&!s&&this.emit(et.FILE_UPLOAD_START,this.api.getOutputItem(i))}if(e.fileInfo){for(let i of e.fileInfo){let{fileInfo:o,silent:s}=Xe.getCtx(i).store;o&&!s&&this.emit(et.FILE_UPLOAD_SUCCESS,this.api.getOutputItem(i))}this.cfg.cropPreset&&this.setInitialCrop(),this.cfg.cloudImageEditorAutoOpen&&this.openCloudImageEditor()}if(e.errors){for(let s of e.errors){let{errors:a}=Xe.getCtx(s).store;a.length>0&&(this.emit(et.FILE_UPLOAD_FAILED,this.api.getOutputItem(s)),this.emit(et.COMMON_UPLOAD_FAILED,()=>this.api.getOutputCollectionState(),{debounce:!0}))}let i=t.findItems(s=>!!s.getValue("fileInfo")),o=t.findItems(s=>s.getValue("errors").length>0);t.size>0&&o.length===0&&t.size===i.length&&this.$["*collectionErrors"].length===0&&this.emit(et.COMMON_UPLOAD_SUCCESS,this.api.getOutputCollectionState())}e.cdnUrl&&([...e.cdnUrl].filter(o=>!!this.uploadCollection.read(o)?.getValue("cdnUrl")).forEach(o=>{this.emit(et.FILE_URL_CHANGED,this.api.getOutputItem(o))}),this.$["*groupInfo"]=null)};_flushCommonUploadProgress=()=>{let e=0,r=[...this.$["*uploadTrigger"]].filter(o=>!!this.uploadCollection.read(o));r.forEach(o=>{let s=this.uploadCollection.readProp(o,"uploadProgress");typeof s=="number"&&(e+=s)});let i=r.length?Math.round(e/r.length):0;this.$["*commonProgress"]!==i&&(this.$["*commonProgress"]=i,this.emit(et.COMMON_UPLOAD_PROGRESS,this.api.getOutputCollectionState()))};openCloudImageEditor(){let[e]=this.uploadCollection.findItems(t=>!!t.getValue("fileInfo")&&t.getValue("isImage")).map(t=>this.uploadCollection.read(t));e&&this.uploadCollection.size===1&&this.cfg.useCloudImageEditor&&this.hasBlockInCtx(t=>t.activityType===V.activities.CLOUD_IMG_EDIT)&&(this.$["*currentActivityParams"]={internalId:e.uid},this.$["*currentActivity"]=V.activities.CLOUD_IMG_EDIT,this.modalManager.open(V.activities.CLOUD_IMG_EDIT))}setInitialCrop(){let e=V0(this.cfg.cropPreset);if(e){let[t]=e,r=this.uploadCollection.findItems(i=>!!i.getValue("fileInfo")&&i.getValue("isImage")&&!i.getValue("cdnUrlModifiers")?.includes("/crop/")).map(i=>this.uploadCollection.read(i)).filter(Boolean);for(let i of r){let o=i.getValue("fileInfo");if(!o||!o.imageInfo){console.warn("Failed to get image info for entry",i.uid);continue}let{width:s,height:a}=o.imageInfo,c=t.width/t.height,l=S5(s,a,c),u=Rn(`crop/${l.width}x${l.height}/${l.x},${l.y}`,"preview"),d=i.getValue("cdnUrl");if(!d){console.warn("Failed to get cdnUrl for entry",i.uid);continue}i.setMultipleValues({cdnUrlModifiers:u,cdnUrl:Xt(d,u)}),this.uploadCollection.size===1&&this.cfg.useCloudImageEditor&&this.hasBlockInCtx(f=>f.activityType===V.activities.CLOUD_IMG_EDIT)&&(this.$["*currentActivityParams"]={internalId:i.uid},this.$["*currentActivity"]=V.activities.CLOUD_IMG_EDIT,this.modalManager.open(V.activities.CLOUD_IMG_EDIT))}}}getMetadataFor(e){return h(this,null,function*(){let t=this.cfg.metadata||void 0;if(typeof t=="function"){let r=this.api.getOutputItem(e);return yield t(r)}return t})}getUploadClientOptions(){return h(this,null,function*(){let t=yield this.$["*secureUploadsManager"].getSecureToken().catch(()=>null);return{store:this.cfg.store,publicKey:this.cfg.pubkey,baseCDN:this.cfg.cdnCname,baseURL:this.cfg.baseUrl,userAgent:T5,integration:this.cfg.userAgentIntegration,secureSignature:t?.secureSignature,secureExpire:t?.secureExpire,retryThrottledRequestMaxTimes:this.cfg.retryThrottledRequestMaxTimes,multipartMinFileSize:this.cfg.multipartMinFileSize,multipartChunkSize:this.cfg.multipartChunkSize,maxConcurrentRequests:this.cfg.multipartMaxConcurrentRequests,multipartMaxAttempts:this.cfg.multipartMaxAttempts,checkForUrlDuplicates:!!this.cfg.checkForUrlDuplicates,saveUrlForRecurrentUploads:!!this.cfg.saveUrlForRecurrentUploads}})}getOutputData(){return this.uploadCollection.items().map(r=>this.api.getOutputItem(r))}};Je.extSrcList=Object.freeze(x({},vc));Je.sourceTypes=Object.freeze(x({},bt));var Eu=n=>n.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g)?.map(e=>e.toLowerCase()).join("-");var At=n=>String(n),dr=n=>{let e=Number(n);if(Number.isNaN(e))throw new Error(`Invalid number: "${n}"`);return e},Qe=n=>{if(typeof n>"u"||n===null)return!1;if(typeof n=="boolean")return n;if(n==="true"||n==="")return!0;if(n==="false")return!1;throw new Error(`Invalid boolean: "${n}"`)},$5=n=>n==="auto"?n:Qe(n),H5=n=>{let e=At(n);if(e!=="user"&&e!=="environment"&&e!=="")throw new Error(`Invalid value: "${e}"`);return e},z5=n=>{let e=At(n);if(!Object.values(Te).includes(e))throw new Error(`Invalid value: "${e}"`);return e},G5=n=>{let e=At(n),t=Jn(e);if(t.some(r=>!Object.values(Te).includes(r)))throw new Error(`Invalid value: "${JSON.stringify(t)}"`);return e},W5=n=>{if(typeof n=="object"&&!Array.isArray(n)||typeof n=="function")return n;throw new Error("Invalid metadata value. Must be an object or function.")},V_=n=>{if(typeof n=="object")return n;throw new Error("Invalid value. Must be an object.")},Q0=n=>{if(typeof n=="function")return n;throw new Error("Invalid value. Must be a function.")},j_=n=>{if(Array.isArray(n))return n;throw new Error("Must be an array.")},q5=n=>{let e=At(n);if(["grid","list"].includes(e))return e;throw new Error(`Invalid value: "${e}"`)};var Mz={pubkey:At,multiple:Qe,multipleMin:dr,multipleMax:dr,confirmUpload:Qe,imgOnly:Qe,accept:At,externalSourcesPreferredTypes:At,externalSourcesEmbedCss:At,store:$5,cameraMirror:Qe,cameraCapture:H5,sourceList:At,maxLocalFileSizeBytes:dr,thumbSize:dr,showEmptyList:Qe,useLocalImageEditor:Qe,useCloudImageEditor:Qe,cloudImageEditorTabs:At,removeCopyright:Qe,cropPreset:At,imageShrink:At,modalScrollLock:Qe,modalBackdropStrokes:Qe,sourceListWrap:Qe,remoteTabSessionKey:At,cdnCname:At,baseUrl:At,socialBaseUrl:At,secureSignature:At,secureExpire:At,secureDeliveryProxy:At,retryThrottledRequestMaxTimes:dr,multipartMinFileSize:dr,multipartChunkSize:dr,maxConcurrentRequests:dr,multipartMaxConcurrentRequests:dr,multipartMaxAttempts:dr,checkForUrlDuplicates:Qe,saveUrlForRecurrentUploads:Qe,groupOutput:Qe,userAgentIntegration:At,debug:Qe,localeName:At,metadata:W5,secureUploadsExpireThreshold:dr,localeDefinitionOverride:V_,secureUploadsSignatureResolver:Q0,secureDeliveryProxyUrlResolver:Q0,iconHrefResolver:Q0,fileValidators:j_,collectionValidators:j_,cameraModes:G5,defaultCameraMode:z5,enableAudioRecording:Qe,enableVideoRecording:Qe,mediaRecorderOptions:V_,maxVideoRecordingDuration:dr,filesViewMode:q5,gridShowFileNames:Qe,cloudImageEditorAutoOpen:Qe,cloudImageEditorMaskHref:At},K5=(n,e)=>{if(!(typeof e>"u"||e===null))try{return Mz[n](e)}catch(t){return console.error(`Invalid value for config key "${n}".`,t),hi[n]}};var kz=[{test:n=>n.accept&&!!n.imgOnly,message:"There could be a mistake.\nBoth `accept` and `imgOnly` parameters are set.\nThe value of `accept` will be concatenated with the internal image mime types list."},{test:n=>n.enableVideoRecording!==null,message:"The `enableVideoRecording` parameter is deprecated and will be removed in the next major release.\nPlease use the `cameraModes` parameter instead."},{test:n=>n.defaultCameraMode!==null,message:"The `defaultCameraMode` parameter is deprecated and will be removed in the next major release.\nPlease use the `cameraModes` parameter instead."}],Q5=gt(n=>{for(let{test:e,message:t}of kz)e(n)&&G0(t)},0);var Z5=({key:n,value:e,setValue:t,getValue:r})=>{if(n==="enableVideoRecording"&&e!==null){let i=Jn(r("cameraModes"));e&&!i.includes("video")?i=i.concat("video"):e||(i=i.filter(o=>o!=="video")),t("cameraModes",Ro(i))}if(n==="defaultCameraMode"&&e!==null){let i=Jn(r("cameraModes"));i=i.sort((o,s)=>o===e?-1:s===e?1:0),t("cameraModes",Ro(i))}};var $_=[...new Set(["debug",...Object.keys(hi)])],Nz=["metadata","localeDefinitionOverride","secureUploadsSignatureResolver","secureDeliveryProxyUrlResolver","iconHrefResolver","fileValidators","collectionValidators","mediaRecorderOptions"],Oz=n=>Nz.includes(n),Au=$_.filter(n=>!Oz(n)),Rz=x(x({},Object.fromEntries(Au.map(n=>[Eu(n),n]))),Object.fromEntries(Au.map(n=>[n.toLowerCase(),n]))),Pz=x(x({},Object.fromEntries(Au.map(n=>[Eu(n),Fn(n)]))),Object.fromEntries(Au.map(n=>[n.toLowerCase(),Fn(n)]))),Y5=n=>"__"+n,th=class extends le{requireCtxName=!0;constructor(){super(),this.init$=x(x({},this.init$),Object.fromEntries(Object.entries(hi).map(([e,t])=>[Fn(e),t])))}_flushValueToAttribute(e,t){if(Au.includes(e)){let r=[...new Set([Eu(e),e.toLowerCase()])];for(let i of r)typeof t>"u"||t===null?this.removeAttribute(i):this.getAttribute(i)!==t.toString()&&this.setAttribute(i,t.toString())}}_flushValueToState(e,t){this.$[Fn(e)]!==t&&(typeof t>"u"||t===null?this.$[Fn(e)]=hi[e]:this.$[Fn(e)]=t)}_setValue(e,t){let r=this,i=K5(e,t),o=Y5(e);r[o]!==i&&(this._assertSameValueDifferentReference(e,r[o],i),r[o]=i,this._flushValueToAttribute(e,i),this._flushValueToState(e,i),this.debugPrint(`[uc-config] "${e}"`,i),Q5(this.cfg),Z5({key:e,value:i??null,setValue:this._setValue.bind(this),getValue:this._getValue.bind(this)}))}_getValue(e){let t=this,r=Y5(e);return t[r]??this.$[Fn(e)]}_assertSameValueDifferentReference(e,t,r){this.cfg.debug&&r!==t&&typeof r=="object"&&typeof t=="object"&&JSON.stringify(r)===JSON.stringify(t)&&(console.warn(`[uc-config] Option "${e}" value is the same as the previous one but the reference is different`),console.warn("[uc-config] You should avoid changing the reference of the object to prevent unnecessary calculations"),console.warn(`[uc-config] "${e}" previous value:`,t),console.warn(`[uc-config] "${e}" new value:`,r))}initCallback(){super.initCallback();let e=this;for(let t of Au)this.sub(Fn(t),r=>{this._setValue(t,r)},!1);for(let t of $_){let r=e[t]??this.$[Fn(t)];r!==hi[t]&&this._setValue(t,r),Object.defineProperty(this,t,{set:i=>{this._setValue(t,i)},get:()=>this._getValue(t)})}}attributeChangedCallback(e,t,r){if(t===r)return;let i=this,o=Rz[e];i[o]=r}};th.bindAttributes(Pz);for(let n of $_)th.prototype[n]=void 0;var J5=th;var H_=(()=>{class n extends le{constructor(){super(),this.init$=N(x({},this.init$),{name:"",href:""})}initCallback(){super.initCallback(),this.sub("name",t=>{if(!t)return;let r=`#uc-icon-${t}`;this.subConfigValue("iconHrefResolver",i=>{i&&(r=i(t)??r),this.$.href=r})}),this.setAttribute("aria-hidden","true")}}return n.template=`
  <svg ref="svg" xmlns="http://www.w3.org/2000/svg">
    <use set="@href: href;"></use>
  </svg>
`,n})();H_.bindAttributes({name:"name"});var X5=n=>[...new Set(n)];var eN=n=>Object.entries(n).filter(([e,t])=>t!==void 0&&t!=="").map(([e,t])=>e==="cdn-operations"||e==="analytics"?t:`${e}/${t}`);var Fz="https://ucarecdn.com",nh=Object.freeze({"dev-mode":{},pubkey:{},uuid:{},src:{},lazy:{default:1},intersection:{},breakpoints:{},"cdn-cname":{default:Fz},"proxy-cname":{},"secure-delivery-proxy":{},"hi-res-support":{default:1},"ultra-res-support":{},format:{},"cdn-operations":{},progressive:{},quality:{},"is-background-for":{},"is-preview-blur":{default:1}});var Iu="--uc-img-",z_="unresolved";var G_=!window.location.host.trim()||window.location.host.includes(":")||window.location.hostname.includes("localhost"),W_=3e3,q_=5e3,K_=Object.freeze({PREVIEW:"PREVIEW",MAIN:"MAIN"});var tN=Object.create(null);for(let n in nh)tN[Iu+n]=nh[n]?.default||"";var Z0=class extends No{cssInit$=tN;$$(e){return this.$[Iu+e]}set$$(e){for(let t in e)this.$[Iu+t]=e[t]}sub$$(e,t){this.sub(Iu+e,r=>{r===null||r===""||t(r)})}analyticsParams(){return`-/@clib/${bc}/${yc}/uc-img/`}initAttributes(e){[...this.attributes].forEach(t=>{nh[t.name]||e.setAttribute(t.name,t.value)})}initIntersection(e,t){let r={root:null,rootMargin:"0px"};this._isnObserver=new IntersectionObserver(i=>{i.forEach(o=>{o.isIntersecting&&(t(),this._isnObserver.unobserve(e))})},r),this._isnObserver.observe(e),this._observed||(this._observed=new Set),this._observed.add(e)}destroyCallback(){super.destroyCallback(),this._isnObserver&&(this._observed.forEach(e=>{this._isnObserver.unobserve(e)}),this._isnObserver=null),Xe.deleteCtx(this)}static get observedAttributes(){return Object.keys(nh)}attributeChangedCallback(e,t,r){window.setTimeout(()=>{this.$[Iu+e]=r})}};var X0=class extends Z0{_img=new Image;_imgPreview=new Image;_fmtAbs(e){return!e.includes("//")&&!G_&&(e=new URL(e,document.baseURI).href),e}_validateSize(e){if(e?.trim()!==""){let t=e.match(/\d+/)[0],r=e.match(/[a-zA-Z]+/)[0],i=parseInt(t,10);if(Number(i)>q_&&this.hasFormatJPG)return q_+r;if(Number(i)>W_&&!this.hasFormatJPG)return W_+r}return e}_getCdnModifiers(e,t){let r={format:this.$$("format"),quality:this.$$("quality"),resize:this._validateSize(e),blur:t,"cdn-operations":this.$$("cdn-operations"),analytics:this.analyticsParams()};return Rn(...eN(r))}_getUrlBase(e="",t=""){if(this.$$("src").startsWith("data:")||this.$$("src").startsWith("blob:"))return this.$$("src");if(G_&&this.$$("src")&&!this.$$("src").includes("//"))return this._proxyUrl(this.$$("src"));let r=this._getCdnModifiers(e,t);if(this.$$("src").startsWith(this.$$("cdn-cname")))return Xt(this.$$("src"),r);if(this.$$("cdn-cname")&&this.$$("uuid"))return this._proxyUrl(Xt(Ls(this.$$("cdn-cname"),this.$$("uuid")),r));if(this.$$("uuid"))return this._proxyUrl(Xt(Ls(this.$$("cdn-cname"),this.$$("uuid")),r));if(this.$$("proxy-cname"))return this._proxyUrl(Xt(this.$$("proxy-cname"),r,this._fmtAbs(this.$$("src"))));if(this.$$("pubkey"))return this._proxyUrl(Xt(`https://${this.$$("pubkey")}.ucr.io/`,r,this._fmtAbs(this.$$("src"))))}_proxyUrl(e){return this.$$("secure-delivery-proxy")?qf(this.$$("secure-delivery-proxy"),{previewUrl:e},{transform:r=>window.encodeURIComponent(r)}):e}_getElSize(e,t=1,r=!0){let i=e.getBoundingClientRect(),o=t*Math.round(i.width),s=r?"":t*Math.round(i.height);return o||s?`${o||""}x${s||""}`:null}_setupEventProxy(e){let t=i=>{i.stopPropagation();let o=new Event(i.type,i);this.dispatchEvent(o)},r=["load","error"];for(let i of r)e.addEventListener(i,t)}get img(){return this.hasPreviewImage||(this._setupConfigForImage({elNode:this._img}),this.appendChild(this._img)),this._img}get currentImg(){return this.hasPreviewImage?{type:K_.PREVIEW,img:this._imgPreview}:{type:K_.MAIN,img:this.img}}get hasPreviewImage(){return this.$$("is-preview-blur")}get bgSelector(){return this.$$("is-background-for")}get breakpoints(){if(this.$$("breakpoints")){let e=mn(this.$$("breakpoints"));return X5(e.map(t=>parseInt(t,10)))}else return null}get hasFormatJPG(){return this.$$("format").toLowerCase()==="jpeg"}renderBg(e){let t=new Set;t.add(`url("${this._getUrlBase(this._getElSize(e))}") 1x`),this.$$("hi-res-support")&&t.add(`url("${this._getUrlBase(this._getElSize(e,2))}") ${2}x`),this.$$("ultra-res-support")&&t.add(`url("${this._getUrlBase(this._getElSize(e,3))}") ${3}x`);let r=`image-set(${[...t].join(", ")})`;e.style.setProperty("background-image",r),e.style.setProperty("background-image","-webkit-"+r)}getSrcset(){let e=new Set;return this.breakpoints?this.breakpoints.forEach(t=>{e.add(this._getUrlBase(t+"x")+` ${this._validateSize(t+"w")}`),this.$$("hi-res-support")&&e.add(this._getUrlBase(t*2+"x")+` ${this._validateSize(t*2+"w")}`),this.$$("ultra-res-support")&&e.add(this._getUrlBase(t*3+"x")+` ${this._validateSize(t*3+"w")}`)}):(e.add(this._getUrlBase(this._getElSize(this.currentImg.img))+" 1x"),this.$$("hi-res-support")&&e.add(this._getUrlBase(this._getElSize(this.currentImg.img,2))+" 2x"),this.$$("ultra-res-support")&&e.add(this._getUrlBase(this._getElSize(this.currentImg.img,3))+" 3x")),[...e].join()}getSrc(){return this._getUrlBase()}get srcUrlPreview(){return this._getUrlBase("100x","100")}renderBackground(){[...document.querySelectorAll(this.bgSelector)].forEach(e=>{this.$$("intersection")?this.initIntersection(e,()=>{this.renderBg(e)}):this.renderBg(e)})}_appendURL({elNode:e,src:t,srcset:r}){t&&(e.src=t),r&&(e.srcset=r)}_setupConfigForImage({elNode:e}){this._setupEventProxy(e),this.initAttributes(e)}loaderImage({src:e,srcset:t,elNode:r}){return new Promise((i,o)=>{this._setupConfigForImage({elNode:r}),r.setAttribute(z_,""),r.addEventListener("load",()=>{r.removeAttribute(z_),i(r)}),r.addEventListener("error",()=>{o(!1)}),this._appendURL({elNode:r,src:e,srcset:t})})}renderImage(){return h(this,null,function*(){if(this.$$("intersection")){this.hasPreviewImage&&(this._setupConfigForImage({elNode:this._imgPreview}),this.appendChild(this._imgPreview)),this.initIntersection(this.currentImg.img,()=>h(this,null,function*(){this.hasPreviewImage&&(this._imgPreview.src=this.srcUrlPreview);try{yield this.loaderImage({src:this.getSrc(),srcset:this.getSrcset(),elNode:this._img}),this.hasPreviewImage&&(yield this._imgPreview.remove()),this.appendChild(this._img)}catch{this.hasPreviewImage&&(yield this._imgPreview?.remove()),this.appendChild(this._img)}}));return}try{this.hasPreviewImage&&(yield this.loaderImage({src:this.srcUrlPreview,elNode:this._imgPreview}),this.appendChild(this._imgPreview)),yield this.loaderImage({src:this.getSrc(),srcset:this.getSrcset(),elNode:this._img}),this.hasPreviewImage&&(yield this._imgPreview?.remove()),this.appendChild(this._img)}catch{this.hasPreviewImage&&(yield this._imgPreview?.remove()),this.appendChild(this._img)}})}init(){this.bgSelector?this.renderBackground():this.renderImage()}};var eb=class extends X0{initCallback(){super.initCallback(),this.sub$$("src",()=>{this.init()}),this.sub$$("uuid",()=>{this.init()}),this.sub$$("lazy",e=>{!this.$$("is-background-for")&&!this.$$("is-preview-blur")&&(this.img.loading=e?"lazy":"eager")})}};var Q_=(()=>{class n extends Je{static styleAttrs=[...super.styleAttrs,"uc-simple-btn"];couldBeCtxOwner=!0;constructor(){super(),this.init$=N(x({},this.init$),{withDropZone:!0,onClick:()=>{this.api.initFlow()},"button-text":""})}initCallback(){super.initCallback(),this.defineAccessor("dropzone",t=>{typeof t>"u"||(this.$.withDropZone=Qe(t))}),this.subConfigValue("multiple",t=>{this.$["button-text"]=t?"upload-files":"upload-file"})}}return n.template=`
  <uc-drop-area set="@disabled: !withDropZone">
    <button type="button" set="onclick: onClick">
      <uc-icon name="upload"></uc-icon>
      <span l10n="button-text"></span>
      <slot></slot>
      <div class="uc-visual-drop-area" l10n="drop-files-here"></div>
    </button>
  </uc-drop-area>
`,n})();Q_.bindAttributes({dropzone:null});var nN=(()=>{class n extends V{historyTracked=!0;activityType=V.activities.START_FROM;initCallback(){super.initCallback(),this.registerActivity(this.activityType)}}return n.template=' <div class="uc-content"><slot></slot></div> ',n})();function Lz(n){return new Promise(e=>{typeof window.FileReader!="function"&&e(!1);try{let t=new FileReader;t.onerror=()=>{e(!0)};let r=i=>{i.type!=="loadend"&&t.abort(),e(!1)};t.onloadend=r,t.onprogress=r,t.readAsDataURL(n)}catch{e(!1)}})}function Bz(n,e){return new Promise(t=>{let r=0,i=[],o=a=>{a||(console.warn("Unexpectedly received empty content entry",{scope:"drag-and-drop"}),t(null)),a.isFile?(r++,a.file(c=>{r--;let l=new File([c],c.name,{type:c.type||e});i.push({type:"file",file:l,fullPath:a.fullPath}),r===0&&t(i)})):a.isDirectory&&s(a.createReader())},s=a=>{r++,a.readEntries(c=>{r--;for(let l of c)o(l);r===0&&t(i)})};o(n)})}function rN(n){let e=[],t=[];for(let r=0;r<n.items.length;r++){let i=n.items[r];if(i)if(i.kind==="file"){let o=i.type;if(typeof i.webkitGetAsEntry=="function"||typeof i.getAsEntry=="function"){let a=typeof i.webkitGetAsEntry=="function"?i.webkitGetAsEntry():i.getAsEntry();t.push(Bz(a,o).then(c=>{c&&e.push(...c)}));continue}let s=i.getAsFile();s&&t.push(Lz(s).then(a=>{a||e.push({type:"file",file:s})}))}else i.kind==="string"&&i.type.match("^text/uri-list")&&t.push(new Promise(o=>{i.getAsString(s=>{e.push({type:"url",url:s}),o(void 0)})}))}return Promise.all(t).then(()=>e)}var Ln={ACTIVE:0,INACTIVE:1,NEAR:2,OVER:3},iN=["focus"],Uz=100,Z_=new Map;function Vz(n,e){let t=Math.max(Math.min(n[0],e.x+e.width),e.x),r=Math.max(Math.min(n[1],e.y+e.height),e.y);return Math.sqrt((n[0]-t)*(n[0]-t)+(n[1]-r)*(n[1]-r))}function Y_(n){let e=0,t=document.body,r=new Set,i=m=>r.add(m),o=Ln.INACTIVE,s=m=>{n.shouldIgnore()&&m!==Ln.INACTIVE||(o!==m&&r.forEach(b=>b(m)),o=m)},a=()=>e>0;i(m=>n.onChange(m));let c=()=>{e=0,s(Ln.INACTIVE)},l=()=>{e+=1,o===Ln.INACTIVE&&s(Ln.ACTIVE)},u=()=>{e-=1,a()||s(Ln.INACTIVE)},d=m=>{m.preventDefault(),e=0,s(Ln.INACTIVE)},f=m=>{if(n.shouldIgnore())return;a()||(e+=1);let b=[m.x,m.y],w=n.element.getBoundingClientRect(),_=Math.floor(Vz(b,w)),D=_<Uz,T=m.composedPath().includes(n.element);Z_.set(n.element,_);let W=Math.min(...Z_.values())===_;T&&W?(m.preventDefault(),s(Ln.OVER)):s(D&&W?Ln.NEAR:Ln.ACTIVE)},p=m=>h(this,null,function*(){if(n.shouldIgnore())return;m.preventDefault();let b=yield rN(m.dataTransfer);n.onItems(b),s(Ln.INACTIVE)});return t.addEventListener("drop",d),t.addEventListener("dragleave",u),t.addEventListener("dragenter",l),t.addEventListener("dragover",f),n.element.addEventListener("drop",p),iN.forEach(m=>{window.addEventListener(m,c)}),()=>{Z_.delete(n.element),t.removeEventListener("drop",d),t.removeEventListener("dragleave",u),t.removeEventListener("dragenter",l),t.removeEventListener("dragover",f),n.element.removeEventListener("drop",p),iN.forEach(m=>{window.removeEventListener(m,c)})}}var oN="uc-drop-area",Du=`${oN}/registry`,J_=(()=>{class n extends Je{static styleAttrs=[...super.styleAttrs,"uc-drop-area"];constructor(){super(),this.init$=N(x({},this.init$),{state:Ln.INACTIVE,withIcon:!1,isClickable:!1,isFullscreen:!1,isEnabled:!0,isVisible:!0,isInitFlow:!1,text:"",[Du]:null})}isActive(){if(!this.$.isEnabled)return!1;let t=this.getBoundingClientRect(),r=t.width>0&&t.height>0,i=t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth),o=window.getComputedStyle(this),s=o.visibility!=="hidden"&&o.display!=="none";return r&&s&&i}initCallback(){super.initCallback(),this.bindL10n("text",()=>this.l10n("drop-files-here")),this.$[Du]||(this.$[Du]=new Set),this.$[Du].add(this),this.defineAccessor("disabled",r=>{this.set$({isEnabled:!Qe(r)})}),this.defineAccessor("clickable",r=>{this.set$({isClickable:Qe(r)})}),this.defineAccessor("initflow",r=>{this.set$({isInitFlow:Qe(r)})}),this.defineAccessor("with-icon",r=>{this.set$({withIcon:Qe(r)})}),this.defineAccessor("fullscreen",r=>{this.set$({isFullscreen:Qe(r)})}),this.defineAccessor("text",r=>{typeof r=="string"?this.bindL10n("text",()=>this.l10n(r)||r):this.bindL10n("text",()=>this.l10n("drop-files-here"))}),this._destroyDropzone=Y_({element:this,shouldIgnore:()=>this._shouldIgnore(),onChange:r=>{this.$.state=r},onItems:r=>{r.length&&(r.forEach(i=>{i.type==="url"?this.api.addFileFromUrl(i.url,{source:bt.DROP_AREA}):i.type==="file"&&this.api.addFileFromObject(i.file,{source:bt.DROP_AREA,fullPath:i.fullPath})}),this.uploadCollection.size&&(this.modalManager.open(V.activities.UPLOAD_LIST),this.set$({"*currentActivity":V.activities.UPLOAD_LIST})))}});let t=this.ref["content-wrapper"];t&&(this._destroyContentWrapperDropzone=Y_({element:t,onChange:r=>{let i=Object.entries(Ln).find(([,o])=>o===r)?.[0].toLowerCase();i&&t.setAttribute("drag-state",i)},onItems:()=>{},shouldIgnore:()=>this._shouldIgnore()})),this.sub("state",r=>{let i=Object.entries(Ln).find(([,o])=>o===r)?.[0].toLowerCase();i&&this.setAttribute("drag-state",i)}),this.subConfigValue("sourceList",r=>{let i=mn(r);this.$.isEnabled=i.includes(bt.LOCAL),this.$.isVisible=this.$.isEnabled||!this.querySelector("[data-default-slot]")}),this.sub("isVisible",r=>{this.toggleAttribute("hidden",!r)}),this.sub("isClickable",r=>{this.toggleAttribute("clickable",r)}),this.$.isClickable&&(this._onAreaClicked=r=>{if(r.type==="keydown"){if(r.code==="Space"||r.code==="Enter"){if(this.$.isInitFlow){this.api.initFlow();return}this.api.openSystemDialog()}}else if(r.type==="click"){if(this.$.isInitFlow){this.api.initFlow();return}this.api.openSystemDialog()}},this.addEventListener("keydown",this._onAreaClicked),this.addEventListener("click",this._onAreaClicked))}_shouldIgnore(){return!this.$.isEnabled||!this._couldHandleFiles()?!0:this.$.isFullscreen?[...this.$[Du]].filter(i=>i!==this).filter(i=>i.isActive()).length>0:!1}_couldHandleFiles(){let t=this.cfg.multiple,r=this.cfg.multipleMax,i=this.uploadCollection.size;return!(t&&r&&i>=r||!t&&i>0)}destroyCallback(){super.destroyCallback();let t=this.$[Du];t&&(t.delete(this),t.size===0&&Xe.deleteCtx(oN)),this._destroyDropzone?.(),this._destroyContentWrapperDropzone?.(),this._onAreaClicked&&(this.removeEventListener("keydown",this._onAreaClicked),this.removeEventListener("click",this._onAreaClicked))}}return n.template=`
  <slot>
    <div data-default-slot hidden></div>
    <div ref="content-wrapper" class="uc-content-wrapper" set="@hidden: !isVisible">
      <div class="uc-icon-container" set="@hidden: !withIcon">
        <uc-icon name="default"></uc-icon>
        <uc-icon name="arrow-down"></uc-icon>
      </div>
      <span class="uc-text">{{text}}</span>
    </div>
  </slot>
`,n})();J_.bindAttributes({"with-icon":null,clickable:null,text:null,fullscreen:null,disabled:null,initflow:null});var jz="src-type-",X_=(()=>{class n extends Je{couldBeCtxOwner=!0;type=void 0;_registeredTypes={};constructor(){super(),this.init$=N(x({},this.init$),{iconName:"default","src-type":""})}initTypes(){this.registerType({type:bt.LOCAL,activate:()=>(this.api.openSystemDialog(),!1)}),this.registerType({type:bt.URL,activity:V.activities.URL,textKey:"from-url"}),this.registerType({type:bt.CAMERA,activity:V.activities.CAMERA,activate:()=>{let t=xc.htmlMediaCapture;return t&&this.api.openSystemDialog({captureCamera:!0}),!t}}),this.registerType({type:"draw",activity:V.activities.DRAW,icon:"edit-draw"});for(let t of Object.values(k_))this.registerType({type:t,activity:V.activities.CAMERA,activate:()=>{let r=xc.htmlMediaCapture;return r&&this.api.openSystemDialog({captureCamera:!0,modeCamera:t==="mobile-photo-camera"?Te.PHOTO:Te.VIDEO}),!r}});for(let t of Object.values(vc))this.registerType({type:t,activity:V.activities.EXTERNAL,activityParams:{externalSourceType:t}})}initCallback(){super.initCallback(),this.initTypes(),this.defineAccessor("type",t=>{t&&this.applyType(t)})}registerType(t){this._registeredTypes[t.type]=t}getType(t){return this._registeredTypes[t]}activate(){if(!this.type)return;let t=this._registeredTypes[this.type],{activity:r,activate:i,activityParams:o={}}=t;(i?i():!!r)&&(this.modalManager.open(r),this.set$({"*currentActivityParams":o,"*currentActivity":r}))}applyType(t){let r=this._registeredTypes[t];if(!r){console.warn("Unsupported source type: "+t);return}let{textKey:i=t,icon:o=t}=r;this.$["src-type"]=`${jz}${i}`,this.$.iconName=o,this.onclick=()=>{this.activate()}}}return n.template=`
  <button type="button">
    <uc-icon set="@name: iconName"></uc-icon>
    <div class="uc-txt" l10n="src-type"></div>
  </button>
`,n})();X_.bindAttributes({type:null});var tb=class extends le{initCallback(){super.initCallback(),this.subConfigValue("sourceList",e=>{let t=mn(e),r="";t.forEach(i=>{if(i==="instagram"){console.error("Instagram source was removed because the Instagram Basic Display API hasn't been available since December 4, 2024. Official statement, see here:https://developers.facebook.com/blog/post/2024/09/04/update-on-instagram-basic-display-api/?locale=en_US");return}if(i==="camera"&&xc.htmlMediaCapture){this.subConfigValue("cameraModes",o=>{let s=Jn(o);s.forEach(a=>{r+=`<uc-source-btn role="listitem" type="mobile-${a}-camera"></uc-source-btn>`}),s.length===0&&(r+='<uc-source-btn role="listitem" type="mobile-photo-camera"></uc-source-btn>')});return}r+=`<uc-source-btn role="listitem" type="${i}"></uc-source-btn>`}),this.cfg.sourceListWrap?this.innerHTML=r:this.outerHTML=r})}};var rb=()=>{let n=[];return{stack:n,promiseReadJpegChunks:t=>new Promise((r,i)=>{let o=2,s=(l,u)=>{let d=new FileReader;d.addEventListener("load",()=>{u(new DataView(d.result))}),d.addEventListener("error",f=>{i(`Reader error: ${f}`)}),d.readAsArrayBuffer(l)},a=()=>s(t.slice(o,o+128),l=>{let u,d,f;for(u=d=0,f=l.byteLength;f>=0?d<f:d>f;u=f>=0?++d:--d)if(l.getUint8(u)===255){o+=u;break}c()}),c=()=>{let l=o;return s(t.slice(o,o+=4),u=>{if(u.byteLength!==4||u.getUint8(0)!==255){i("Corrupted");return}let d=u.getUint8(1);if(d===218){r(!0);return}let f=u.getUint16(2)-2;return s(t.slice(o,o+=f),p=>{if(p.byteLength!==f){i("Corrupted");return}n.push({startPos:l,length:f,marker:d,view:p}),a()})})};FileReader&&DataView||i("Not Support"),s(t.slice(0,2),l=>{l.getUint16(0)!==65496&&i("Not jpeg"),a()})})}},$z=n=>h(void 0,null,function*(){let e=[],{promiseReadJpegChunks:t,stack:r}=rb();return yield t(n),r.forEach(({marker:i,view:o})=>{i===226&&o.getUint32(0)===1229144927&&o.getUint32(4)===1347571526&&o.getUint32(8)===1229735168&&e.push(o)}),e}),aN=(n,e,t)=>h(void 0,null,function*(){{let r=[],i=[],{promiseReadJpegChunks:o,stack:s}=rb();yield o(n),s.forEach(l=>{if(l.marker===e)return r.push(l.startPos),i.push(l.length)});let a=[n.slice(0,2)];for(let l of t){let u=new DataView(new ArrayBuffer(4));u.setUint16(0,65280+e),u.setUint16(2,l.byteLength+2),a.push(u.buffer),a.push(l)}let c=2;for(let l=0;l<r.length;l++)r[l]>c&&a.push(n.slice(c,r[l])),c=r[l]+i[l]+4;return a.push(n.slice(c,n.size)),new Blob(a,{type:n.type})}});var cN=(n,e)=>aN(n,226,e.map(t=>t.buffer)),Hz=n=>h(void 0,null,function*(){try{return yield cN(n,[])}catch(e){throw new Error(`Failed to strip ICC profile: ${e}`)}}),zz=(n,e,t)=>new Promise((r,i)=>{let o=s=>{if(!s){i("Failed to convert canvas to blob");return}r(s)};n.toBlob(o,e,t),n.width=n.height=1}),rh=()=>{let n=document.createElement("canvas"),e=n.getContext("2d");return{canvas:n,ctx:e}},Gz=n=>{let{ctx:t,canvas:r}=rh();r.width=r.height=50,t.drawImage(n,0,0,50,50);let i=t.getImageData(0,0,50,50).data;r.width=r.height=1;for(let o=3;o<i.length;o+=4)if(i[o]<254)return!0;return!1},Wz=n=>h(void 0,null,function*(){let e=null,{promiseReadJpegChunks:t,stack:r}=rb();return yield t(n),r.forEach(({marker:i,view:o})=>{if(!e&&i===225&&o.byteLength>=14&&o.getUint32(0)===1165519206&&o.getUint16(4)===0){e=o;return}}),e}),qz="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QA6RXhpZgAATU0AKgAAAAgAAwESAAMAAAABAAYAAAEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wAALCAABAAIBASIA/8QAJgABAAAAAAAAAAAAAAAAAAAAAxABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQAAPwBH/9k=",nb,Kz=()=>new Promise(n=>{if(nb!==void 0)n(nb);else{let e=new Image;e.addEventListener("load",()=>{nb=e.naturalWidth<e.naturalHeight,e.src="//:0",n(nb)}),e.src=qz}}),Qz=(n,e)=>{let t,r,i,o;if(!n||n.byteLength<14||n.getUint32(0)!==1165519206||n.getUint16(4)!==0)return;if(n.getUint16(6)===18761)r=!0;else if(n.getUint16(6)===19789)r=!1;else return;if(n.getUint16(8,r)!==42)return;i=8+n.getUint32(10,r);let s=n.getUint16(i-2,r);for(t=0,o=s;o>=0?t<o:t>o;o>=0?++t:--t){if(n.byteLength<i+10)return;n.getUint16(i,r)===274&&e(i+8,r),i+=12}},Zz=(n,e)=>{Qz(n,(t,r)=>n.setUint16(t,e,r))},Yz=(n,e,t)=>h(void 0,null,function*(){return t&&Zz(e,1),aN(n,225,[e.buffer])}),Jz=(n,e)=>new Promise((t,r)=>{e&&(n.src=e),n.complete?t(n):(n.addEventListener("load",()=>{t(n)}),n.addEventListener("error",()=>{r(new Error("Failed to load image. Probably not an image."))}))}),Xz=n=>Jz(new Image,n),eG=[1,3],tG=[192,193,194,195,197,198,199,201,202,203,205,206,207],sN={squareSide:[Math.floor(Math.sqrt(5*1e3*1e3)),4096,8192,11180,10836,11402,14188,16384],dimension:[4096,8192,16384,32767,65535]},nG=n=>h(void 0,null,function*(){let e=!1,{promiseReadJpegChunks:t,stack:r}=rb();return yield t(n).then(()=>(r.forEach(({marker:i,view:o})=>{if(!e&&tG.indexOf(i)>=0){let s=o.getUint8(5);eG.indexOf(s)<0&&(e=!0)}}),e)).catch(()=>e)}),lN=(n,e)=>{let t={};return(...r)=>{let i=e(r,t);return i in t?t[i]:t[i]=n(...r)}},uN=(n,e)=>{let[t]=n,r=Object.keys(e).map(i=>parseInt(i,10)).sort((i,o)=>i-o);for(let i=0;i<r.length;i++){let o=r[i],s=!!e[o];if(o>t&&s||o<t&&!s)return o}return t},Gs={R:55,G:110,B:165,A:255},rG=`rgba(${Gs.R}, ${Gs.G}, ${Gs.B}, ${Gs.A/255})`,dN=(n,e)=>{try{let t=[n-1,e-1,1,1],{canvas:r,ctx:i}=rh();r.width=1,r.height=1;let{canvas:o,ctx:s}=rh();o.width=n,o.height=e,s&&(s.fillStyle=rG,s.fillRect(...t),i.drawImage(o,n-1,e-1,1,1,0,0,1,1));let a=i&&i.getImageData(0,0,1,1).data,c=!1;return a&&(c=a[0]===Gs.R&&a[1]===Gs.G&&a[2]===Gs.B&&a[3]===Gs.A),o.width=o.height=1,c}catch{return console.error(`Failed to test for max canvas size of ${n}x${e}.`),!1}};function fN(n){return(...e)=>new Promise(t=>{setTimeout(()=>{let r=n(...e);t(r)},0)})}var iG=fN(lN(dN,uN)),oG=fN(lN(dN,uN)),hN=(n,e)=>h(void 0,null,function*(){let t=sN.squareSide.find(s=>s*s>=n*e),r=sN.dimension.find(s=>s>=n&&s>=e);if(!t||!r)throw new Error("Not supported");let[i,o]=yield Promise.all([iG(t,t),oG(r,1)]);if(i&&o)return!0;throw new Error("Not supported")}),pN=(n,e,t)=>h(void 0,null,function*(){try{let{ctx:r,canvas:i}=rh();return i.width=e,i.height=t,r.imageSmoothingQuality="high",r.drawImage(n,0,0,e,t),n instanceof HTMLImageElement&&(n.src="//:0"),n instanceof HTMLCanvasElement&&(n.width=n.height=1),i}catch(r){throw new Error("Canvas resize error",{cause:r})}}),sG=({img:n,targetW:e,targetH:t})=>pN(n,e,t),aG=function({sourceW:n,targetW:e,targetH:t,step:r}){let i=[],o=e,s=t;do i.push([o,s]),o=Math.round(o/r),s=Math.round(s/r);while(o<n*r);return i.reverse()},cG=({img:n,sourceW:e,targetW:t,targetH:r,step:i})=>{let o=aG({sourceW:e,targetW:t,targetH:r,step:i});return o.reduce((s,[a,c],l)=>s.then(u=>hN(a,c).then(()=>pN(u,a,c)).catch(()=>{if(l===o.length-1)throw new Error("Not supported");return u})),Promise.resolve(n))},lG=()=>/iPad|iPhone|iPod/.test(navigator.platform)?!0:navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform),uG=navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform),eC=.71,dG=(n,e)=>{if(n.width*eC*n.height*eC<e.size)throw new Error("Not required");let t=n.width,r=n.height,i=t/r,o=Math.floor(Math.sqrt(e.size*i)),s=Math.floor(e.size/Math.sqrt(e.size*i));return hN(o,s).then(()=>{let{ctx:a}=rh();return"imageSmoothingQuality"in a&&!lG()&&!uG?sG({img:n,targetW:o,targetH:s}):cG({img:n,sourceW:t,targetW:o,targetH:s,step:eC})}).catch(()=>Promise.reject("Not supported"))},mN=(n,e)=>h(void 0,null,function*(){try{if(yield nG(n))throw new Error("Should skipped");let r=yield Promise.allSettled([Wz(n),Kz(),$z(n)]),o=!r.some(b=>b.status==="rejected"),[s,a,c]=r,l=yield Hz(n).catch(()=>n),u=yield Xz(URL.createObjectURL(l));URL.revokeObjectURL(u.src);let d=yield dG(u,e),f="image/jpeg",p=e?.quality||.8;!o&&Gz(d)&&(f="image/png",p=void 0);let m=yield zz(d,f,p);if(o&&s.status==="fulfilled"&&s.value){let b=s.value,w=a.status==="fulfilled"?a.value:!1;m=yield Yz(m,b,w)}return o&&c.status==="fulfilled"&&c.value.length>0&&(m=yield cN(m,c.value)),m}catch(t){let r;throw t instanceof Error&&(r=t.message),typeof t=="string"&&(r=t),new Error(`Failed to shrink image. ${r?`Message: "${r}".`:""}`,{cause:t})}});var fG=/^([0-9]+)x([0-9]+)(?:\s+(\d{1,2}|100)%)?$/i,gN=n=>{let e=fG.exec(n?.toLocaleLowerCase())||[];if(!e.length)return!1;let t=e[1]*e[2],r=16384*16384;return t>r?(console.warn(`Shrinked size can not be larger than ${Math.floor(r/1e3/1e3)}MP. You have set ${e[1]}x${e[2]} (${Math.ceil(t/1e3/100)/10}MP).`),!1):{quality:e[3]?e[3]/100:void 0,size:t}};var Su=(n,e)=>{let t,r,i,o=(...s)=>{t?(clearTimeout(r),r=setTimeout(()=>{Date.now()-i>=e&&(n(...s),i=Date.now())},Math.max(e-(Date.now()-i),0))):(n(...s),i=Date.now(),t=!0)};return Object.defineProperty(o,"cancel",{configurable:!1,writable:!1,enumerable:!1,value:()=>{clearTimeout(r)}}),o};var Tu=class extends Je{_entrySubs=new Set;_entry=null;_withEntry(e){return(...r)=>{let i=this._entry;if(!i){console.warn("No entry found");return}return e(i,...r)}}_subEntry=(e,t)=>this._withEntry((r,i,o)=>{let s=r.subscribe(i,a=>{this.isConnected&&o(a)});this._entrySubs.add(s)})(e,t);_reset(){for(let e of this._entrySubs)e.remove();this._entrySubs=new Set,this._entry=null}disconnectedCallback(){super.disconnectedCallback(),this._entrySubs=new Set}};var fr=Object.freeze({FINISHED:Symbol("FINISHED"),FAILED:Symbol("FAILED"),UPLOADING:Symbol("UPLOADING"),IDLE:Symbol("IDLE")}),Mu=class n extends Tu{couldBeCtxOwner=!0;pauseRender=!0;_renderedOnce=!1;constructor(){super(),this.init$=N(x({},this.init$),{uid:"",itemName:"",errorText:"",hint:"",thumbUrl:"",progressValue:0,progressVisible:!1,badgeIcon:"",isFinished:!1,isFailed:!1,isUploading:!1,isFocused:!1,isEditable:!1,showFileNames:!1,state:fr.IDLE,ariaLabelStatusFile:"",onEdit:this._withEntry(e=>{this.$["*currentActivityParams"]={internalId:e.uid},this.modalManager.open(V.activities.CLOUD_IMG_EDIT),this.$["*currentActivity"]=V.activities.CLOUD_IMG_EDIT}),onRemove:()=>{this.uploadCollection.remove(this.$.uid)},onUpload:()=>{this.upload()}})}_reset(){super._reset(),this._debouncedCalculateState.cancel()}_observerCallback(e){let[t]=e;this._isIntersecting=t.isIntersecting,this._thumbRect=t.boundingClientRect,t.isIntersecting&&!this._renderedOnce&&(this.render(),this._renderedOnce=!0)}_calculateState=this._withEntry(e=>{let t=fr.IDLE;e.getValue("errors").length>0?t=fr.FAILED:e.getValue("isUploading")?t=fr.UPLOADING:e.getValue("fileInfo")&&(t=fr.FINISHED),this.$.state=t});_debouncedCalculateState=gt(this._calculateState.bind(this),100);_updateHint=this._withEntry(Su(e=>{let t=e.getValue("source"),r=e.getValue("externalUrl"),i=e.getValue("errors").length===0,o=this.$.progressValue===0,s=this.$.state===fr.UPLOADING,a=e.getValue("isQueued");if(!i||!s||!o){this.$.hint="";return}if(a){let c=this.l10n("queued");this.$.hint=c;return}if(r&&t&&t!==bt.URL){let c=this.l10n("waiting-for",{source:this.l10n(`src-type-${t}`)});this.$.hint=c;return}this.$.hint=""},100));_handleEntryId(e){this._reset();let t=this.uploadCollection?.read(e);this._entry=t,t&&(this._subEntry("uploadProgress",r=>{this.$.progressValue=r,this._updateHint()}),this._subEntry("isQueued",()=>{this._updateHint()}),this._subEntry("fileName",r=>{this.$.itemName=r||t.getValue("externalUrl")||this.l10n("file-no-name"),this._debouncedCalculateState()}),this._subEntry("externalUrl",r=>{this.$.itemName=t.getValue("fileName")||r||this.l10n("file-no-name")}),this._subEntry("fileInfo",()=>{this._debouncedCalculateState()}),this._subEntry("errors",()=>this._debouncedCalculateState()),this._subEntry("isUploading",()=>this._debouncedCalculateState()),this._subEntry("fileSize",()=>this._debouncedCalculateState()),this._subEntry("mimeType",()=>this._debouncedCalculateState()),this._subEntry("isImage",()=>this._debouncedCalculateState()))}_updateShowFileNames(e){if(this.cfg.filesViewMode==="list"){this.$.showFileNames=!0;return}this.$.showFileNames=e}initCallback(){super.initCallback(),this.sub("uid",e=>{this._handleEntryId(e)}),this.sub("state",e=>{this._handleState(e)}),this.subConfigValue("useCloudImageEditor",()=>this._debouncedCalculateState()),this.subConfigValue("filesViewMode",e=>{this._updateShowFileNames(this.cfg.gridShowFileNames),this.setAttribute("mode",e)}),this.subConfigValue("gridShowFileNames",e=>{this._updateShowFileNames(e)}),this.onclick=()=>{n.activeInstances.forEach(e=>{e===this?e.setAttribute("focused",""):e.removeAttribute("focused")})},this.sub("*uploadTrigger",e=>{this._entry&&!e.has(this._entry.uid)||setTimeout(()=>this.isConnected&&this.upload())}),n.activeInstances.add(this)}_handleState=this._withEntry((e,t)=>{t===fr.FAILED?this.$.badgeIcon="badge-error":t===fr.FINISHED&&(this.$.badgeIcon="badge-success"),t===fr.UPLOADING&&(this.$.isFocused=!1);let r=e.getValue("fileName");this.set$({isFailed:t===fr.FAILED,isUploading:t===fr.UPLOADING,isFinished:t===fr.FINISHED,progressVisible:t===fr.UPLOADING,isEditable:this.cfg.useCloudImageEditor&&this._entry?.getValue("isImage")&&this._entry?.getValue("cdnUrl"),errorText:e.getValue("errors")?.[0]?.message,ariaLabelStatusFile:r&&this.l10n("a11y-file-item-status",{fileName:r,status:this.l10n(t?.description?.toLocaleLowerCase()??"").toLocaleLowerCase()})}),this._updateHint()});destroyCallback(){super.destroyCallback(),n.activeInstances.delete(this),this._reset()}connectedCallback(){super.connectedCallback(),this._observer=new window.IntersectionObserver(this._observerCallback.bind(this),{threshold:[0,1]}),this._observer.observe(this)}disconnectedCallback(){super.disconnectedCallback(),this._observer?.disconnect()}_settingsOfShrink(){return gN(this.cfg.imageShrink)}_processShrink(e){return mN(e,this._settingsOfShrink())}upload=this._withEntry(e=>h(this,null,function*(){if(!this.uploadCollection.read(e.uid)||e.getValue("fileInfo")||e.getValue("isUploading")||e.getValue("errors").length>0)return;let t=this.cfg.multiple?this.cfg.multipleMax:1;if(!(t&&this.uploadCollection.size>t)){this._debouncedCalculateState(),e.setMultipleValues({isUploading:!0,errors:[],isQueued:!0});try{let r=new AbortController;e.setValue("abortController",r);let i=()=>h(this,null,function*(){e.setValue("isQueued",!1);let s=e.getValue("file");s&&this.cfg.imageShrink&&(s=yield this._processShrink(s).catch(()=>s));let a=s||e.getValue("externalUrl")||e.getValue("uuid");if(!a)throw new Error("No file input");let c=yield this.getUploadClientOptions(),l=N(x({},c),{fileName:e.getValue("fileName")??void 0,source:e.getValue("source")??void 0,onProgress:u=>{if(u.isComputable){let d=u.value*100;e.setValue("uploadProgress",d)}},signal:r.signal,metadata:yield this.getMetadataFor(e.uid)});return this.debugPrint("upload options",a,l),w_(a,l)}),o=yield this.$["*uploadQueue"].add(i);e.setMultipleValues({fileInfo:o,isQueued:!1,isUploading:!1,fileName:o.originalFilename,fileSize:o.size,isImage:o.isImage??!1,mimeType:o.contentInfo?.mime?.mime??o.mimeType,uuid:o.uuid,cdnUrl:e.getValue("cdnUrl")??o.cdnUrl,cdnUrlModifiers:e.getValue("cdnUrlModifiers")??"",uploadProgress:100,source:e.getValue("source")??null}),e===this._entry&&this._debouncedCalculateState()}catch(r){r instanceof Us&&r.isCancel?e.setMultipleValues({isUploading:!1,uploadProgress:0}):r instanceof mc?e.setMultipleValues({isUploading:!1,uploadProgress:0,uploadError:r}):(console.error("Unknown upload error",r),e.setMultipleValues({isUploading:!1,uploadProgress:0,uploadError:new Error("Something went wrong",{cause:r})})),e===this._entry&&this._debouncedCalculateState()}}}))};Mu.template=`
  <div class="uc-inner" set="@finished: isFinished; @uploading: isUploading; @failed: isFailed; @focused: isFocused">
    <uc-thumb set="uid:uid;badgeIcon:badgeIcon"></uc-thumb>

    <div aria-atomic="true" aria-live="polite" class="uc-file-name-wrapper" set="@aria-label:ariaLabelStatusFile;">
      <span class="uc-file-name" set="@hidden: !showFileNames">{{itemName}}</span>
      <span class="uc-file-error" set="@hidden: !errorText;">{{errorText}}</span>
      <span class="uc-file-hint" set="@hidden: !hint">{{hint}}</span>
    </div>
    <div class="uc-file-actions">
      <button
        type="button"
        l10n="@title:file-item-edit-button;@aria-label:file-item-edit-button"
        class="uc-edit-btn uc-mini-btn"
        set="onclick: onEdit; @hidden: !isEditable"
      >
        <uc-icon name="edit-file"></uc-icon>
      </button>
      <button
        type="button"
        l10n="@title:file-item-remove-button;@aria-label:file-item-remove-button"
        class="uc-remove-btn uc-mini-btn"
        set="onclick: onRemove;"
      >
        <uc-icon name="remove-file"></uc-icon>
      </button>
      <button type="button" class="uc-upload-btn uc-mini-btn" set="onclick: onUpload;">
        <uc-icon name="upload"></uc-icon>
      </button>
    </div>
    <uc-progress-bar
      class="uc-progress-bar"
      set="value: progressValue; visible: progressVisible; @hasFileName: showFileNames;"
    >
    </uc-progress-bar>
  </div>
`;Mu.activeInstances=new Set;var tC=null,bN=(()=>{class n extends le{static styleAttrs=[...super.styleAttrs,"uc-modal"];static StateConsumerScope="modal";constructor(){super(),this.init$=N(x({},this.init$),{closeClicked:this._handleDialogClose})}_handleBackdropClick=()=>{this._closeDialog()};_closeDialog=()=>{this.modalManager?.close(this.id),this.modalManager.hasActiveModals||(document.body.style.overflow="")};_handleDialogClose=()=>{this._closeDialog()};_handleDialogMouseDown=t=>{this._mouseDownTarget=t.target};_handleDialogMouseUp=t=>{t.target===this.ref.dialog&&t.target===this._mouseDownTarget&&this._closeDialog()};show(){this.ref.dialog.showModal?(this.setAttribute("aria-modal","true"),this.ref.dialog.showModal()):this.ref.dialog.setAttribute("open",""),this.cfg.modalScrollLock&&(document.body.style.overflow="hidden")}hide(){this.ref.dialog.close?(this.setAttribute("aria-modal","false"),this.ref.dialog.close()):this.ref.dialog.removeAttribute("open")}_handleModalOpen({id:t}){t===this.id?(tC=t,this.show()):this.hide(),this.emit(et.MODAL_OPEN,{modalId:t},{debounce:!0})}_handleModalClose({id:t}){t===this.id&&this.hide(),this.emit(et.MODAL_CLOSE,{modalId:t,hasActiveModals:this.modalManager.hasActiveModals},{debounce:!0})}_handleModalCloseAll(){this.hide(),tC===this.id&&this.emit(et.MODAL_CLOSE,{modalId:tC,hasActiveModals:this.modalManager.hasActiveModals},{debounce:!0})}initCallback(){super.initCallback(),this.modalManager?.registerModal(this.id,this),this.ref.dialog.addEventListener("close",this._handleDialogClose),this.ref.dialog.addEventListener("mousedown",this._handleDialogMouseDown),this.ref.dialog.addEventListener("mouseup",this._handleDialogMouseUp),this.subConfigValue("modalBackdropStrokes",t=>{t?this.setAttribute("strokes",""):this.removeAttribute("strokes")}),this.handleModalOpen=this._handleModalOpen.bind(this),this.handleModalClose=this._handleModalClose.bind(this),this.handleModalCloseAll=this._handleModalCloseAll.bind(this),this.modalManager.subscribe(qt.OPEN,this.handleModalOpen),this.modalManager.subscribe(qt.CLOSE,this.handleModalClose),this.modalManager.subscribe(qt.CLOSE_ALL,this.handleModalCloseAll)}destroyCallback(){super.destroyCallback(),document.body.style.overflow="",this._mouseDownTarget=void 0,this.ref.dialog.removeEventListener("close",this._handleDialogClose),this.ref.dialog.removeEventListener("mousedown",this._handleDialogMouseDown),this.ref.dialog.removeEventListener("mouseup",this._handleDialogMouseUp),this.modalManager.unsubscribe(qt.OPEN,this.handleModalOpen),this.modalManager.unsubscribe(qt.CLOSE,this.handleModalClose),this.modalManager.unsubscribe(qt.CLOSE_ALL,this.handleModalCloseAll)}}return n.template=`
  <dialog ref="dialog">
    <slot></slot>
  </dialog>
`,n})();var yN=(()=>{class n extends Je{couldBeCtxOwner=!0;historyTracked=!0;activityType=V.activities.UPLOAD_LIST;constructor(){super(),this.init$=N(x({},this.init$),{doneBtnVisible:!1,doneBtnEnabled:!1,uploadBtnVisible:!1,addMoreBtnVisible:!1,addMoreBtnEnabled:!1,headerText:"",commonErrorMessage:"",hasFiles:!1,onAdd:()=>{this.api.initFlow(!0)},onUpload:()=>{this.emit(et.UPLOAD_CLICK),this.api.uploadAll(),this._throttledHandleCollectionUpdate()},onDone:()=>{this.emit(et.DONE_CLICK,this.api.getOutputCollectionState()),this.api.doneFlow()},onCancel:()=>{this.uploadCollection.clearAll()}})}_throttledHandleCollectionUpdate=Su(()=>{this.isConnected&&(this._updateUploadsState(),!this.couldOpenActivity&&this.$["*currentActivity"]===this.activityType&&this.historyBack())},300);_updateUploadsState(){let t=this.api.getOutputCollectionState(),r={total:t.totalCount,succeed:t.successCount,uploading:t.uploadingCount,failed:t.failedCount},i=!t.errors.some(f=>f.type==="TOO_MANY_FILES"||f.type==="TOO_FEW_FILES"),o=t.errors.some(f=>f.type==="TOO_MANY_FILES"),s=t.totalCount===(this.cfg.multiple?this.cfg.multipleMax:1),a=r.failed===0&&t.errors.length===0,c=!1,l=!1,u=!1;if(r.total-r.succeed-r.uploading-r.failed>0&&i)c=!0;else{l=!0;let f=this.cfg.groupOutput?!!t.group:!0;u=r.total===r.succeed&&i&&a&&f}this.set$({doneBtnVisible:l,doneBtnEnabled:u,uploadBtnVisible:c,addMoreBtnEnabled:r.total===0||!o&&!s,addMoreBtnVisible:!s||this.cfg.multiple}),this.bindL10n("headerText",()=>this._getHeaderText(r))}_getHeaderText(t){let r=i=>{let o=t[i];return this.l10n(`header-${i}`,{count:o})};return t.uploading>0?r("uploading"):t.failed>0?r("failed"):t.succeed>0?r("succeed"):r("total")}get couldOpenActivity(){return this.cfg.showEmptyList||this.uploadCollection.size>0}initCallback(){super.initCallback(),this.registerActivity(this.activityType),this.subConfigValue("multiple",this._throttledHandleCollectionUpdate),this.subConfigValue("multipleMin",this._throttledHandleCollectionUpdate),this.subConfigValue("multipleMax",this._throttledHandleCollectionUpdate),this.sub("*groupInfo",t=>{t&&this._throttledHandleCollectionUpdate()}),this.subConfigValue("filesViewMode",t=>{this.setAttribute("mode",t)}),this.sub("*currentActivity",t=>{!this.couldOpenActivity&&t===this.activityType&&(this.$["*currentActivity"]=this.initActivity)}),this.uploadCollection.observeProperties(this._throttledHandleCollectionUpdate),this.sub("*uploadList",t=>{this._throttledHandleCollectionUpdate(),this.set$({hasFiles:t.length>0}),this.cfg.confirmUpload||this.api.uploadAll()},!1),this.sub("*collectionErrors",t=>{let r=t.filter(i=>i.type!=="SOME_FILES_HAS_ERRORS")[0];if(!r){this.set$({commonErrorMessage:null});return}this.set$({commonErrorMessage:r.message})})}destroyCallback(){super.destroyCallback(),this.uploadCollection.unobserveProperties(this._throttledHandleCollectionUpdate)}}return n.template=`
  <uc-activity-header>
    <span aria-live="polite" class="uc-header-text">{{headerText}}</span>
    <button
      type="button"
      class="uc-mini-btn uc-close-btn"
      set="onclick: *closeModal"
      l10n="@title:a11y-activity-header-button-close;@aria-label:a11y-activity-header-button-close"
    >
      <uc-icon name="close"></uc-icon>
    </button>
  </uc-activity-header>

  <div class="uc-no-files" set="@hidden: hasFiles">
    <slot name="empty"><span l10n="no-files"></span></slot>
  </div>

  <div class="uc-files">
    <div class="uc-files-wrapper" repeat="*uploadList" repeat-item-tag="uc-file-item"></div>
    <button
      type="button"
      class="uc-add-more-btn uc-secondary-btn"
      set="onclick: onAdd; @disabled: !addMoreBtnEnabled; @hidden: !addMoreBtnVisible"
    >
      <uc-icon name="add"></uc-icon><span l10n="add-more"></span>
    </button>
  </div>

  <div class="uc-common-error" set="@hidden: !commonErrorMessage; textContent: commonErrorMessage;"></div>

  <div class="uc-toolbar">
    <button type="button" class="uc-cancel-btn uc-secondary-btn" set="onclick: onCancel;" l10n="clear"></button>
    <div class="uc-toolbar-spacer"></div>
    <button
      type="button"
      class="uc-add-more-btn uc-secondary-btn"
      set="onclick: onAdd; @disabled: !addMoreBtnEnabled; @hidden: !addMoreBtnVisible"
    >
      <uc-icon name="add"></uc-icon><span l10n="add-more"></span>
    </button>
    <button
      type="button"
      class="uc-upload-btn uc-primary-btn"
      set="@hidden: !uploadBtnVisible; onclick: onUpload;"
      l10n="upload"
    ></button>
    <button
      type="button"
      class="uc-done-btn uc-primary-btn"
      set="@hidden: !doneBtnVisible; onclick: onDone;  @disabled: !doneBtnEnabled"
      l10n="done"
    ></button>
  </div>

  <uc-drop-area ghost></uc-drop-area>
`,n})();var vN=(()=>{class n extends Je{couldBeCtxOwner=!0;activityType=V.activities.URL;init$=N(x({},this.init$),{importDisabled:!0,onUpload:t=>{t.preventDefault();let r=this.ref.input.value;this.api.addFileFromUrl(r,{source:bt.URL}),this.modalManager.open(V.activities.UPLOAD_LIST),this.$["*currentActivity"]=V.activities.UPLOAD_LIST},onCancel:()=>{this.historyBack()},onInput:t=>{let r=t.target.value;this.set$({importDisabled:!r})}});initCallback(){super.initCallback(),this.registerActivity(this.activityType,{onActivate:()=>{this.ref.input.value="",this.ref.input.focus()}})}}return n.template=`
  <uc-activity-header>
    <button type="button" class="uc-mini-btn" set="onclick: *historyBack" l10n="@title:back;@aria-label:back">
      <uc-icon name="back"></uc-icon>
    </button>
    <div>
      <uc-icon name="url"></uc-icon>
      <span l10n="caption-from-url"></span>
    </div>
    <button
      type="button"
      class="uc-mini-btn uc-close-btn"
      set="onclick: *closeModal"
      l10n="@title:a11y-activity-header-button-close;@aria-label:a11y-activity-header-button-close"
    >
      <uc-icon name="close"></uc-icon>
    </button>
  </uc-activity-header>
  <form class="uc-content">
    <input placeholder="https://" class="uc-url-input" type="text" ref="input" set="oninput: onInput" />
    <button
      type="submit"
      class="uc-url-upload-btn uc-primary-btn"
      set="onclick: onUpload; @disabled: importDisabled"
      l10n="upload-url"
    ></button>
  </form>
`,n})();var xN=()=>typeof navigator.permissions<"u";var hG={width:{ideal:1920},height:{ideal:1080},frameRate:{ideal:30}},wN=["camera","microphone"];function ib(n){let e=Math.floor(n/60).toString().padStart(2,"0"),t=Math.floor(n%60).toString().padStart(2,"0");return`${e}:${t}`}var _N="image/jpeg",CN="video/webm",EN=(()=>{class n extends Je{couldBeCtxOwner=!0;activityType=V.activities.CAMERA;_unsubPermissions=null;_chunks=[];_mediaRecorder=null;_stream=null;_selectedAudioId=null;_selectedCameraId=null;constructor(){super(),this.init$=N(x({},this.init$),{video:null,videoTransformCss:null,videoHidden:!0,messageHidden:!0,requestBtnHidden:xN(),cameraSelectOptions:null,cameraSelectHidden:!0,l10nMessage:"",switcher:null,panels:null,timer:null,timerHidden:!0,cameraHidden:!0,cameraActionsHidden:!0,audioSelectOptions:null,audioSelectHidden:!0,audioSelectDisabled:!0,audioToggleMicrophoneHidden:!0,tabCameraHidden:!0,tabVideoHidden:!0,currentIcon:"camera-full",currentTimelineIcon:"play",toggleMicrophoneIcon:"microphone",_startTime:0,_elapsedTime:0,_animationFrameId:null,mutableClassButton:"uc-shot-btn uc-camera-action",onCameraSelectChange:t=>{this._selectedCameraId=t.target.value,this._capture()},onAudioSelectChange:t=>{this._selectedAudioId=t.target.value,this._capture()},onCancel:()=>{this.historyBack()},onShot:()=>this._shot(),onRequestPermissions:()=>this._capture(),onStartCamera:()=>this._chooseActionWithCamera(),onStartRecording:()=>this._startRecording(),onStopRecording:()=>this._stopRecording(),onToggleRecording:()=>this._toggleRecording(),onToggleAudio:()=>this._toggleEnableAudio(),onRetake:()=>this._retake(),onAccept:()=>this._accept(),onClickTab:t=>{let r=t.currentTarget.getAttribute("data-id");r&&this._handleActiveTab(r)}})}_chooseActionWithCamera=()=>{if(this._activeTab===Te.PHOTO&&this._shot(),this._activeTab===Te.VIDEO){if(this._mediaRecorder?.state==="recording"){this._stopRecording();return}this._startRecording()}};_updateTimer=()=>{let t=Math.floor((performance.now()-this.$._startTime+this.$._elapsedTime)/1e3);if(typeof this.cfg.maxVideoRecordingDuration=="number"&&this.cfg.maxVideoRecordingDuration>0){let r=this.cfg.maxVideoRecordingDuration-t;if(r<=0){this.ref.timer.textContent=ib(r),this._stopRecording();return}this.ref.timer.textContent=ib(r)}else this.ref.timer.textContent=ib(t);this._animationFrameId=requestAnimationFrame(this._updateTimer)};_startTimer=()=>{this.$._startTime=performance.now(),this.$._elapsedTime=0,this._updateTimer()};_stopTimer=()=>{this._animationFrameId&&cancelAnimationFrame(this._animationFrameId)};_startTimeline=()=>{let t=this.ref.video.currentTime,r=this.ref.video.duration;this.ref.line.style.transform=`scaleX(${t/r})`,this.ref.timer.textContent=ib(t),this._animationFrameId=requestAnimationFrame(this._startTimeline)};_stopTimeline=()=>{this._animationFrameId&&cancelAnimationFrame(this._animationFrameId)};_startRecording=()=>{try{this._chunks=[],this._options=x({},this.cfg.mediaRecorderOptions);let{mimeType:t}=this.cfg.mediaRecorderOptions||{};t&&MediaRecorder.isTypeSupported(t)?this._options.mimeType=t:MediaRecorder.isTypeSupported(CN)?this._options.mimeType=CN:this._options.mimeType="video/mp4",this._stream&&(this._mediaRecorder=new MediaRecorder(this._stream,this._options),this._mediaRecorder.start(),this._mediaRecorder.addEventListener("dataavailable",r=>{this._chunks.push(r.data)}),this._startTimer(),this.classList.add("uc-recording"),this._setCameraState(Br.PLAY))}catch(t){console.error("Failed to start recording",t)}};_stopRecording=()=>{this._mediaRecorder?.addEventListener("stop",()=>{this._previewVideo(),this._stopTimer(),this._setCameraState(Br.STOP)}),this._mediaRecorder?.stop(),this.classList.remove("uc-recording")};_toggleRecording=()=>{this._mediaRecorder?.state!=="recording"&&(!this.ref.video.paused&&!this.ref.video.ended&&this.ref.video.readyState>2?this.ref.video.pause():this.ref.video.paused&&this.ref.video.play())};_toggleEnableAudio=()=>{this._stream?.getAudioTracks().forEach(t=>{t.enabled=!t.enabled,this.$.toggleMicrophoneIcon=t.enabled?"microphone":"microphone-mute",this.$.audioSelectDisabled=!t.enabled})};_previewVideo=()=>{try{let t=new Blob(this._chunks,{type:this._mediaRecorder?.mimeType}),r=URL.createObjectURL(t);this.ref.video.muted=!1,this.ref.video.volume=1,this.$.video=null,this.ref.video.src=r,this.ref.video.addEventListener("play",()=>{this._startTimeline(),this.set$({currentTimelineIcon:"pause"})}),this.ref.video.addEventListener("pause",()=>{this.set$({currentTimelineIcon:"play"}),this._stopTimeline()})}catch(t){console.error("Failed to preview video",t)}};_retake=()=>{this._setCameraState(Br.RETAKE),this._activeTab===Te.VIDEO&&(this.$.video=this._stream,this.ref.video.muted=!0),this.ref.video.play()};_accept=()=>{if(this._setCameraState(Br.ACCEPT),this._activeTab===Te.PHOTO){this._canvas?.toBlob(o=>{let s=this._createFile("camera","jpeg",_N,o);this._toSend(s)},_N);return}let t=new Blob(this._chunks,{type:this._mediaRecorder?.mimeType}),r=this._guessExtensionByMime(this._mediaRecorder?.mimeType),i=this._createFile("video",r,`video/${r}`,t);this._toSend(i),this._chunks=[]};_handlePhoto=t=>{t===Br.SHOT&&this.set$({tabVideoHidden:!0,cameraHidden:!0,tabCameraHidden:!0,cameraActionsHidden:!1,cameraSelectHidden:!0}),(t===Br.RETAKE||t===Br.ACCEPT)&&this.set$({tabVideoHidden:!this._cameraModes.includes(Te.VIDEO),tabCameraHidden:!this._cameraModes.includes(Te.PHOTO),cameraHidden:!1,cameraActionsHidden:!0,cameraSelectHidden:this._cameraDevices.length<=1})};_handleVideo=t=>{t===Br.PLAY&&this.set$({timerHidden:!1,tabCameraHidden:!0,cameraSelectHidden:!0,audioSelectHidden:!0,currentTimelineIcon:"pause",currentIcon:"square",mutableClassButton:"uc-shot-btn uc-camera-action uc-stop-record"}),t===Br.STOP&&this.set$({timerHidden:!1,cameraHidden:!0,audioToggleMicrophoneHidden:!0,cameraActionsHidden:!1}),(t===Br.RETAKE||t===Br.ACCEPT)&&this.set$({timerHidden:!0,tabVideoHidden:!this._cameraModes.includes(Te.VIDEO),tabCameraHidden:!this._cameraModes.includes(Te.PHOTO),cameraHidden:!1,cameraActionsHidden:!0,audioToggleMicrophoneHidden:!this.cfg.enableAudioRecording,currentIcon:"video-camera-full",mutableClassButton:"uc-shot-btn uc-camera-action",audioSelectHidden:!this.cfg.enableAudioRecording||this._audioDevices.length<=1,cameraSelectHidden:this._cameraDevices.length<=1})};_setCameraState=t=>{this._activeTab===Te.PHOTO&&(t==="shot"||t==="retake"||t==="accept")&&this._handlePhoto(t),this._activeTab===Te.VIDEO&&(t==="play"||t==="stop"||t==="retake"||t==="accept"||t==="pause"||t==="resume")&&this._handleVideo(t)};_shot(){if(this._setCameraState("shot"),this._canvas=document.createElement("canvas"),this._ctx=this._canvas.getContext("2d"),!this._ctx)throw new Error("Failed to get canvas context");this._canvas.height=this.ref.video.videoHeight,this._canvas.width=this.ref.video.videoWidth,this.cfg.cameraMirror&&(this._ctx.translate(this._canvas.width,0),this._ctx.scale(-1,1)),this._ctx.drawImage(this.ref.video,0,0),this.ref.video.pause()}_handleActiveTab=t=>{this.ref.switcher.querySelectorAll("button").forEach(r=>{r.classList.toggle("uc-active",r.getAttribute("data-id")===t)}),t===Te.PHOTO&&this.set$({currentIcon:"camera-full",audioSelectHidden:!0,audioToggleMicrophoneHidden:!0}),t===Te.VIDEO&&this.set$({currentTimelineIcon:"play",currentIcon:"video-camera-full",audioSelectHidden:!this.cfg.enableAudioRecording||this._audioDevices.length<=1,audioToggleMicrophoneHidden:!this.cfg.enableAudioRecording}),this._activeTab=t};_createFile=(t,r,i,o)=>{let s=Date.now(),a=`${t}-${s}.${r}`;return new File([o],a,{lastModified:s,type:i})};_guessExtensionByMime(t){let r={mp4:"mp4",ogg:"ogg",webm:"webm",quicktime:"mov","x-matroska":"mkv"};if(t==="")return"webm";if(t&&(t=t.split("/"),t?.[0]==="video")){t=t.slice(1).join("/");let i=t?.split(";")[0];if(r[i])return r[i]}return"avi"}_toSend=t=>{this.api.addFileFromObject(t,{source:bt.CAMERA}),this.set$({"*currentActivity":V.activities.UPLOAD_LIST}),this.modalManager.open(V.activities.UPLOAD_LIST)};get _cameraModes(){return mn(this.cfg.cameraModes)}_setPermissionsState=gt(t=>{this.classList.toggle("uc-initialized",t==="granted");let r=this._activeTab===Te.VIDEO&&this.cfg.enableAudioRecording,i=this._activeTab===Te.PHOTO?"camera-full":"video-camera-full";t==="granted"?this.set$({videoHidden:!1,cameraHidden:!1,tabCameraHidden:!this._cameraModes.includes(Te.PHOTO),tabVideoHidden:!this._cameraModes.includes(Te.VIDEO),messageHidden:!0,timerHidden:!0,currentIcon:i,audioToggleMicrophoneHidden:!r,audioSelectHidden:!r}):t==="prompt"?(this.$.l10nMessage="camera-permissions-prompt",this.set$({videoHidden:!0,cameraHidden:!0,tabCameraHidden:!0,messageHidden:!1}),this._stopCapture()):(this.$.l10nMessage="camera-permissions-denied",this.set$({videoHidden:!0,messageHidden:!1,tabCameraHidden:!this._cameraModes.includes(Te.PHOTO),tabVideoHidden:!this._cameraModes.includes(Te.VIDEO),cameraActionsHidden:!0,mutableClassButton:"uc-shot-btn uc-camera-action"}),this._stopCapture())},300);_makeStreamInactive=()=>{if(!this._stream)return!1;let t=this._stream?.getAudioTracks(),r=this._stream?.getVideoTracks();t.forEach(i=>i.stop()),r.forEach(i=>i.stop())};_stopCapture=()=>{this._capturing&&(this.ref.video.volume=0,this.$.video?.getTracks()[0].stop(),this.$.video=null,this._makeStreamInactive(),this._stopTimer(),this._capturing=!1)};_capture=()=>h(this,null,function*(){let t={video:hG,audio:this.cfg.enableAudioRecording?{}:!1};this._selectedCameraId&&(t.video={deviceId:{exact:this._selectedCameraId}}),this._selectedAudioId&&this.cfg.enableAudioRecording&&(t.audio={deviceId:{exact:this._selectedAudioId}}),this.ref.video.volume=0;try{this._setPermissionsState("prompt"),this._stream=yield navigator.mediaDevices.getUserMedia(t),this._stream.addEventListener("inactive",()=>{this._setPermissionsState("denied")}),this.$.video=this._stream,this._capturing=!0,this._setPermissionsState("granted")}catch(r){this._setPermissionsState("denied"),console.log("Failed to capture camera",r)}});_handlePermissionsChange=()=>{this._capture()};_permissionAccess=()=>h(this,null,function*(){try{for(let t of wN)this[`${t}Response`]=yield navigator.permissions.query({name:t}),this[`${t}Response`].addEventListener("change",this._handlePermissionsChange)}catch(t){console.log("Failed to use permissions API. Fallback to manual request mode.",t),this._capture()}});_getPermission=()=>{};_requestDeviceAccess=()=>h(this,null,function*(){try{yield navigator.mediaDevices.getUserMedia({video:!0,audio:this.cfg.enableAudioRecording}),yield this._getDevices(),navigator.mediaDevices.addEventListener("devicechange",this._getDevices)}catch(t){console.log("Failed to get user media",t)}});_getDevices=()=>h(this,null,function*(){try{let t=yield navigator.mediaDevices.enumerateDevices();this._cameraDevices=t.filter(r=>r.kind==="videoinput").map((r,i)=>({text:r.label.trim()||`${this.l10n("caption-camera")} ${i+1}`,value:r.deviceId})),this._audioDevices=this.cfg.enableAudioRecording&&t.filter(r=>r.kind==="audioinput").map(r=>({text:r.label.trim(),value:r.deviceId})),this._cameraDevices.length>1&&this.set$({cameraSelectOptions:this._cameraDevices,cameraSelectHidden:!1}),this._selectedCameraId=this._cameraDevices[0]?.value,this._audioDevices.length>1&&this.set$({audioSelectOptions:this._audioDevices,audioSelectHidden:!1}),this._selectedAudioId=this._audioDevices[0]?.value}catch(t){console.log("Failed to get devices",t)}});_onActivate=()=>h(this,null,function*(){yield this._permissionAccess(),yield this._requestDeviceAccess(),yield this._capture(),this._handleCameraModes(this._cameraModes)});_onDeactivate=()=>h(this,null,function*(){this._unsubPermissions&&this._unsubPermissions(),!!window.chrome||this._setPermissionsState("denied"),this._stopCapture()});_handleCameraModes=t=>{this.$.tabVideoHidden=!t.includes(Te.VIDEO),this.$.tabCameraHidden=!t.includes(Te.PHOTO);let r=t[0];(!this._activeTab||!t.includes(this._activeTab))&&this._handleActiveTab(r)};initCallback(){super.initCallback(),this.registerActivity(this.activityType,{onActivate:this._onActivate,onDeactivate:this._onDeactivate}),this.subConfigValue("cameraMirror",t=>{this.$.videoTransformCss=t?"scaleX(-1)":null}),this.subConfigValue("enableAudioRecording",t=>{this.$.audioToggleMicrophoneHidden=!t,this.$.audioSelectDisabled=!t}),this.subConfigValue("cameraModes",t=>{if(!this.isActivityActive)return;let r=Jn(t);this._handleCameraModes(r)})}_destroy(){for(let t of wN)this[`${t}Response`]?.removeEventListener("change",this._handlePermissionsChange);navigator.mediaDevices?.removeEventListener("devicechange",this._getDevices)}destroyCallback(){return h(this,null,function*(){kt(n.prototype,this,"destroyCallback").call(this),this._destroy()})}}return n.template=`
  <uc-activity-header>
    <button type="button" class="uc-mini-btn" set="onclick: *historyBack" l10n="@title:back">
      <uc-icon name="back"></uc-icon>
    </button>
    <div set="@hidden: !cameraSelectHidden">
      <uc-icon name="camera"></uc-icon>
      <span l10n="caption-camera"></span>
    </div>
    <uc-select
      class="uc-camera-select"
      set="$.options: cameraSelectOptions; @hidden: cameraSelectHidden; onchange: onCameraSelectChange"
    >
    </uc-select>
    <button
      type="button"
      class="uc-mini-btn uc-close-btn"
      set="onclick: *closeModal"
      l10n="@title:a11y-activity-header-button-close;@aria-label:a11y-activity-header-button-close"
    >
      <uc-icon name="close"></uc-icon>
    </button>
  </uc-activity-header>
  <div class="uc-content">
    <video
      muted
      autoplay
      playsinline
      set="srcObject: video; style.transform: videoTransformCss; @hidden: videoHidden"
      ref="video"
    ></video>
    <div class="uc-message-box" set="@hidden: messageHidden">
      <span l10n="l10nMessage"></span>
      <button
        type="button"
        set="onclick: onRequestPermissions; @hidden: requestBtnHidden"
        l10n="camera-permissions-request"
      ></button>
    </div>
  </div>

  <div class="uc-controls">
    <div ref="switcher" class="uc-switcher" set="@hidden:!timerHidden">
      <button
        data-id="photo"
        type="button"
        class="uc-switch uc-mini-btn"
        set="onclick: onClickTab;  @hidden: tabCameraHidden"
      >
        <uc-icon name="camera"></uc-icon>
      </button>
      <button
        data-id="video"
        type="button"
        class="uc-switch uc-mini-btn"
        set="onclick: onClickTab; @hidden: tabVideoHidden"
      >
        <uc-icon name="video-camera"></uc-icon>
      </button>
    </div>

    <button class="uc-secondary-btn uc-recording-timer" set="@hidden:timerHidden; onclick: onToggleRecording">
      <uc-icon set="@name: currentTimelineIcon"></uc-icon>
      <span ref="timer"> 00:00 </span>
      <span ref="line" class="uc-line"></span>
    </button>

    <div class="uc-camera-actions uc-camera-action" set="@hidden: cameraActionsHidden">
      <button type="button" class="uc-secondary-btn" set="onclick: onRetake">Retake</button>
      <button type="button" class="uc-primary-btn" set="onclick: onAccept">Accept</button>
    </div>

    <button
      type="button"
      class="uc-shot-btn uc-camera-action"
      set="onclick: onStartCamera; @class: mutableClassButton; @hidden: cameraHidden;"
    >
      <uc-icon set="@name: currentIcon"></uc-icon>
    </button>

    <div class="uc-select">
      <button class="uc-mini-btn uc-btn-microphone" set="onclick: onToggleAudio; @hidden: audioToggleMicrophoneHidden;">
        <uc-icon set="@name:toggleMicrophoneIcon"></uc-icon>
      </button>

      <uc-select
        class="uc-audio-select"
        set="$.options: audioSelectOptions; onchange: onAudioSelectChange; @hidden: audioSelectHidden; @disabled: audioSelectDisabled"
      >
      </uc-select>
    </div>
  </div>
`,n})();var pG=(()=>{class n extends Je{requireCtxName=!0;initCallback(){super.initCallback(),this.$["*eventEmitter"].bindTarget(this)}destroyCallback(){super.destroyCallback(),this.$["*eventEmitter"].unbindTarget(this)}}return n.EventType=et,n})(),AN=pG;var IN=(()=>{class n extends Je{init$=N(x({},this.init$),{visible:!1,value:0,"*commonProgress":0});initCallback(){super.initCallback(),this._unobserveCollection=this.uploadCollection.observeProperties(()=>{let t=this.uploadCollection.items().some(r=>this.uploadCollection.read(r).getValue("isUploading"));this.$.visible=t}),this.sub("visible",t=>{t?this.setAttribute("active",""):this.removeAttribute("active")}),this.sub("*commonProgress",t=>{this.$.value=t})}destroyCallback(){super.destroyCallback(),this._unobserveCollection?.()}}return n.template=' <uc-progress-bar set="visible: visible; value: value"></uc-progress-bar> ',n})();var DN=(()=>{class n extends le{_value=0;_prevValue=0;_visible=!0;constructor(){super(),this.init$=N(x({},this.init$),{width:0,opacity:0})}initCallback(){super.initCallback();let t=()=>{let r=this.ref.fakeProgressLine;if(!this._visible){r.classList.add("uc-fake-progress--hidden");return}this._value>0&&r.classList.add("uc-fake-progress--hidden")};this.ref.fakeProgressLine.addEventListener("animationiteration",t),this.defineAccessor("value",r=>{r!=null&&(this._prevValue=this._value,this._value=r,this._visible&&this.style.setProperty("--l-progress-value",this._value.toString()))}),this.defineAccessor("visible",r=>{this._visible=r,this.classList.toggle("uc-progress-bar--hidden",!r)})}}return n.template=`
  <div ref="fakeProgressLine" class="uc-fake-progress"></div>
  <div ref="realProgressLine" class="uc-progress"></div>
`,n})();var $i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=";function SN(...n){return n.reduce((e,t)=>{if(typeof t=="string")return e[t]=!0,e;for(let r of Object.keys(t))e[r]=t[r];return e},{})}function gn(...n){let e=SN(...n);return Object.keys(e).reduce((t,r)=>(e[r]&&t.push(r),t),[]).join(" ")}function TN(n,...e){let t=SN(...e);for(let r of Object.keys(t))n.classList.toggle(r,t[r])}var MN=n=>{if(!n)return Yn;let e=Jn(n).filter(t=>Yn.includes(t));return e.length===0?Yn:e};function kN(n){return{"*originalUrl":null,"*faderEl":null,"*cropperEl":null,"*imgEl":null,"*imgContainerEl":null,"*networkProblems":!1,"*imageSize":null,"*editorTransformations":{},"*cropPresetList":[],"*tabList":Yn,"*tabId":wt.CROP,entry:null,extension:null,editorMode:!1,modalCaption:"",isImage:!1,msg:"",src:$i,fileType:"",showLoader:!1,uuid:null,cdnUrl:null,cropPreset:"",tabs:Ro(Yn),"presence.networkProblems":!1,"presence.modalCaption":!0,"presence.editorToolbar":!1,"presence.viewerToolbar":!0,"*on.retryNetwork":()=>{let e=n.querySelectorAll("img");for(let t of e){let r=t.src;t.src=$i,t.src=r}n.$["*networkProblems"]=!1},"*on.apply":e=>{if(!e)return;let t=n.$["*originalUrl"],r=Rn(Bs(e),"preview"),i=Xt(t,r),o={originalUrl:t,cdnUrlModifiers:r,cdnUrl:i,transformations:e};n.dispatchEvent(new CustomEvent("apply",{detail:o,bubbles:!0,composed:!0})),n.remove()},"*on.cancel":()=>{n.remove(),n.dispatchEvent(new CustomEvent("cancel",{bubbles:!0,composed:!0}))}}}var NN="<svg width='0' height='0' style='position:absolute'><symbol viewBox='0 0 20 20' id='uc-icon-brightness' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M15 10a5 5 0 0 1-5 5m5-5a5 5 0 0 0-5-5m5 5h-5m0 5a5 5 0 0 1 0-10m0 10V5m0 15v-3M2.93 2.929 5.05 5.05M0 10h3m-.07 7.071 2.12-2.121M10 0v3m7.07 14.071-2.12-2.121M20 10h-3m.07-7.071L14.95 5.05m-.626 2.45H10m4.324 5H10'/></symbol><symbol fill='currentColor' viewBox='0 0 20 20' id='uc-icon-closeMax' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' d='M8.232 10 3.585 5.353l1.768-1.768L10 8.232l4.648-4.647 1.767 1.768L11.768 10l4.647 4.648-1.767 1.767L10 11.768l-4.647 4.647-1.768-1.767L8.232 10Z' clip-rule='evenodd'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-contrast' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M2 10a8 8 0 1 0 16 0 8 8 0 1 0-16 0m8-8v16m8-8h-8m7.598 2.5H10m6.24 2.5H10m7.6-7.5H10M16.242 5H10'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-crop' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M20 14H7.005C6.45 14 6 13.55 6 12.995V0M0 6h13.067c.515 0 .933.418.933.933V20M14.5.4 13 2l1.5 1.6M13 2h2a3 3 0 0 1 3 3v2M5.5 19.6 7 18l-1.5-1.6M7 18H5a3 3 0 0 1-3-3v-2'/></symbol><symbol fill='currentColor' viewBox='0 0 20 20' id='uc-icon-done' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' d='m18.057 6.333-9.365 9.125a1.25 1.25 0 0 1-1.768-.023L1.92 10.296l1.791-1.744 4.132 4.243 8.47-8.253 1.744 1.79Z' clip-rule='evenodd'/></symbol><symbol fill='currentColor' viewBox='0 0 25 24' id='uc-icon-edit-file' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' d='M18.558 2.804a.78.78 0 0 0-.557.235l-.008.007-2.472 2.46 3.847 3.848 2.46-2.473.004-.003a.78.78 0 0 0 0-1.108l-.004-.003-2.712-2.728a.78.78 0 0 0-.558-.235Zm-.248 7.613-3.852-3.852-8.93 8.887-1.516 5.41 5.41-1.515 8.888-8.93Zm-.636-8.934a2.28 2.28 0 0 1 2.512.505l2.702 2.717.002.002a2.278 2.278 0 0 1 0 3.234l-.002.002-12.541 12.602a.75.75 0 0 1-.33.193l-6.884 1.928a.75.75 0 0 1-.925-.924l1.928-6.885a.75.75 0 0 1 .193-.33l12.603-12.54a2.28 2.28 0 0 1 .742-.504Z' clip-rule='evenodd'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-enhance' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M19 13h-2m0 0a4 4 0 0 1-4-4m4 4a4 4 0 0 0-4 4m0-8V7m0 2a4 4 0 0 1-4 4m-2 0h2m0 0a4 4 0 0 1 4 4m0 0v2M8 8.5H6.5m0 0a2 2 0 0 1-2-2m2 2a2 2 0 0 0-2 2m0-4V5m0 1.5a2 2 0 0 1-2 2M1 8.5h1.5m0 0a2 2 0 0 1 2 2m0 0V12M12 3h-1m0 0a1 1 0 0 1-1-1m1 1a1 1 0 0 0-1 1m0-2V1m0 1a1 1 0 0 1-1 1M8 3h1m0 0a1 1 0 0 1 1 1m0 0v1'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-exposure' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M10 20v-3M2.93 2.929 5.05 5.05M0 10h3m-.07 7.071 2.12-2.121M10 0v3m7.07 14.071-2.12-2.121M20 10h-3m.07-7.071L14.95 5.05M5 10a5 5 0 1 0 10 0 5 5 0 1 0-10 0'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-filters' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M4.5 6.5a5.5 5.5 0 1 0 11 0 5.5 5.5 0 1 0-11 0m-3.5 6a5.5 5.5 0 1 0 11 0 5.5 5.5 0 1 0-11 0m7 0a5.5 5.5 0 1 0 11 0 5.5 5.5 0 1 0-11 0'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-flip' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M19.6 5 18 3.5 16.4 5m3.2 10L18 16.5 16.4 15M18 3.523v12.954M3.3 8.5h10.654c.301 0 .415-.395.159-.554L3.459 1.286A.3.3 0 0 0 3 1.542V8.2a.3.3 0 0 0 .3.3zm0 3h10.654c.301 0 .415.395.159.554l-10.654 6.66A.3.3 0 0 1 3 18.458v-6.66a.3.3 0 0 1 .3-.3z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-gamma' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M17 3C9 6 2.5 11.5 2.5 17.5m0 0h1m-1 0v-1m14 1h1m-3 0h1m-3 0h1m-3 0h1m-3 0h1m-3 0h1m-3 0h1m-3-14v-1m0 3v-1m0 3v-1m0 3v-1m0 3v-1m0 3v-1m0 3v-1'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-mirror' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M5 .4 3.5 2 5 3.6M15 .4 16.5 2 15 3.6M3.52 2h12.957M8.5 16.7V6.046c0-.301-.394-.415-.554-.159L1.287 16.541a.3.3 0 0 0 .255.459H8.2a.3.3 0 0 0 .3-.3zm3 0V6.046c0-.301.395-.415.555-.159l6.659 10.654a.3.3 0 0 1-.255.459H11.8a.3.3 0 0 1-.3-.3z'/></symbol><symbol viewBox='0 0 40 40' id='uc-icon-original' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.5' d='M0 40 40 0'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-rotate' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M13.5.4 12 2l1.5 1.6M12.023 2H14.4A3.6 3.6 0 0 1 18 5.6V8M4 17h9a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-sad' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M2 17c4.418-4 11.582-4 16 0M16.5 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-11 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-saturation' xmlns='http://www.w3.org/2000/svg'><defs><linearGradient id='puc-icon-id__a' x1='10.001' y1='1' x2='10.001' y2='19' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient></defs><circle cx='10.001' cy='10' r='9' transform='rotate(90 10 10)' fill='url(#puc-icon-id__a)'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-slider' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M0 10h11m0 0a2 2 0 1 0 4 0m-4 0a2 2 0 1 1 4 0m0 0h5'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-tuning' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M8 10h11M1 10h4M1 4.5h11m3 0h4m-18 11h11m3 0h4m-7-11a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0m7 5.5a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-vibrance' xmlns='http://www.w3.org/2000/svg'><path d='M2.125 5.64A8.96 8.96 0 0 0 1.001 10a8.96 8.96 0 0 0 1.124 4.36V5.64z' fill='url(#suc-icon-id__a)'/><path d='M2.875 15.499V4.502a9.053 9.053 0 0 1 1.75-1.72v14.437a9.05 9.05 0 0 1-1.75-1.72z' fill='url(#suc-icon-id__b)'/><path d='M5.375 17.722c.548.33 1.134.601 1.75.809V1.469a8.956 8.956 0 0 0-1.75.81v15.443z' fill='url(#suc-icon-id__c)'/><path d='M7.875 1.253v17.495c.564.136 1.15.22 1.75.244V1.008a9 9 0 0 0-1.75.245z' fill='url(#suc-icon-id__d)'/><path d='M10.375 1.008v17.984a9 9 0 0 0 1.75-.244V1.252a9 9 0 0 0-1.75-.244z' fill='url(#suc-icon-id__e)'/><path d='M12.875 1.469V18.53a8.957 8.957 0 0 0 1.75-.808V2.277a8.957 8.957 0 0 0-1.75-.808z' fill='url(#suc-icon-id__f)'/><path d='M15.375 2.78v14.44a9.053 9.053 0 0 0 1.75-1.72v-11a9.054 9.054 0 0 0-1.75-1.72z' fill='url(#suc-icon-id__g)'/><path d='M17.875 5.638v8.724A8.959 8.959 0 0 0 19.001 10a8.96 8.96 0 0 0-1.126-4.362z' fill='url(#suc-icon-id__h)'/><defs><linearGradient id='suc-icon-id__a' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='suc-icon-id__b' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='suc-icon-id__c' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='suc-icon-id__d' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='suc-icon-id__e' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='suc-icon-id__f' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='suc-icon-id__g' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='suc-icon-id__h' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient></defs></symbol><symbol viewBox='0 0 20 20' id='uc-icon-warmth' xmlns='http://www.w3.org/2000/svg'><path d='m7.5 13.05.429.42.171-.175v-.244h-.6zm5 0h-.6v.245l.172.175.428-.42zM8.1 3.5c0-1.05.85-1.9 1.9-1.9V.4a3.1 3.1 0 0 0-3.1 3.1h1.2zm0 9.55V3.5H6.9v9.55h1.2zm-1 2.45c0-.79.315-1.506.829-2.03l-.858-.84A4.088 4.088 0 0 0 5.9 15.5h1.2zm2.9 2.9a2.9 2.9 0 0 1-2.9-2.9H5.9a4.1 4.1 0 0 0 4.1 4.1v-1.2zm2.9-2.9a2.9 2.9 0 0 1-2.9 2.9v1.2a4.1 4.1 0 0 0 4.1-4.1h-1.2zm-.829-2.03c.514.524.829 1.24.829 2.03h1.2c0-1.117-.447-2.13-1.171-2.87l-.858.84zM11.9 3.5v9.55h1.2V3.5h-1.2zM10 1.6c1.05 0 1.9.85 1.9 1.9h1.2A3.1 3.1 0 0 0 10 .4v1.2z' fill='currentColor'/><path d='M10 14V8' stroke='currentColor' stroke-width='1.2' stroke-linecap='round'/><path d='M14 3h3m-3 3h3m-3 3h3m-8 6.5a1 1 0 1 0 2 0 1 1 0 1 0-2 0' stroke='currentColor' stroke-width='1.2'/></symbol></svg>";var ON=`
  ${NN}
  <div class="uc-wrapper uc-wrapper_desktop">
    <uc-presence-toggle class="uc-network_problems_splash" set="visible: presence.networkProblems;">
      <div class="uc-network_problems_content">
        <div class="uc-network_problems_icon">
          <uc-icon name="sad"></uc-icon>
        </div>
        <div class="uc-network_problems_text">Network error</div>
      </div>
      <div class="uc-network_problems_footer">
        <uc-btn-ui theme="primary" text="Retry" set="onclick: *on.retryNetwork"></uc-btn-ui>
      </div>
    </uc-presence-toggle>
    <div class="uc-viewport">
      <div class="uc-file_type_outer">
        <div class="uc-file_type">{{fileType}}</div>
      </div>
      <div class="uc-image_container" ref="img-container-el">
        <img src="${$i}" class="uc-image uc-image_visible_from_editor" ref="img-el" />
        <uc-editor-image-cropper ref="cropper-el"></uc-editor-image-cropper>
        <uc-editor-image-fader ref="fader-el"></uc-editor-image-fader>
      </div>
      <div class="uc-info_pan">{{msg}}</div>
    </div>
    <div class="uc-toolbar">
      <uc-line-loader-ui set="active: showLoader"></uc-line-loader-ui>
      <div class="uc-toolbar_content uc-toolbar_content__editor">
        <uc-editor-toolbar></uc-editor-toolbar>
      </div>
    </div>
  </div>
`;var _c=(()=>{class n extends le{ctxOwner=!0;static styleAttrs=["uc-cloud-image-editor"];constructor(){super(),this.init$=x(x({},this.init$),kN(this))}_debouncedShowLoader=gt(this._showLoader.bind(this),300);_showLoader(t){this.$.showLoader=t}_waitForSize(){return new Promise((r,i)=>{let o=setTimeout(()=>{i(new Error("[cloud-image-editor] timeout waiting for non-zero container size"))},3e3),s=new ResizeObserver(([a])=>{a.contentRect.width>0&&a.contentRect.height>0&&(r(),clearTimeout(o),s.disconnect())});s.observe(this)})}initCallback(){super.initCallback(),this.$["*faderEl"]=this.ref["fader-el"],this.$["*cropperEl"]=this.ref["cropper-el"],this.$["*imgContainerEl"]=this.ref["img-container-el"],this.initEditor()}updateImage(){return h(this,null,function*(){if(this.isConnected){if(yield this._waitForSize(),this.$.cdnUrl){let t=C0(this.$.cdnUrl),r=Ls(this.$.cdnUrl,t);if(r===this.$["*originalUrl"])return;this.$["*originalUrl"]=r;let i=O3(this.$.cdnUrl),o=U3(i);this.$["*editorTransformations"]=o}else if(this.$.uuid){let t=Ls(this.cfg.cdnCname,this.$.uuid);if(t===this.$["*originalUrl"])return;this.$["*originalUrl"]=t,this.$["*editorTransformations"]={}}else throw new Error("No UUID nor CDN URL provided");this.$["*tabId"]===wt.CROP?this.$["*cropperEl"].deactivate({reset:!0}):this.$["*faderEl"].deactivate();try{let t=yield this.proxyUrl(Xt(this.$["*originalUrl"],Rn("json"))),r=yield fetch(t).then(s=>s.json()),{width:i,height:o}=r;this.$["*imageSize"]={width:i,height:o},this.$["*tabId"]===wt.CROP?this.$["*cropperEl"].activate(this.$["*imageSize"]):this.$["*faderEl"].activate({url:this.$["*originalUrl"]})}catch(t){t&&console.error("Failed to load image info",t)}}})}initEditor(){return h(this,null,function*(){try{yield this._waitForSize()}catch(t){this.isConnected&&console.error(t.message);return}this.ref["img-el"].addEventListener("load",()=>{this._imgLoading=!1,this._debouncedShowLoader(!1),this.$.src!==$i&&(this.$["*networkProblems"]=!1)}),this.ref["img-el"].addEventListener("error",()=>{this._imgLoading=!1,this._debouncedShowLoader(!1),this.$["*networkProblems"]=!0}),this.sub("src",t=>{let r=this.ref["img-el"];r.src!==t&&(this._imgLoading=!0,r.src=t||$i)}),this.sub("cropPreset",t=>{this.$["*cropPresetList"]=V0(t)}),this.sub("tabs",t=>{this.$["*tabList"]=MN(t)}),this.sub("*tabId",t=>{this.ref["img-el"].className=gn("uc-image",{"uc-image_hidden_to_cropper":t===wt.CROP,"uc-image_hidden_effects":t!==wt.CROP})}),this.classList.add("uc-editor_ON"),this.sub("*networkProblems",t=>{this.$["presence.networkProblems"]=t,this.$["presence.modalCaption"]=!t}),this.sub("*editorTransformations",t=>{if(Object.keys(t).length===0)return;let r=this.$["*originalUrl"],i=Rn(Bs(t),"preview"),o=Xt(r,i),s={originalUrl:r,cdnUrlModifiers:i,cdnUrl:o,transformations:t};this.dispatchEvent(new CustomEvent("change",{detail:s,bubbles:!0,composed:!0}))},!1),this.sub("uuid",t=>t&&this.updateImage()),this.sub("cdnUrl",t=>t&&this.updateImage())})}}return n.template=ON,n})();_c.bindAttributes({uuid:"uuid","cdn-url":"cdnUrl","crop-preset":"cropPreset",tabs:"tabs"});var RN=(()=>{class n extends le{constructor(){super(),this.init$=N(x({},this.init$),{dragging:!1}),this._handlePointerUp=this._handlePointerUp_.bind(this),this._handlePointerMove=this._handlePointerMove_.bind(this),this._handleSvgPointerMove=this._handleSvgPointerMove_.bind(this)}_shouldThumbBeDisabled(t){let r=this.$["*imageBox"];if(!r)return;if(t===""&&r.height<=ve&&r.width<=ve)return!0;let i=r.height<=ve&&(t.includes("n")||t.includes("s")),o=r.width<=ve&&(t.includes("e")||t.includes("w"));return i||o}_createBackdrop(){let t=this.$["*cropBox"];if(!t)return;let{x:r,y:i,width:o,height:s}=t,a=this.ref["svg-el"],c=ur("mask",{id:"backdrop-mask"}),l=ur("rect",{x:0,y:0,width:"100%",height:"100%",fill:"white"}),u=ur("rect",{x:r,y:i,width:o,height:s,fill:"black"});c.appendChild(l),c.appendChild(u);let d=ur("rect",{x:0,y:0,width:"100%",height:"100%",fill:"var(--color-image-background)","fill-opacity":.85,mask:"url(#backdrop-mask)"});a.appendChild(d),a.appendChild(c),this._backdropMask=c,this._backdropMaskInner=u}_resizeBackdrop(){this._backdropMask&&(this._backdropMask.style.display="none",window.requestAnimationFrame(()=>{this._backdropMask&&(this._backdropMask.style.display="block")}))}_updateBackdrop(){let t=this.$["*cropBox"];if(!t)return;let{x:r,y:i,width:o,height:s}=t;this._backdropMaskInner&&Hs(this._backdropMaskInner,{x:r,y:i,width:o,height:s})}_updateFrame(){let t=this.$["*cropBox"];if(!(!t||!this._frameGuides||!this._frameThumbs)){for(let r of Object.values(this._frameThumbs)){let{direction:i,pathNode:o,interactionNode:s,groupNode:a}=r,c=i==="",l=i.length===2,{x:u,y:d,width:f,height:p}=t;if(c)Hs(s,{x:u,y:d,width:f,height:p});else{let b=zs(Math.min(f,p)/(24*2+34)/2,0,1),{d:w,center:_}=l?x5(t,i,b):w5(t,i,b),D=Math.max(T_*zs(Math.min(f,p)/T_/3,0,1),v5);Hs(s,{x:_[0]-D,y:_[1]-D,width:D*2,height:D*2}),Hs(o,{d:w})}let m=this._shouldThumbBeDisabled(i);a.setAttribute("class",gn("uc-thumb",{"uc-thumb--hidden":m,"uc-thumb--visible":!m}))}Hs(this._frameGuides,{x:t.x-1*.5,y:t.y-1*.5,width:t.width+1,height:t.height+1})}}_createThumb(t,r){let i=ur("g");i.classList.add("uc-thumb"),i.setAttribute("with-effects","");let o=ur("rect",{fill:"transparent"}),s=ur("path",{stroke:"currentColor",fill:"none","stroke-width":3});i.appendChild(s),i.appendChild(o),t[r]={direction:r,pathNode:s,interactionNode:o,groupNode:i},r===""&&(i.style.cursor="move"),o.addEventListener("pointerdown",this._handlePointerDown.bind(this,r))}_createThumbs(){let t={};for(let r=0;r<3;r++)for(let i=0;i<3;i++){let o=`${["n","","s"][r]}${["w","","e"][i]}`;o!==""&&this._createThumb(t,o)}return this._createThumb(t,""),t}_createGuides(){let t=ur("svg"),r=ur("rect",{x:0,y:0,width:"100%",height:"100%",fill:"none",stroke:"currentColor","stroke-width":1,"stroke-opacity":.5});t.appendChild(r);for(let i=1;i<=2;i++){let o=ur("line",{x1:`${Yf*i}%`,y1:"0%",x2:`${Yf*i}%`,y2:"100%",stroke:"currentColor","stroke-width":1,"stroke-opacity":.3});t.appendChild(o)}for(let i=1;i<=2;i++){let o=ur("line",{x1:"0%",y1:`${Yf*i}%`,x2:"100%",y2:`${Yf*i}%`,stroke:"currentColor","stroke-width":1,"stroke-opacity":.3});t.appendChild(o)}return t.classList.add("uc-guides","uc-guides--semi-hidden"),t}_createFrame(){let t=this.ref["svg-el"],r=document.createDocumentFragment(),i=this._createGuides();r.appendChild(i);let o=this._createThumbs();for(let{groupNode:s}of Object.values(o))r.appendChild(s);t.appendChild(r),this._frameThumbs=o,this._frameGuides=i}_handlePointerDown(t,r){if(!this._frameThumbs)return;let i=this._frameThumbs[t];if(this._shouldThumbBeDisabled(t))return;let o=this.$["*cropBox"],{x:s,y:a}=this.ref["svg-el"].getBoundingClientRect(),c=r.x-s,l=r.y-a;this.$.dragging=!0,this._draggingThumb=i,this._dragStartPoint=[c,l],this._dragStartCrop=x({},o)}_handlePointerUp_(t){this._updateCursor(),this.$.dragging&&(t.stopPropagation(),t.preventDefault(),this.$.dragging=!1)}_handlePointerMove_(t){if(!this.$.dragging||!this._dragStartPoint||!this._draggingThumb)return;t.stopPropagation(),t.preventDefault();let r=this.ref["svg-el"],{x:i,y:o}=r.getBoundingClientRect(),s=t.x-i,a=t.y-o,c=s-this._dragStartPoint[0],l=a-this._dragStartPoint[1],{direction:u}=this._draggingThumb,d=this._calcCropBox(u,[c,l]);d&&(this.$["*cropBox"]=d)}_calcCropBox(t,r){let[i,o]=r,s=this.$["*imageBox"],a=this._dragStartCrop??this.$["*cropBox"],c=this.$["*cropPresetList"]?.[0],l=c?c.width/c.height:void 0;if(t===""?a=C5({rect:a,delta:[i,o],imageBox:s}):a=E5({rect:a,delta:[i,o],direction:t,aspectRatio:l,imageBox:s}),!Object.values(a).every(u=>Number.isFinite(u)&&u>=0)){console.error("CropFrame is trying to create invalid rectangle",{payload:a});return}return wu(Cu(a),this.$["*imageBox"])}_handleSvgPointerMove_(t){if(!this._frameThumbs)return;let r=Object.values(this._frameThumbs).find(i=>{if(this._shouldThumbBeDisabled(i.direction))return!1;let s=i.interactionNode.getBoundingClientRect(),a={x:s.x,y:s.y,width:s.width,height:s.height};return A5(a,[t.x,t.y])});this._hoverThumb=r,this._updateCursor()}_updateCursor(){let t=this._hoverThumb;this.ref["svg-el"].style.cursor=t?_5(t.direction):"initial"}_createMask(t){if(this._frameImage){this._frameImage.setAttribute("href",t);return}let r=this.ref["svg-el"],i=document.createDocumentFragment(),o=ur("image",{href:t});o.setAttribute("class","uc-cloud-mask"),i.appendChild(o),r.appendChild(i),this._frameImage=o}_updateMask(){let t=this.$["*cropBox"];if(!t||!this._frameImage)return;let{x:r,y:i,width:o,height:s}=t;Hs(this._frameImage,{x:r,y:i,height:s,width:o})}_render(){this._updateBackdrop(),this._updateFrame(),this._updateMask()}toggleThumbs(t){this._frameThumbs&&Object.values(this._frameThumbs).map(({groupNode:r})=>r).forEach(r=>{r.setAttribute("class",gn("uc-thumb",{"uc-thumb--hidden":!t,"uc-thumb--visible":t}))})}initCallback(){super.initCallback(),this._createBackdrop(),this._createFrame(),this.sub("*imageBox",()=>{this._resizeBackdrop(),window.requestAnimationFrame(()=>{this._render()})}),this.sub("*cropBox",t=>{t&&(this._guidesHidden=t.height<=ve||t.width<=ve,window.requestAnimationFrame(()=>{this._render()}))}),this.subConfigValue("cloudImageEditorMaskHref",t=>{t&&this._createMask(t)}),this.sub("dragging",t=>{this._frameGuides&&this._frameGuides.setAttribute("class",gn({"uc-guides--hidden":this._guidesHidden,"uc-guides--visible":!this._guidesHidden&&t,"uc-guides--semi-hidden":!this._guidesHidden&&!t}))}),this.ref["svg-el"].addEventListener("pointermove",this._handleSvgPointerMove,!0),document.addEventListener("pointermove",this._handlePointerMove,!0),document.addEventListener("pointerup",this._handlePointerUp,!0)}destroyCallback(){super.destroyCallback(),document.removeEventListener("pointermove",this._handlePointerMove),document.removeEventListener("pointerup",this._handlePointerUp)}}return n.template=' <svg class="uc-svg" ref="svg-el" xmlns="http://www.w3.org/2000/svg"></svg> ',n})();var ku=(()=>{class n extends le{init$=N(x({},this.init$),{active:!1,title:"",icon:"","on.click":null,"title-prop":""});initCallback(){super.initCallback(),this._titleEl=this.ref["title-el"],this._iconEl=this.ref["icon-el"],this.sub("title",t=>{this._titleEl&&(this._titleEl.style.display=t?"block":"none")}),this.sub("active",t=>{this.className=gn({"uc-active":t,"uc-not_active":!t})}),this.sub("on.click",t=>{this.onclick=t})}}return n.template=`
  <button role="option" type="button" set="@aria-label:title-prop;" l10n="@title:title-prop;">
    <uc-icon set="@name: icon;"></uc-icon>
    <div class="uc-title" ref="title-el">{{title}}</div>
  </button>
`,n})();function gG(n){let e=n+90;return e=e>=360?0:e,e}function bG(n,e){return n==="rotate"?gG(e):["mirror","flip"].includes(n)?!e:null}var Nu=class extends ku{initCallback(){super.initCallback(),this.defineAccessor("operation",e=>{e&&(this._operation=e,this.$.icon=e,this.bindL10n("title-prop",()=>this.l10n("a11y-cloud-editor-apply-crop",{name:this.l10n(e).toLowerCase()})))}),this.$["on.click"]=()=>{let e=this.$["*cropperEl"].getValue(this._operation),t=bG(this._operation,e);this.$["*cropperEl"].setValue(this._operation,t)}}};var ih={FILTER:"filter",COLOR_OPERATION:"color_operation"},Hi="original",PN=(()=>{class n extends le{init$=N(x({},this.init$),{disabled:!1,min:0,max:100,value:0,defaultValue:0,zero:0,"on.input":t=>{this.$["*faderEl"].set(t),this.$.value=t}});setOperation(t,r){this._controlType=t==="filter"?ih.FILTER:ih.COLOR_OPERATION,this._operation=t,this._iconName=t,this._title=t.toUpperCase(),this._filter=r,this._initializeValues(),this.$["*faderEl"].activate({url:this.$["*originalUrl"],operation:this._operation,value:this._filter===Hi?void 0:this.$.value,filter:this._filter===Hi?void 0:this._filter,fromViewer:!1})}_initializeValues(){let{range:t,zero:r}=Ui[this._operation],[i,o]=t;this.$.min=i,this.$.max=o,this.$.zero=r;let s=this.$["*editorTransformations"][this._operation];if(this._controlType===ih.FILTER){let a=o;if(s){let{name:c,amount:l}=s;a=c===this._filter?l:o}this.$.value=a,this.$.defaultValue=a}if(this._controlType===ih.COLOR_OPERATION){let a=typeof s<"u"?s:r;this.$.value=a,this.$.defaultValue=a}}apply(){let t;this._controlType===ih.FILTER?this._filter===Hi?t=null:t={name:this._filter,amount:this.$.value}:t=this.$.value;let r=N(x({},this.$["*editorTransformations"]),{[this._operation]:t});this.$["*editorTransformations"]=r}cancel(){this.$["*faderEl"].deactivate({hide:!1})}initCallback(){super.initCallback(),this.sub("*originalUrl",t=>{this._originalUrl=t}),this.sub("value",t=>{let r=`${this._filter||this._operation} ${t}`;this.$["*operationTooltip"]=r})}}return n.template=`
  <uc-slider-ui
    ref="slider-el"
    set="disabled: disabled; min: min; max: max; defaultValue: defaultValue; zero: zero; onInput: on.input;"
  ></uc-slider-ui>
`,n})();function Ec(n){let e=new Image;return{promise:new Promise((i,o)=>{e.src=n,e.onload=i,e.onerror=o}),image:e,cancel:()=>{e.naturalWidth===0&&(e.src=$i)}}}function oh(n){let e=[];for(let o of n){let s=Ec(o);e.push(s)}let t=e.map(o=>o.image);return{promise:Promise.allSettled(e.map(o=>o.promise)),images:t,cancel:()=>{e.forEach(o=>{o.cancel()})}}}var ob=(()=>{class n extends ku{constructor(){super(),this.init$=N(x({},this.init$),{active:!1,title:"",icon:"",isOriginal:!1,iconSize:"20","on.click":null})}_previewSrc(){let t=parseInt(window.getComputedStyle(this).getPropertyValue("--l-base-min-width"),10),r=window.devicePixelRatio,i=Math.ceil(r*t),o=r>=2?"lightest":"normal",s=100,a=x({},this.$["*editorTransformations"]);return a[this._operation]=this._filter!==Hi?{name:this._filter,amount:s}:void 0,Xt(this._originalUrl,Rn(E0,Bs(a),`quality/${o}`,`scale_crop/${i}x${i}/center`))}_observerCallback(t,r){return h(this,null,function*(){if(t[0].isIntersecting){let o=yield this.proxyUrl(this._previewSrc()),s=this.ref["preview-el"],{promise:a,cancel:c}=Ec(o);this._cancelPreload=c,a.catch(l=>{this.$["*networkProblems"]=!0,console.error("Failed to load image",{error:l})}).finally(()=>{s.style.backgroundImage=`url(${o})`,s.setAttribute("loaded",""),r.unobserve(this)})}else this._cancelPreload?.()})}initCallback(){super.initCallback(),this.$["on.click"]=()=>{this.$.active?this.$.isOriginal||(this.$["*sliderEl"].setOperation(this._operation,this._filter),this.$["*showSlider"]=!0):(this.$["*sliderEl"].setOperation(this._operation,this._filter),this.$["*sliderEl"].apply()),this.$["*currentFilter"]=this._filter},this.defineAccessor("filter",r=>{this._operation="filter",this._filter=r,this.$.isOriginal=r===Hi,this.$.icon=this.$.isOriginal?"original":"slider",this.bindL10n("title-prop",()=>this.l10n("a11y-cloud-editor-apply-filter",{name:r.toLowerCase()}))}),this._observer=new window.IntersectionObserver(this._observerCallback.bind(this),{threshold:[0,1]});let t=this.$["*originalUrl"];this._originalUrl=t,this.$.isOriginal?this.ref["icon-el"].classList.add("uc-original-icon"):this._observer.observe(this),this.sub("*currentFilter",r=>{this.$.active=r&&r===this._filter}),this.sub("isOriginal",r=>{this.$.iconSize=r?40:20}),this.sub("active",r=>{if(this.$.isOriginal)return;let i=this.ref["icon-el"];i.style.opacity=r?"1":"0";let o=this.ref["preview-el"];r?o.style.opacity="0":o.style.backgroundImage&&(o.style.opacity="1")}),this.sub("*networkProblems",r=>h(this,null,function*(){if(!r){let i=yield this.proxyUrl(this._previewSrc()),o=this.ref["preview-el"];o.style.backgroundImage&&(o.style.backgroundImage="none",o.style.backgroundImage=`url(${i})`)}}))}destroyCallback(){super.destroyCallback(),this._observer?.disconnect(),this._cancelPreload?.()}}return n.template=`
  <button type="button" role="option" l10n="@title:title-prop;@aria-label:title-prop">
    <div class="uc-preview" ref="preview-el"></div>
    <uc-icon ref="icon-el" set="@name: icon; @size: iconSize;"></uc-icon>
  </button>
`,n})();var Ou=class extends ku{_operation="";initCallback(){super.initCallback(),this.$["on.click"]=e=>{this.$["*sliderEl"].setOperation(this._operation),this.$["*showSlider"]=!0,this.$["*currentOperation"]=this._operation},this.defineAccessor("operation",e=>{e&&(this._operation=e,this.$.icon=e,this.bindL10n("title-prop",()=>this.l10n("a11y-cloud-editor-apply-tuning",{name:this.l10n(e).toLowerCase()})),this.bindL10n("title",()=>this.l10n(e)))}),this.sub("*editorTransformations",e=>{if(!this._operation)return;let{zero:t}=Ui[this._operation],r=e[this._operation],i=typeof r<"u"?r!==t:!1;this.$.active=i})}};function FN(n,e){let t={};for(let r of e){let i=n[r];(n.hasOwnProperty(r)||i!==void 0)&&(t[r]=i)}return t}function Ru(n,e,t){let i=window.devicePixelRatio,o=Math.min(Math.ceil(e*i),3e3),s=i>=2?"lightest":"normal";return Xt(n,Rn(E0,Bs(t),`quality/${s}`,`stretch/off/-/resize/${o}x`,`@clib/${bc}/${yc}/uc-cloud-image-editor/`))}function yG(n){return n?[({dimensions:t,coords:r})=>[...t,...r].every(i=>Number.isInteger(i)&&Number.isFinite(i)),({dimensions:t,coords:r})=>t.every(i=>i>0)&&r.every(i=>i>=0)].every(t=>t(n)):!0}var LN=(()=>{class n extends le{ctxOwner=!0;constructor(){super(),this.init$=N(x({},this.init$),{image:null,"*padding":20,"*operations":{rotate:0,mirror:!1,flip:!1},"*imageBox":{x:0,y:0,width:0,height:0},"*cropBox":{x:0,y:0,width:0,height:0}}),this._commitDebounced=gt(this._commit.bind(this),300),this._handleResizeThrottled=Su(this._handleResize.bind(this),100),this._imageSize={width:0,height:0}}_handleResize(){!this.isConnected||!this._isActive||(this._initCanvas(),this._syncTransformations(),this._alignImage(),this._alignCrop(),this._draw())}_syncTransformations(){let t=this.$["*editorTransformations"],r=FN(t,Object.keys(this.$["*operations"])),i=x(x({},this.$["*operations"]),r);this.$["*operations"]=i}_initCanvas(){let t=this.ref["canvas-el"],r=t.getContext("2d"),i=this.offsetWidth,o=this.offsetHeight,s=window.devicePixelRatio;t.style.width=`${i}px`,t.style.height=`${o}px`,t.width=i*s,t.height=o*s,r?.scale(s,s),this._canvas=t,this._ctx=r}_alignImage(){if(!this._isActive||!this.$.image)return;let t=this.$.image,r=this.$["*padding"],i=this.$["*operations"],{rotate:o}=i,s={width:this.offsetWidth,height:this.offsetHeight},a=_u({width:t.naturalWidth,height:t.naturalHeight},o),c;if(a.width>s.width-r*2||a.height>s.height-r*2){let l=a.width/a.height,u=s.width/s.height;if(l>u){let d=s.width-r*2,f=d/l,p=0+r,m=r+(s.height-r*2)/2-f/2;c={x:p,y:m,width:d,height:f}}else{let d=s.height-r*2,f=d*l,p=r+(s.width-r*2)/2-f/2,m=0+r;c={x:p,y:m,width:f,height:d}}}else{let{width:l,height:u}=a,d=r+(s.width-r*2)/2-l/2,f=r+(s.height-r*2)/2-u/2;c={x:d,y:f,width:l,height:u}}this.$["*imageBox"]=Cu(c)}_alignCrop(){let t=this.$["*cropBox"],r=this.$["*imageBox"],i=this.$["*operations"],{rotate:o}=i,s=this.$["*editorTransformations"].crop,{width:a,x:c,y:l}=this.$["*imageBox"];if(s){let{dimensions:[f,p],coords:[m,b]}=s,{width:w}=_u(this._imageSize,o),_=a/w;t=wu(Cu({x:c+m*_,y:l+b*_,width:f*_,height:p*_}),this.$["*imageBox"])}let u=this.$["*cropPresetList"]?.[0],d=u?u.width/u.height:void 0;if(!I5(t,r)||d&&!D5(t,d)){let f=r.width/r.height,p=r.width,m=r.height;d&&(f>d?p=Math.min(r.height*d,r.width):m=Math.min(r.width/d,r.height)),t={x:r.x+r.width/2-p/2,y:r.y+r.height/2-m/2,width:p,height:m}}this.$["*cropBox"]=wu(Cu(t),this.$["*imageBox"])}_drawImage(){let t=this._ctx;if(!t)return;let r=this.$.image,i=this.$["*imageBox"],o=this.$["*operations"],{mirror:s,flip:a,rotate:c}=o,l=_u({width:i.width,height:i.height},c);t.save(),t.translate(i.x+i.width/2,i.y+i.height/2),t.rotate(c*Math.PI*-1/180),t.scale(s?-1:1,a?-1:1),t.drawImage(r,-l.width/2,-l.height/2,l.width,l.height),t.restore()}_draw(){if(!this._isActive||!this.$.image||!this._canvas||!this._ctx)return;let t=this._canvas;this._ctx.clearRect(0,0,t.width,t.height),this._drawImage()}_animateIn({fromViewer:t}){this.$.image&&(this.ref["frame-el"].toggleThumbs(!0),this._transitionToImage(),setTimeout(()=>{this.className=gn({"uc-active_from_viewer":t,"uc-active_from_editor":!t,"uc-inactive_to_editor":!1})}))}_getCropDimensions(){let t=this.$["*cropBox"],r=this.$["*imageBox"],i=this.$["*operations"],{rotate:o}=i,{width:s,height:a}=r,{width:c,height:l}=_u(this._imageSize,o),{width:u,height:d}=t,f=s/c,p=a/l;return[zs(Math.round(u/f),1,c),zs(Math.round(d/p),1,l)]}_getCropTransformation(){let t=this.$["*cropBox"],r=this.$["*imageBox"],i=this.$["*operations"],{rotate:o}=i,{width:s,height:a,x:c,y:l}=r,{width:u,height:d}=_u(this._imageSize,o),{x:f,y:p}=t,m=s/u,b=a/d,w=this._getCropDimensions(),_={dimensions:w,coords:[zs(Math.round((f-c)/m),0,u-w[0]),zs(Math.round((p-l)/b),0,d-w[1])]};if(!yG(_)){console.error("Cropper is trying to create invalid crop object",{payload:_});return}if(!(w[0]===u&&w[1]===d))return _}_commit(){if(!this.isConnected||!this._imageSize)return;let t=this.$["*operations"],{rotate:r,mirror:i,flip:o}=t,s=this._getCropTransformation(),a=this.$["*editorTransformations"],c=N(x({},a),{crop:s,rotate:r,mirror:i,flip:o});this.$["*editorTransformations"]=c}setValue(t,r){this.$["*operations"]=N(x({},this.$["*operations"]),{[t]:r}),this._isActive&&(this._alignImage(),this._alignCrop(),this._draw())}getValue(t){return this.$["*operations"][t]}activate(i){return h(this,arguments,function*(t,{fromViewer:r}={}){if(!this._isActive){this._isActive=!0,this._imageSize=t,this.removeEventListener("transitionend",this._reset);try{this.$.image=yield this._waitForImage(this.$["*originalUrl"],this.$["*editorTransformations"]),this._syncTransformations(),this._animateIn({fromViewer:r})}catch(o){console.error("Failed to activate cropper",{error:o})}this._observer=new ResizeObserver(([o])=>{o.contentRect.width>0&&o.contentRect.height>0&&this._isActive&&this.$.image&&this._handleResizeThrottled()}),this._observer.observe(this)}})}deactivate({reset:t=!1}={}){this._isActive&&(!t&&this._commit(),this._isActive=!1,this._transitionToCrop(),this.className=gn({"uc-active_from_viewer":!1,"uc-active_from_editor":!1,"uc-inactive_to_editor":!0}),this.ref["frame-el"].toggleThumbs(!1),this.addEventListener("transitionend",this._reset,{once:!0}),this._observer?.disconnect())}_transitionToCrop(){let t=this._getCropDimensions(),r=Math.min(this.offsetWidth,t[0])/this.$["*cropBox"].width,i=Math.min(this.offsetHeight,t[1])/this.$["*cropBox"].height,o=Math.min(r,i),s=this.$["*cropBox"].x+this.$["*cropBox"].width/2,a=this.$["*cropBox"].y+this.$["*cropBox"].height/2;this.style.transform=`scale(${o}) translate(${(this.offsetWidth/2-s)/o}px, ${(this.offsetHeight/2-a)/o}px)`,this.style.transformOrigin=`${s}px ${a}px`}_transitionToImage(){let t=this.$["*cropBox"].x+this.$["*cropBox"].width/2,r=this.$["*cropBox"].y+this.$["*cropBox"].height/2;this.style.transform="scale(1)",this.style.transformOrigin=`${t}px ${r}px`}_reset(){this._isActive||(this.$.image=null)}_waitForImage(t,r){return h(this,null,function*(){let i=this.offsetWidth;r=N(x({},r),{crop:void 0,rotate:void 0,flip:void 0,mirror:void 0});let o=yield this.proxyUrl(Ru(t,i,r)),{promise:s,cancel:a,image:c}=Ec(o),l=this._handleImageLoading(o);return c.addEventListener("load",l,{once:!0}),c.addEventListener("error",l,{once:!0}),this._cancelPreload?.(),this._cancelPreload=a,s.then(()=>c).catch(u=>(console.error("Failed to load image",{error:u}),this.$["*networkProblems"]=!0,Promise.resolve(c)))})}_handleImageLoading(t){let r="crop",i=this.$["*loadingOperations"];return i.get(r)||i.set(r,new Map),i.get(r).get(t)||(i.set(r,i.get(r).set(t,!0)),this.$["*loadingOperations"]=i),()=>{i?.get(r)?.has(t)&&(i.get(r).delete(t),this.$["*loadingOperations"]=i)}}initCallback(){super.initCallback(),this.sub("*imageBox",()=>{this._draw()}),this.sub("*cropBox",()=>{this.$.image&&this._commitDebounced()}),this.sub("*cropPresetList",()=>{this._alignCrop()}),setTimeout(()=>{this.sub("*networkProblems",t=>{t||this._isActive&&this.activate(this._imageSize,{fromViewer:!1})})},0)}destroyCallback(){super.destroyCallback(),this._observer?.disconnect()}}return n.template=`
  <canvas class="uc-canvas" ref="canvas-el"></canvas>
  <uc-crop-frame ref="frame-el"></uc-crop-frame>
`,n})();function nC(n,e,t){let r=Array(t);t--;for(let i=t;i>=0;i--)r[i]=Math.ceil((i*e+(t-i)*n)/t);return r}function vG(n){return n.reduce((e,t,r)=>r<n.length-1?[...e,[t,n[r+1]]]:e,[])}function xG(n,e,t){let r=vG(n).find(([i,o])=>i<=e&&e<=o);return n.map(i=>{let o=Math.abs(r[0]-r[1]),s=Math.abs(e-r[0])/o;return r[0]===i?e>t?1:1-s:r[1]===i?e>=t?s:1:0})}function wG(n,e){return n.map((t,r)=>t<e?n.length-r:r)}function BN(n,e){let t=Ui[n].keypointsNumber,{range:r,zero:i}=Ui[n];return[...new Set([...nC(r[0],i,t+1),...nC(i,r[1],t+1),i,e])].sort((o,s)=>o-s)}var sb=class extends le{constructor(){super(),this._isActive=!1,this._hidden=!0,this._addKeypointDebounced=gt(this._addKeypoint.bind(this),600),this.classList.add("uc-inactive_to_cropper")}_handleImageLoading(e){let t=this._operation,r=this.$["*loadingOperations"];return r.get(t)||r.set(t,new Map),r.get(t).get(e)||(r.set(t,r.get(t).set(e,!0)),this.$["*loadingOperations"]=r),()=>{r?.get(t)?.has(e)&&(r.get(t).delete(e),this.$["*loadingOperations"]=r)}}_flush(){window.cancelAnimationFrame(this._raf),this._raf=window.requestAnimationFrame(()=>{for(let e of this._keypoints){let{image:t}=e;t&&(t.style.opacity=e.opacity.toString(),t.style.zIndex=e.zIndex.toString())}})}_imageSrc(){return h(this,arguments,function*({url:e=this._url,filter:t=this._filter,operation:r,value:i}={}){let o=x({},this._transformations);r&&(o[r]=t?{name:t,amount:i}:i);let s=this.offsetWidth;return yield this.proxyUrl(Ru(e,s,o))})}_constructKeypoint(e,t){return h(this,null,function*(){return{src:yield this._imageSrc({operation:e,value:t}),image:null,opacity:0,zIndex:0,value:t}})}_isSame(e,t){return this._operation===e&&this._filter===t}_addKeypoint(e,t,r){return h(this,null,function*(){let i=()=>!this._isSame(e,t)||this._value!==r||!!this._keypoints.find(c=>c.value===r);if(i())return;let o=yield this._constructKeypoint(e,r),s=new Image;s.src=o.src;let a=this._handleImageLoading(o.src);s.addEventListener("load",a,{once:!0}),s.addEventListener("error",a,{once:!0}),o.image=s,s.classList.add("uc-fader-image"),s.addEventListener("load",()=>{if(i())return;let c=this._keypoints,l=c.findIndex(d=>d.value>r),u=l<c.length?c[l].image:null;!this._container||u&&!this._container.contains(u)||(c.splice(l,0,o),this._container.insertBefore(s,u),this._update(e,r))},{once:!0}),s.addEventListener("error",()=>{this.$["*networkProblems"]=!0},{once:!0})})}set(e){e=typeof e=="string"?parseInt(e,10):e,this._update(this._operation,e),this._addKeypointDebounced(this._operation,this._filter,e)}_update(e,t){this._operation=e,this._value=t;let{zero:r}=Ui[e],i=this._keypoints.map(a=>a.value),o=xG(i,t,r),s=wG(i,r);for(let[a,c]of Object.entries(this._keypoints))c.opacity=o[a],c.zIndex=s[a];this._flush()}_createPreviewImage(){let e=new Image;return e.classList.add("uc-fader-image","uc-fader-image--preview"),e.style.opacity="0",e}_initNodes(){return h(this,null,function*(){let e=document.createDocumentFragment();this._previewImage=this._previewImage||this._createPreviewImage(),!this.contains(this._previewImage)&&e.appendChild(this._previewImage);let t=document.createElement("div");e.appendChild(t);let r=this._keypoints.map(l=>l.src),{images:i,promise:o,cancel:s}=oh(r);i.forEach(l=>{let u=this._handleImageLoading(l.src);l.addEventListener("load",u),l.addEventListener("error",u)}),this._cancelLastImages=()=>{s(),this._cancelLastImages=void 0};let a=this._operation,c=this._filter;yield o,this._isActive&&this._isSame(a,c)&&(this._container&&this._container.remove(),this._container=t,this._keypoints.forEach((l,u)=>{let d=i[u];d.classList.add("uc-fader-image"),l.image=d,this._container.appendChild(d)}),this.appendChild(e),this._flush())})}setTransformations(e){return h(this,null,function*(){if(this._transformations=e,this._previewImage){let t=yield this._imageSrc(),r=this._handleImageLoading(t);this._previewImage.src=t,this._previewImage.addEventListener("load",r,{once:!0}),this._previewImage.addEventListener("error",r,{once:!0}),this._previewImage.style.opacity="1",this._previewImage.addEventListener("error",()=>{this.$["*networkProblems"]=!0},{once:!0})}})}preload(o){return h(this,arguments,function*({url:e,filter:t,operation:r,value:i}){this._cancelBatchPreload&&this._cancelBatchPreload();let s=BN(r,i),a=yield Promise.all(s.map(l=>this._imageSrc({url:e,filter:t,operation:r,value:l}))),{cancel:c}=oh(a);this._cancelBatchPreload=c})}_setOriginalSrc(e){let t=this._previewImage||this._createPreviewImage();if(!this.contains(t)&&this.appendChild(t),this._previewImage=t,t.src===e){t.style.opacity="1",t.style.transform="scale(1)",this.className=gn({"uc-active_from_viewer":this._fromViewer,"uc-active_from_cropper":!this._fromViewer,"uc-inactive_to_cropper":!1});return}t.style.opacity="0";let r=this._handleImageLoading(e);t.addEventListener("error",r,{once:!0}),t.src=e,t.addEventListener("load",()=>{r(),t&&(t.style.opacity="1",t.style.transform="scale(1)",this.className=gn({"uc-active_from_viewer":this._fromViewer,"uc-active_from_cropper":!this._fromViewer,"uc-inactive_to_cropper":!1}))},{once:!0}),t.addEventListener("error",()=>{this.$["*networkProblems"]=!0},{once:!0})}activate(s){return h(this,arguments,function*({url:e,operation:t,value:r,filter:i,fromViewer:o}){if(this._isActive=!0,this._hidden=!1,this._url=e,this._operation=t||"initial",this._value=r,this._filter=i,this._fromViewer=o,typeof r!="number"&&!i){let c=yield this._imageSrc({operation:t,value:r});this._setOriginalSrc(c),this._container&&this._container.remove();return}this._keypoints=yield Promise.all(BN(t,r).map(c=>this._constructKeypoint(t,c))),this._update(t,r),this._initNodes()})}deactivate({hide:e=!0}={}){this._isActive=!1,this._cancelLastImages&&this._cancelLastImages(),this._cancelBatchPreload&&this._cancelBatchPreload(),e&&!this._hidden?(this._hidden=!0,this._previewImage&&(this._previewImage.style.transform="scale(1)"),this.className=gn({"uc-active_from_viewer":!1,"uc-active_from_cropper":!1,"uc-inactive_to_cropper":!0}),this.addEventListener("transitionend",()=>{this._container&&this._container.remove()},{once:!0})):this._container&&this._container.remove()}};var _G=1,UN=(()=>{class n extends le{initCallback(){super.initCallback(),this.addEventListener("wheel",t=>{t.preventDefault();let{deltaY:r,deltaX:i}=t;Math.abs(i)>_G?this.scrollLeft+=i:this.scrollLeft+=r},{passive:!1}),this.addEventListener("scroll",()=>{},{passive:!0})}}return n.template=" <slot></slot> ",n})();function CG(n){return`
    <uc-presence-toggle
      class="uc-tab-toggle"
      set="visible: presence.tabToggle.${n}; styles: presence.tabToggleStyles;"
    >
      <uc-btn-ui
        theme="tab"
        ref="tab-toggle-${n}"
        data-id="${n}"
        icon="${n}"
        set="onclick: on.clickTab; aria-role:tab_role; aria-controls:tab_${n}; title-prop: a11y-editor-tab-${n}"
      >
      </uc-btn-ui>
    </uc-presence-toggle>
  `}function EG(n){return`
    <uc-presence-toggle
      id="tab_${n}"
      class="uc-tab-content"
      set="visible: presence.tabContent.${n}; styles: presence.tabContentStyles"
    >
      <uc-editor-scroller hidden-scrollbar>
        <div class="uc-controls-list_align">
          <div
            role="listbox"
            aria-orientation="horizontal"
            class="uc-controls-list_inner"
            ref="controls-list-${n}"
          ></div>
        </div>
      </uc-editor-scroller>
    </uc-presence-toggle>
  `}var sh=class extends le{constructor(){super(),this.init$=N(x({},this.init$),{"*sliderEl":null,"*loadingOperations":new Map,"*showSlider":!1,"*currentFilter":Hi,"*currentOperation":null,showLoader:!1,filters:j3,colorOperations:V3,cropOperations:$3,"*operationTooltip":null,"presence.mainToolbar":!0,"presence.subToolbar":!1,"presence.tabToggles":!0,"presence.tabContent.crop":!1,"presence.tabContent.tuning":!1,"presence.tabContent.filters":!1,"presence.tabToggle.crop":!0,"presence.tabToggle.tuning":!0,"presence.tabToggle.filters":!0,"presence.subTopToolbarStyles":{hidden:"uc-sub-toolbar--top-hidden",visible:"uc-sub-toolbar--visible"},"presence.subBottomToolbarStyles":{hidden:"uc-sub-toolbar--bottom-hidden",visible:"uc-sub-toolbar--visible"},"presence.tabContentStyles":{hidden:"uc-tab-content--hidden",visible:"uc-tab-content--visible"},"presence.tabToggleStyles":{hidden:"uc-tab-toggle--hidden",visible:"uc-tab-toggle--visible"},"presence.tabTogglesStyles":{hidden:"uc-tab-toggles--hidden",visible:"uc-tab-toggles--visible"},"on.cancel":()=>{this._cancelPreload?.(),this.$["*on.cancel"]()},"on.apply":()=>{this.$["*on.apply"](this.$["*editorTransformations"])},"on.applySlider":()=>{this.ref["slider-el"].apply(),this._onSliderClose()},"on.cancelSlider":()=>{this.ref["slider-el"].cancel(),this._onSliderClose()},"on.clickTab":e=>{let t=e.currentTarget.getAttribute("data-id");t&&this._activateTab(t,{fromViewer:!1})},tab_role:"tab",[`tab_${wt.TUNING}`]:`tab_${wt.TUNING}`,[`tab_${wt.CROP}`]:`tab_${wt.CROP}`,[`tab_${wt.FILTERS}`]:`tab_${wt.FILTERS}`,cancel:"cancel",apply:"apply","a11y-editor-tab-filters":"a11y-editor-tab-filters","a11y-editor-tab-tuning":"a11y-editor-tab-tuning","a11y-editor-tab-crop":"a11y-editor-tab-crop"}),this._debouncedShowLoader=gt(this._showLoader.bind(this),500)}_onSliderClose(){this.$["*showSlider"]=!1,this.$["*tabId"]===wt.TUNING&&this.ref["tooltip-el"].classList.toggle("uc-info-tooltip_visible",!1)}_createOperationControl(e){let t=new Ou;return t.operation=e,t}_createFilterControl(e){let t=new ob;return t.filter=e,t}_createToggleControl(e){let t=new Nu;return t.operation=e,t}_renderControlsList(e){let t=this.ref[`controls-list-${e}`],r=document.createDocumentFragment();e===wt.CROP?this.$.cropOperations.forEach(i=>{let o=this._createToggleControl(i);r.appendChild(o)}):e===wt.FILTERS?[Hi,...this.$.filters].forEach(i=>{let o=this._createFilterControl(i);r.appendChild(o)}):e===wt.TUNING&&this.$.colorOperations.forEach(i=>{let o=this._createOperationControl(i);r.appendChild(o)}),[...r.children].forEach((i,o)=>{o===r.childNodes.length-1&&i.classList.add("uc-controls-list_last-item")}),t.innerHTML="",t.appendChild(r)}_activateTab(e,{fromViewer:t}){this.$["*tabId"]=e,e===wt.CROP?(this.$["*faderEl"].deactivate(),this.$["*cropperEl"].activate(this.$["*imageSize"],{fromViewer:t})):(this.$["*faderEl"].activate({url:this.$["*originalUrl"],fromViewer:t}),this.$["*cropperEl"].deactivate());for(let r of Yn){let i=r===e,o=this.ref[`tab-toggle-${r}`];o.active=i,i?(this._renderControlsList(e),this._syncTabIndicator()):this._unmountTabControls(r),this.$[`presence.tabContent.${r}`]=i}}_unmountTabControls(e){let t=this.ref[`controls-list-${e}`];t&&(t.innerHTML="")}_syncTabIndicator(){let e=this.ref[`tab-toggle-${this.$["*tabId"]}`],t=this.ref["tabs-indicator"];t.style.transform=`translateX(${e.offsetLeft}px)`}_preloadEditedImage(){return h(this,null,function*(){if(this.$["*imgContainerEl"]&&this.$["*originalUrl"]){let e=this.$["*imgContainerEl"].offsetWidth,t=yield this.proxyUrl(Ru(this.$["*originalUrl"],e,this.$["*editorTransformations"]));this._cancelPreload?.();let{cancel:r}=oh([t]);this._cancelPreload=()=>{r(),this._cancelPreload=void 0}}})}_showLoader(e){this.$.showLoader=e}_updateInfoTooltip=gt(()=>{let e=this.$["*editorTransformations"],t=this.$["*currentOperation"],r="",i=!1;if(this.$["*tabId"]===wt.FILTERS)if(i=!0,this.$["*currentFilter"]&&e?.filter?.name===this.$["*currentFilter"]){let o=e?.filter?.amount||100;r=this.$["*currentFilter"]+" "+o}else r=this.l10n(Hi);else if(this.$["*tabId"]===wt.TUNING&&t){i=!0;let o=e?.[t]||Ui[t].zero;r=this.l10n(t)+" "+o}i&&(this.$["*operationTooltip"]=r),this.ref["tooltip-el"].classList.toggle("uc-info-tooltip_visible",i)},0);initCallback(){super.initCallback(),this.$["*sliderEl"]=this.ref["slider-el"],this.sub("*imageSize",e=>{e&&setTimeout(()=>{this._activateTab(this.$["*tabId"],{fromViewer:!0})},0)}),this.sub("*editorTransformations",e=>{let t=e?.filter?.name;this.$["*currentFilter"]!==t&&(this.$["*currentFilter"]=t)}),this.sub("*currentFilter",()=>{this._updateInfoTooltip()}),this.sub("*currentOperation",()=>{this._updateInfoTooltip()}),this.sub("*tabId",()=>{this._updateInfoTooltip()}),this.sub("*originalUrl",()=>{this.$["*faderEl"]&&this.$["*faderEl"].deactivate()}),this.sub("*editorTransformations",e=>{this._preloadEditedImage(),this.$["*faderEl"]&&this.$["*faderEl"].setTransformations(e)}),this.sub("*loadingOperations",e=>{let t=!1;for(let[,r]of e.entries()){if(t)break;for(let[,i]of r.entries())if(i){t=!0;break}}this._debouncedShowLoader(t)}),this.sub("*showSlider",e=>{this.$["presence.subToolbar"]=e,this.$["presence.mainToolbar"]=!e}),this.sub("*tabList",e=>{this.$["presence.tabToggles"]=e.length>1;for(let t of Yn){this.$[`presence.tabToggle.${t}`]=e.includes(t);let r=this.ref[`tab-toggle-${t}`];r.style.gridColumn=e.indexOf(t)+1}e.includes(this.$["*tabId"])||this._activateTab(e[0],{fromViewer:!1})}),this._updateInfoTooltip()}destroyCallback(){this.$["*showSlider"]=!1}};sh.template=`
  <uc-line-loader-ui set="active: showLoader"></uc-line-loader-ui>
  <div class="uc-info-tooltip_container">
    <div class="uc-info-tooltip_wrapper">
      <div ref="tooltip-el" class="uc-info-tooltip uc-info-tooltip_hidden">{{*operationTooltip}}</div>
    </div>
  </div>
  <div class="uc-toolbar-container">
    <uc-presence-toggle
      role="tablist"
      class="uc-sub-toolbar"
      set="visible: presence.mainToolbar; styles: presence.subTopToolbarStyles"
    >
      <div class="uc-tab-content-row">${Yn.map(EG).join("")}</div>
      <div class="uc-controls-row">
        <uc-presence-toggle
          class="uc-tab-toggles"
          set="visible: presence.tabToggles; styles: presence.tabTogglesStyles"
        >
          <div ref="tabs-indicator" class="uc-tab-toggles_indicator"></div>
          ${Yn.map(CG).join("")}
        </uc-presence-toggle>
        <uc-btn-ui style="order: -1" theme="secondary-icon" icon="closeMax" set="onclick: on.cancel; title-prop:cancel">
        </uc-btn-ui>
        <uc-btn-ui theme="primary-icon" icon="done" set="onclick: on.apply; title-prop:apply"> </uc-btn-ui>
      </div>
    </uc-presence-toggle>
    <uc-presence-toggle
      class="uc-sub-toolbar"
      set="visible: presence.subToolbar; styles: presence.subBottomToolbarStyles"
    >
      <div class="uc-slider">
        <uc-editor-slider ref="slider-el"></uc-editor-slider>
      </div>
      <div class="uc-controls-row">
        <uc-btn-ui theme="secondary" set="onclick: on.cancelSlider" l10n="@text:cancel"> </uc-btn-ui>
        <uc-btn-ui theme="primary" set="onclick: on.applySlider" l10n="@text:apply"> </uc-btn-ui>
      </div>
    </uc-presence-toggle>
  </div>
`;var Pu=class extends le{constructor(){super(),this._iconReversed=!1,this._iconSingle=!1,this._iconHidden=!1,this.init$=N(x({},this.init$),{text:"",icon:"",iconCss:this._iconCss(),theme:null,"aria-role":"","aria-controls":"","title-prop":""}),this.defineAccessor("active",e=>{e?this.setAttribute("active",""):this.removeAttribute("active")})}_iconCss(){return gn("uc-icon",{"uc-icon_left":!this._iconReversed,"uc-icon_right":this._iconReversed,"uc-icon_hidden":this._iconHidden,"uc-icon_single":this._iconSingle})}initCallback(){super.initCallback(),this.sub("icon",e=>{this._iconSingle=!this.$.text,this._iconHidden=!e,this.$.iconCss=this._iconCss()}),this.sub("theme",e=>{e!=="custom"&&(this.className=`uc-${e}`)}),this.sub("text",e=>{this._iconSingle=!1}),this.hasAttribute("theme")||this.setAttribute("theme","default"),this.defineAccessor("aria-role",e=>{this.$["aria-role"]=e||""}),this.defineAccessor("aria-controls",e=>{this.$["aria-controls"]=e||""}),this.defineAccessor("title-prop",e=>{this.$["title-prop"]=e||""})}set reverse(e){this.hasAttribute("reverse")?(this.style.flexDirection="row-reverse",this._iconReversed=!0):(this._iconReversed=!1,this.style.flexDirection=null)}};Pu.bindAttributes({text:"text",icon:"icon",reverse:"reverse",theme:"theme"});Pu.template=`
  <button
    type="button"
    set="@role:aria-role; @aria-controls: aria-controls; @aria-label:title-prop"
    l10n="@title:title-prop;"
  >
    <uc-icon set="className: iconCss; @name: icon; @hidden: !icon"></uc-icon>
    <div class="uc-text">{{text}}</div>
  </button>
`;var VN=(()=>{class n extends le{constructor(){super(),this._active=!1,this._handleTransitionEndRight=()=>{let t=this.ref["line-el"];t.style.transition="initial",t.style.opacity="0",t.style.transform="translateX(-101%)",this._active&&this._start()}}initCallback(){super.initCallback(),this.defineAccessor("active",t=>{typeof t=="boolean"&&(t?this._start():this._stop())})}_start(){this._active=!0;let{width:t}=this.getBoundingClientRect(),r=this.ref["line-el"];r.style.transition="transform 1s",r.style.opacity="1",r.style.transform=`translateX(${t}px)`,r.addEventListener("transitionend",this._handleTransitionEndRight,{once:!0})}_stop(){this._active=!1}}return n.template=`
  <div class="uc-inner">
    <div class="uc-line" ref="line-el"></div>
  </div>
`,n})();var ab={transition:"uc-transition",visible:"uc-visible",hidden:"uc-hidden"},jN=(()=>{class n extends le{constructor(){super(),this._visible=!1,this._visibleStyle=ab.visible,this._hiddenStyle=ab.hidden,this._externalTransitions=!1,this.defineAccessor("styles",t=>{t&&(this._externalTransitions=!0,this._visibleStyle=t.visible,this._hiddenStyle=t.hidden)}),this.defineAccessor("visible",t=>{typeof t=="boolean"&&(this._visible=t,this._handleVisible())})}_handleVisible(){this.style.visibility=this._visible?"inherit":"hidden",TN(this,{[ab.transition]:!this._externalTransitions,[this._visibleStyle]:this._visible,[this._hiddenStyle]:!this._visible}),this.setAttribute("aria-hidden",this._visible?"false":"true")}initCallback(){super.initCallback(),this.classList.toggle("uc-initial",!0),this._externalTransitions||this.classList.add(ab.transition),this._handleVisible(),setTimeout(()=>{this.classList.toggle("uc-initial",!1)},0)}}return n.template="<slot></slot> ",n})();var $N=(()=>{class n extends le{init$=N(x({},this.init$),{disabled:!1,min:0,max:100,onInput:null,onChange:null,defaultValue:null,"on.sliderInput":()=>{let t=parseInt(this.ref["input-el"].value,10);this._updateValue(t),this.$.onInput&&this.$.onInput(t)},"on.sliderChange":()=>{let t=parseInt(this.ref["input-el"].value,10);this.$.onChange&&this.$.onChange(t)}});constructor(){super(),this.setAttribute("with-effects","")}initCallback(){super.initCallback(),this.defineAccessor("disabled",r=>{this.$.disabled=r}),this.defineAccessor("min",r=>{this.$.min=r}),this.defineAccessor("max",r=>{this.$.max=r}),this.defineAccessor("defaultValue",r=>{this.$.defaultValue=r,this.ref["input-el"].value=r,this._updateValue(r)}),this.defineAccessor("zero",r=>{this._zero=r}),this.defineAccessor("onInput",r=>{r&&(this.$.onInput=r)}),this.defineAccessor("onChange",r=>{r&&(this.$.onChange=r)}),this._updateSteps(),this._observer=new ResizeObserver(()=>{this._updateSteps();let r=parseInt(this.ref["input-el"].value,10);this._updateValue(r)}),this._observer.observe(this),this._thumbSize=parseInt(window.getComputedStyle(this).getPropertyValue("--l-thumb-size"),10),setTimeout(()=>{let r=parseInt(this.ref["input-el"].value,10);this._updateValue(r)},0),this.sub("disabled",r=>{let i=this.ref["input-el"];r?i.setAttribute("disabled","disabled"):i.removeAttribute("disabled")});let t=this.ref["input-el"];t.addEventListener("focus",()=>{this.style.setProperty("--color-effect","var(--hover-color-rgb)")}),t.addEventListener("blur",()=>{this.style.setProperty("--color-effect","var(--idle-color-rgb)")})}_updateValue(t){this._updateZeroDot(t);let{width:r}=this.getBoundingClientRect(),s=100/(this.$.max-this.$.min)*(t-this.$.min)*(r-this._thumbSize)/100;window.requestAnimationFrame(()=>{this.ref["thumb-el"].style.transform=`translateX(${s}px)`})}_updateZeroDot(t){if(!this._zeroDotEl)return;t===this._zero?this._zeroDotEl.style.opacity="0":this._zeroDotEl.style.opacity="1";let{width:r}=this.getBoundingClientRect(),s=100/(this.$.max-this.$.min)*(this._zero-this.$.min)*(r-this._thumbSize)/100;window.requestAnimationFrame(()=>{this._zeroDotEl.style.transform=`translateX(${s}px)`})}_updateSteps(){let r=this.ref["steps-el"],{width:i}=r.getBoundingClientRect(),o=Math.ceil(i/2),s=Math.ceil(o/15)-2;if(this._stepsCount===s)return;let a=document.createDocumentFragment(),c=document.createElement("div"),l=document.createElement("div");c.className="uc-minor-step",l.className="uc-border-step",a.appendChild(l);for(let d=0;d<s;d++)a.appendChild(c.cloneNode());a.appendChild(l.cloneNode());for(let d=0;d<s;d++)a.appendChild(c.cloneNode());a.appendChild(l.cloneNode());let u=document.createElement("div");u.className="uc-zero-dot",a.appendChild(u),this._zeroDotEl=u,r.innerHTML="",r.appendChild(a),this._stepsCount=s}destroyCallback(){super.destroyCallback(),this._observer?.disconnect()}}return n.template=`
  <div class="uc-steps" ref="steps-el"></div>
  <div ref="thumb-el" class="uc-thumb"></div>
  <input
    class="uc-input"
    type="range"
    ref="input-el"
    set="oninput: on.sliderInput; onchange: on.sliderChange; @min: min; @max: max; @value: defaultValue;"
  />
`,n})();var cb=class extends Je{couldBeCtxOwner=!0;activityType=V.activities.CLOUD_IMG_EDIT;_entry;_instance;get activityParams(){let e=super.activityParams;if("internalId"in e)return e;throw new Error("Cloud Image Editor activity params not found")}initCallback(){super.initCallback(),this.registerActivity(this.activityType,{onActivate:()=>this.mountEditor(),onDeactivate:()=>this.unmountEditor()}),this.subConfigValue("cropPreset",e=>{this._instance&&this._instance.getAttribute("crop-preset")!==e&&this._instance.setAttribute("crop-preset",e)}),this.subConfigValue("cloudImageEditorTabs",e=>{this._instance&&this._instance.getAttribute("tabs")!==e&&this._instance.setAttribute("tabs",e)})}handleApply(e){if(!this._entry)return;let t=e.detail;this._entry.setMultipleValues({cdnUrl:t.cdnUrl,cdnUrlModifiers:t.cdnUrlModifiers}),this.modalManager.close(V.activities.CLOUD_IMG_EDIT),this.historyBack()}handleCancel(){this.modalManager.close(V.activities.CLOUD_IMG_EDIT),this.historyBack()}mountEditor(){let{internalId:e}=this.activityParams,t=this.uploadCollection.read(e);if(!t)throw new Error(`Entry with internalId "${e}" not found`);this._entry=t;let r=this._entry.getValue("cdnUrl");if(!r)throw new Error(`Entry with internalId "${e}" hasn't uploaded yet`);let i=new _c,o=this.cfg.cropPreset,s=this.cfg.cloudImageEditorTabs;i.setAttribute("ctx-name",this.ctxName),i.setAttribute("cdn-url",r),o&&i.setAttribute("crop-preset",o),s&&i.setAttribute("tabs",s),i.addEventListener("apply",a=>{let c=a;this.handleApply(c),this.debugPrint('editor event "apply"',c.detail)}),i.addEventListener("cancel",a=>{let c=a;this.handleCancel(),this.debugPrint('editor event "cancel"',c.detail)}),i.addEventListener("change",a=>{let c=a;this.debugPrint('editor event "change"',c.detail)}),this.innerHTML="",this.appendChild(i),this._instance=i}unmountEditor(){this._instance=void 0,this._entry=void 0,this.innerHTML=""}};var AG=function(n){return n.replace(/[\\-\\[]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},HN=function(n,e="i"){let t=n.split("*").map(AG);return new RegExp("^"+t.join(".+")+"$",e)};function IG(n,e){return window.getComputedStyle(n).getPropertyValue(e).trim()}var DG=["--uc-font-family","--uc-font-size","--uc-line-height","--uc-button-size","--uc-preview-size","--uc-input-size","--uc-padding","--uc-radius","--uc-transition","--uc-background","--uc-foreground","--uc-primary","--uc-primary-hover","--uc-primary-transparent","--uc-primary-foreground","--uc-secondary","--uc-secondary-hover","--uc-secondary-foreground","--uc-muted","--uc-muted-foreground","--uc-destructive","--uc-destructive-foreground","--uc-border"];function zN(n){return DG.reduce((e,t)=>{let r=IG(n,t);return r&&(e[t]=r),e},{})}var SG=["selected-files-change"],TG=n=>!n||typeof n!="object"?!1:"type"in n&&SG.includes(n.type),lb=class{_handlerMap=new Map;_context;constructor(e){this._context=e,window.addEventListener("message",this._handleMessage)}_handleMessage=e=>{if(e.source!==this._context)return;let t=e.data;if(!TG(t))return;let r=this._handlerMap.get(t.type);if(r)for(let i of r)i(t)};on(e,t){let r=this._handlerMap.get(e)??new Set;this._handlerMap.has(e)||this._handlerMap.set(e,r),r.add(t)}send(e){this._context.postMessage(e,"*")}destroy(){window.removeEventListener("message",this._handleMessage)}};function GN(n){let e=[];for(let[t,r]of Object.entries(n))r==null||typeof r=="string"&&r.length===0||e.push(`${t}=${encodeURIComponent(r)}`);return e.join("&")}var WN=(()=>{class n extends Je{couldBeCtxOwner=!0;activityType=V.activities.EXTERNAL;constructor(){super(),this.init$=N(x({},this.init$),{activityIcon:"",activityCaption:"",selectedList:[],total:0,isSelectionReady:!1,isDoneBtnEnabled:!1,couldSelectAll:!1,couldDeselectAll:!1,showSelectionStatus:!1,counterText:"",doneBtnTextClass:"uc-hidden",onDone:()=>{for(let t of this.$.selectedList){let r=this.extractUrlFromSelectedFile(t),{filename:i}=t,{externalSourceType:o}=this.activityParams;this.api.addFileFromUrl(r,{fileName:i,source:o})}this.$["*currentActivity"]=V.activities.UPLOAD_LIST,this.modalManager.open(V.activities.UPLOAD_LIST)},onCancel:()=>{this.historyBack()},onSelectAll:()=>{this._messageBridge?.send({type:"select-all"})},onDeselectAll:()=>{this._messageBridge?.send({type:"deselect-all"})}})}get activityParams(){let t=super.activityParams;if("externalSourceType"in t)return t;throw new Error("External Source activity params not found")}initCallback(){super.initCallback(),this.registerActivity(this.activityType,{onActivate:()=>{let{externalSourceType:t}=this.activityParams;if(!t){this.modalManager.close(this.$["*currentActivity"]),this.$["*currentActivity"]=null,console.error(`Param "externalSourceType" is required for activity "${this.activityType}"`);return}this.set$({activityCaption:`${t?.[0].toUpperCase()}${t?.slice(1)}`,activityIcon:t}),this.mountIframe()}}),this.sub("*currentActivityParams",t=>{this.isActivityActive&&(this.unmountIframe(),this.mountIframe())}),this.sub("*currentActivity",t=>{t!==this.activityType&&this.unmountIframe()}),this.subConfigValue("multiple",t=>{this.$.showSelectionStatus=t}),this.subConfigValue("localeName",t=>{this.setupL10n()}),this.subConfigValue("externalSourcesEmbedCss",t=>{this.applyEmbedCss(t)})}extractUrlFromSelectedFile(t){if(t.alternatives){let r=mn(this.cfg.externalSourcesPreferredTypes);for(let i of r){let o=HN(i);for(let[s,a]of Object.entries(t.alternatives))if(o.test(s))return a}}return t.url}handleSelectedFilesChange(t){return h(this,null,function*(){if(this.cfg.multiple!==t.isMultipleMode){console.error("Multiple mode mismatch");return}this.bindL10n("counterText",()=>this.l10n("selected-count",{count:t.selectedCount,total:t.total})),this.set$({doneBtnTextClass:t.isReady?"":"uc-hidden",isSelectionReady:t.isReady,isDoneBtnEnabled:t.isReady&&t.selectedFiles.length>0,showSelectionStatus:t.isMultipleMode&&t.total>0,couldSelectAll:t.selectedCount<t.total,couldDeselectAll:t.selectedCount===t.total,selectedList:t.selectedFiles})})}handleIframeLoad(){this.applyEmbedCss(this.cfg.externalSourcesEmbedCss),this.applyTheme(),this.setupL10n()}applyTheme(){this._messageBridge?.send({type:"set-theme-definition",theme:zN(this)})}applyEmbedCss(t){this._messageBridge?.send({type:"set-embed-css",css:t})}setupL10n(){this._messageBridge?.send({type:"set-locale-definition",localeDefinition:this.cfg.localeName})}remoteUrl(){let{pubkey:t,remoteTabSessionKey:r,socialBaseUrl:i,multiple:o}=this.cfg,{externalSourceType:s}=this.activityParams,c={lang:this.l10n("social-source-lang")?.split("-")?.[0]||"en",public_key:t,images_only:"false",session_key:r,wait_for_theme:!0,multiple:o.toString()},l=new URL(`/window4/${s}`,i);return l.search=GN(c),l.toString()}mountIframe(){let t=c_({tag:"iframe",attributes:{src:this.remoteUrl(),marginheight:0,marginwidth:0,frameborder:0,allowTransparency:!0}});t.addEventListener("load",this.handleIframeLoad.bind(this)),this.ref.iframeWrapper.innerHTML="",this.ref.iframeWrapper.appendChild(t),t.contentWindow&&(this._messageBridge?.destroy(),this._messageBridge=new lb(t.contentWindow),this._messageBridge.on("selected-files-change",this.handleSelectedFilesChange.bind(this)),this.resetSelectionStatus())}unmountIframe(){this._messageBridge?.destroy(),this._messageBridge=void 0,this.ref.iframeWrapper.innerHTML="",this.resetSelectionStatus()}resetSelectionStatus(){this.set$({selectedList:[],total:0,isDoneBtnEnabled:!1,couldSelectAll:!1,couldDeselectAll:!1,showSelectionStatus:!1})}}return n.template=`
  <uc-activity-header>
    <button
      type="button"
      class="uc-mini-btn uc-close-btn"
      set="onclick: *historyBack"
      l10n="@title:a11y-activity-header-button-close;@aria-label:a11y-activity-header-button-close"
    >
      <uc-icon name="close"></uc-icon>
    </button>
  </uc-activity-header>
  <div class="uc-content">
    <div ref="iframeWrapper" class="uc-iframe-wrapper"></div>
    <div class="uc-toolbar">
      <button type="button" class="uc-cancel-btn uc-secondary-btn" set="onclick: onCancel" l10n="cancel"></button>
      <div set="@hidden: !showSelectionStatus" class="uc-selection-status-box">
        <span>{{counterText}}</span>
        <button type="button" set="onclick: onSelectAll; @hidden: !couldSelectAll" l10n="select-all"></button>
        <button type="button" set="onclick: onDeselectAll; @hidden: !couldDeselectAll" l10n="deselect-all"></button>
      </div>
      <button type="button" class="uc-done-btn uc-primary-btn" set="onclick: onDone; @disabled: !isDoneBtnEnabled;">
        <uc-spinner set="@hidden: isSelectionReady"></uc-spinner>
        <span l10n="done" set="@class: doneBtnTextClass"></span>
      </button>
    </div>
  </div>
`,n})();var ub=class extends Je{requireCtxName=!0;_createValidationInput(){let e=document.createElement("input");return e.type="text",e.name=this.ctxName,e.required=this.cfg.multipleMin>0,e.tabIndex=-1,Gf(e,{opacity:0,height:0,width:0}),e}initCallback(){super.initCallback(),this._validationInputElement=this._createValidationInput(),this.appendChild(this._validationInputElement),this.sub("*collectionState",e=>{{if(this._dynamicInputsContainer||(this._dynamicInputsContainer=document.createElement("div"),this.appendChild(this._dynamicInputsContainer)),!this._validationInputElement){let o=this._createValidationInput();this.appendChild(o),this._validationInputElement=o}if(this._dynamicInputsContainer.innerHTML="",e.status==="uploading"||e.status==="idle"){this._validationInputElement.value="",this._validationInputElement.setCustomValidity("");return}if(e.status==="failed"){let o=e.errors[0]?.message;this._validationInputElement.value="",this._validationInputElement.setCustomValidity(o);return}let t=e.group?e.group:null;if(t){this._validationInputElement.value=t.cdnUrl,this._validationInputElement.setCustomValidity("");return}let r=e.allEntries.map(o=>o.cdnUrl);if(!this.cfg.multiple&&r.length===1){this._validationInputElement.value=r[0],this._validationInputElement.setCustomValidity("");return}this._validationInputElement.remove(),this._validationInputElement=null;let i=new DocumentFragment;for(let o of r){let s=document.createElement("input");s.type="hidden",s.name=`${this.ctxName}[]`,s.value=o,i.appendChild(s)}this._dynamicInputsContainer.replaceChildren(i)}},!1)}};var db=class extends V{};var qN=(()=>{class n extends le{init$=N(x({},this.init$),{currentText:"",options:[],selectHtml:"",onSelect:t=>{t.preventDefault(),t.stopPropagation(),this.value=this.ref.select.value,this.$.currentText=this.$.options.find(r=>r.value==this.value)?.text||"",this.dispatchEvent(new Event("change"))}});initCallback(){super.initCallback(),this.sub("options",t=>{this.$.currentText=t?.[0]?.text||"";let r="";t?.forEach(i=>{r+=`<option value="${i.value}">${i.text}</option>`}),this.$.selectHtml=r})}}return n.template=' <select ref="select" set="innerHTML: selectHtml; onchange: onSelect"></select> ',n})();var KN=(()=>{class n extends le{initCallback(){super.initCallback(),this.subConfigValue("removeCopyright",t=>{this.toggleAttribute("hidden",!!t)})}static template=`
    <a
      href="https://uploadcare.com/?utm_source=copyright&utm_medium=referral&utm_campaign=v4"
      target="_blank noopener"
      class="uc-credits"
      >Powered by Uploadcare</a
    >
  `}return n})();var QN=(()=>{class n extends No{}return n.template=' <div class="uc-spinner"></div> ',n})();function MG(n){let e=new Blob([n],{type:"image/svg+xml"});return URL.createObjectURL(e)}function fb(n="hsl(209, 21%, 65%)",e=32,t=32){return MG(`
  <svg width="${e}" height="${t}" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path fill-rule="evenodd" fill="${n}" d="M9.68848 8.70068C9.68848 8.42454 9.91233 8.20068 10.1885 8.20068H15.0885C15.2211 8.20068 15.3483 8.25336 15.442 8.34713L20.342 13.2471C20.4358 13.3409 20.4885 13.4681 20.4885 13.6007V21.3007C20.4885 21.5768 20.2646 21.8007 19.9885 21.8007H10.1885C9.91233 21.8007 9.68848 21.5768 9.68848 21.3007V8.70068ZM10.6885 9.20068V20.8007H19.4885V14.1007L15.0885 14.1007C14.8123 14.1007 14.5885 13.8768 14.5885 13.6007L14.5885 9.20068H10.6885ZM15.5885 9.90779L18.7814 13.1007L15.5885 13.1007L15.5885 9.90779Z"/>
  </svg>
  `)}function rC(n,e=40){if(n.type==="image/svg+xml")return URL.createObjectURL(n);let t=document.createElement("canvas"),r=t.getContext("2d"),i=new Image,o=new Promise((s,a)=>{i.onload=()=>{let c=i.height/i.width;c>1?(t.width=e,t.height=e*c):(t.height=e,t.width=e/c),r.fillStyle="rgb(240, 240, 240)",r.fillRect(0,0,t.width,t.height),r.drawImage(i,0,0,t.width,t.height),t.toBlob(l=>{if(!l){a();return}let u=URL.createObjectURL(l);s(u)})},i.onerror=c=>{a(c)}});return i.src=URL.createObjectURL(n),o}var kG=3e3,iC=(()=>{class n extends Tu{_renderedGridOnce=!1;_thumbRect=null;_isIntersecting=!1;_firstViewMode=this.cfg.filesViewMode;constructor(){super(),this.init$=N(x({},this.init$),{thumbUrl:"",badgeIcon:"",uid:""})}_calculateThumbSize(t=!1){t&&(this._thumbRect=this.getBoundingClientRect());let r=Math.max(parseInt(String(this?._thumbRect?.height||0)),parseInt(String(this?._thumbRect?.width||0)),this.cfg.thumbSize);return window.devicePixelRatio>1&&(r*=window.devicePixelRatio),Math.min(r,kG)}_generateThumbnail=this._withEntry((t,r=!1)=>h(this,null,function*(){let i=t.getValue("fileInfo"),o=t.getValue("isImage"),s=t.getValue("uuid"),a=t.getValue("thumbUrl"),c=this._calculateThumbSize(r);if(i&&o&&s){let u=yield this.proxyUrl(Xt(Ls(this.cfg.cdnCname,s),Rn(t.getValue("cdnUrlModifiers"),"stretch/off",`scale_crop/${c}x${c}/center`)));if(a===u)return;let{promise:d}=Ec(u);d.then(()=>{t.setValue("thumbUrl",u),a?.startsWith("blob:")&&URL.revokeObjectURL(a)}).catch(()=>h(this,null,function*(){if(!a?.startsWith("blob:"))try{let f=t.getValue("file");if(!f)return;let p=yield rC(f,c);t.setValue("thumbUrl",p)}catch{let p=window.getComputedStyle(this).getPropertyValue("--uc-muted-foreground");t.setValue("thumbUrl",fb(p))}}));return}if(t.getValue("thumbUrl"))return;let l=t.getValue("file");if(l?.type.includes("image"))try{let u=yield rC(l,c);t.setValue("thumbUrl",u)}catch{let d=window.getComputedStyle(this).getPropertyValue("--uc-muted-foreground");t.setValue("thumbUrl",fb(d))}else{let u=window.getComputedStyle(this).getPropertyValue("--uc-muted-foreground");t.setValue("thumbUrl",fb(u))}}));_debouncedGenerateThumb=gt(this._generateThumbnail.bind(this),100);_observerCallback(t){let[r]=t;this._isIntersecting=r.isIntersecting,r.isIntersecting&&(this._thumbRect=r.boundingClientRect,this._debouncedGenerateThumb(),this._observer?.disconnect()),r.intersectionRatio===0&&this._debouncedGenerateThumb.cancel()}_reset(){super._reset(),this._debouncedGenerateThumb.cancel()}_handleEntryId(t){this._reset();let r=this.uploadCollection?.read(t);this._entry=r,r&&(this._subEntry("fileInfo",i=>{i?.isImage&&this._isIntersecting&&this._debouncedGenerateThumb()}),this._subEntry("thumbUrl",i=>{this.$.thumbUrl=i?`url(${i})`:""}),this._subEntry("cdnUrlModifiers",()=>{this._isIntersecting&&this._debouncedGenerateThumb()}),this._isIntersecting&&this._debouncedGenerateThumb())}initCallback(){super.initCallback(),this.defineAccessor("badgeIcon",t=>this.$.badgeIcon=t),this.defineAccessor("uid",t=>{this.set$({uid:t})}),this.sub("uid",t=>{this._handleEntryId(t)}),this.subConfigValue("filesViewMode",t=>{t==="grid"&&!this._renderedGridOnce&&(this._firstViewMode==="list"&&this._debouncedGenerateThumb(!0),this._renderedGridOnce=!0)}),this.setAttribute("role","img")}connectedCallback(){super.connectedCallback(),this._observer=new window.IntersectionObserver(this._observerCallback.bind(this),{threshold:.1}),this._observer.observe(this)}disconnectedCallback(){super.disconnectedCallback(),this._entrySubs=new Set,this._debouncedGenerateThumb.cancel(),this._observer?.disconnect()}}return n.template=`
  <div class="uc-thumb" set="style.backgroundImage: thumbUrl">
    <div class="uc-badge">
      <uc-icon set="@name: badgeIcon"></uc-icon>
    </div>
  </div>
`,n})();iC.bindAttributes({badgeIcon:null,uid:null});var oC=(()=>{class n extends $s{static styleAttrs=[...super.styleAttrs,"uc-file-uploader-regular"];constructor(){super(),this.init$=N(x({},this.init$),{isHidden:!1})}initCallback(){super.initCallback(),this.defineAccessor("headless",t=>{this.set$({isHidden:Qe(t)})})}}return n.template=`
  <uc-simple-btn set="@hidden: isHidden"></uc-simple-btn>

  <uc-modal id="start-from" strokes block-body-scrolling>
    <uc-start-from>
      <uc-drop-area with-icon clickable></uc-drop-area>
      <uc-source-list role="list" wrap></uc-source-list>
      <button type="button" l10n="start-from-cancel" class="uc-secondary-btn" set="onclick: *historyBack"></button>
      <uc-copyright></uc-copyright>
    </uc-start-from>
  </uc-modal>

  <uc-modal id="upload-list" strokes block-body-scrolling>
    <uc-upload-list></uc-upload-list>
  </uc-modal>

  <uc-modal id="camera" strokes block-body-scrolling>
    <uc-camera-source></uc-camera-source>
  </uc-modal>

  <uc-modal id="url" strokes block-body-scrolling>
    <uc-url-source></uc-url-source>
  </uc-modal>

  <uc-modal id="external" strokes block-body-scrolling>
    <uc-external-source></uc-external-source>
  </uc-modal>

  <uc-modal id="cloud-image-edit" strokes block-body-scrolling>
    <uc-cloud-image-editor-activity></uc-cloud-image-editor-activity>
  </uc-modal>
`,n})();oC.bindAttributes({headless:null});var sC="active",hb="",ZN=(()=>{class n extends $s{static styleAttrs=[...super.styleAttrs,"uc-file-uploader-minimal"];constructor(){super(),this.init$=N(x({},this.init$),{singleUpload:!1,isHiddenStartFrom:!1,classUploadList:hb,classStartFrom:hb})}_handleModalOpen(t){t.id===V.activities.CLOUD_IMG_EDIT&&this.set$({classUploadList:sC}),this.$["*currentActivity"]===V.activities.UPLOAD_LIST&&this.set$({classUploadList:sC,isHiddenStartFrom:!0}),this.$["*uploadList"]?.length<=0&&this.set$({classStartFrom:sC})}_handleModalClose(t){t.id===this.$["*currentActivity"]&&(this.$["*currentActivity"]=V.activities.UPLOAD_LIST,this.set$({isHiddenStartFrom:!1})),t.id===V.activities.CLOUD_IMG_EDIT&&(this.$["*currentActivity"]=V.activities.UPLOAD_LIST)}initCallback(){super.initCallback();let t=this.ref.uBlock;this.sub("*currentActivity",r=>{r===V.activities.UPLOAD_LIST&&this.modalManager.closeAll(),r||(this.$["*currentActivity"]=t.initActivity||V.activities.START_FROM)}),this.sub("*uploadList",r=>{r?.length>0?(this.$["*currentActivity"]=V.activities.UPLOAD_LIST,this.set$({classStartFrom:hb})):(this.set$({classUploadList:hb,isHiddenStartFrom:!1}),this.$["*currentActivity"]=t.initActivity||V.activities.START_FROM)}),this.subConfigValue("confirmUpload",r=>{r!==!1&&(this.cfg.confirmUpload=!1)}),this.subConfigValue("filesViewMode",r=>{this.setAttribute("mode",r),this.subConfigValue("multiple",i=>{r==="grid"?(i?this.style.removeProperty("--uc-grid-col"):this.style.setProperty("--uc-grid-col","1"),this.$.singleUpload=!i):(this.style.removeProperty("--uc-grid-col"),this.$.singleUpload=!1)})}),this.handleModalOpen=this._handleModalOpen.bind(this),this.handleModalClose=this._handleModalClose.bind(this),this.modalManager.subscribe(qt.OPEN,this.handleModalOpen),this.modalManager.subscribe(qt.CLOSE,this.handleModalClose)}destroyCallback(){super.destroyCallback(),this.modalManager.unsubscribe(qt.OPEN,this.handleModalOpen),this.modalManager.unsubscribe(qt.CLOSE,this.handleModalClose)}}return n.template=`
  <uc-start-from set="@hidden: isHiddenStartFrom; @class:classStartFrom">
    <uc-drop-area set="@single:singleUpload;" initflow clickable tabindex="0" l10n="choose-file"></uc-drop-area>
    <uc-copyright></uc-copyright>
  </uc-start-from>
  <uc-upload-list set="@class:classUploadList" ref="uBlock"></uc-upload-list>

  <uc-modal id="start-from" strokes block-body-scrolling>
    <uc-start-from>
      <uc-drop-area with-icon clickable></uc-drop-area>
      <uc-source-list role="list" wrap></uc-source-list>
      <button type="button" l10n="start-from-cancel" class="uc-secondary-btn" set="onclick: *historyBack"></button>
    </uc-start-from>
  </uc-modal>

  <uc-modal id="camera" strokes block-body-scrolling>
    <uc-camera-source></uc-camera-source>
  </uc-modal>

  <uc-modal id="url" strokes block-body-scrolling>
    <uc-url-source></uc-url-source>
  </uc-modal>

  <uc-modal id="external" strokes block-body-scrolling>
    <uc-external-source></uc-external-source>
  </uc-modal>

  <uc-modal id="cloud-image-edit" strokes block-body-scrolling>
    <uc-cloud-image-editor-activity></uc-cloud-image-editor-activity>
  </uc-modal>
`,n})();var YN=(()=>{class n extends $s{static styleAttrs=[...super.styleAttrs,"uc-file-uploader-inline"];constructor(){super(),this.init$=N(x({},this.init$),{couldCancel:!1,cancel:()=>{this.couldHistoryBack?this.$["*historyBack"]():this.couldShowList&&(this.$["*currentActivity"]=V.activities.UPLOAD_LIST)}})}get couldHistoryBack(){let t=this.$["*history"];return t.length>1&&t[t.length-1]!==V.activities.START_FROM}get couldShowList(){return this.cfg.showEmptyList||this.$["*uploadList"].length>0}initCallback(){super.initCallback();let t=this.ref.uBlock;this.sub("*currentActivity",r=>{r||(this.$["*currentActivity"]=t.initActivity||V.activities.START_FROM)}),this.sub("*uploadList",r=>{r?.length>0&&this.$["*currentActivity"]===(t.initActivity||V.activities.START_FROM)&&(this.$["*currentActivity"]=V.activities.UPLOAD_LIST)}),this.sub("*history",()=>{this.$.couldCancel=this.couldHistoryBack||this.couldShowList})}}return n.template=`
  <uc-start-from>
    <uc-drop-area with-icon clickable></uc-drop-area>
    <uc-source-list role="list" wrap></uc-source-list>
    <button
      type="button"
      l10n="start-from-cancel"
      class="uc-cancel-btn uc-secondary-btn"
      set="onclick: cancel; @hidden: !couldCancel"
    ></button>
    <uc-copyright></uc-copyright>
  </uc-start-from>
  <uc-upload-list ref="uBlock"></uc-upload-list>
  <uc-camera-source></uc-camera-source>
  <uc-url-source></uc-url-source>
  <uc-external-source></uc-external-source>
  <uc-cloud-image-editor-activity></uc-cloud-image-editor-activity>
`,n})();var pb=class extends _c{static styleAttrs=[...super.styleAttrs,"uc-wgt-common"];initCallback(){super.initCallback(),this.a11y?.registerBlock(this)}};function Ws(n){for(let e in n){let t=[...e].reduce((r,i)=>(i.toUpperCase()===i&&(i="-"+i.toLowerCase()),r+=i),"");t.startsWith("-")&&(t=t.replace("-","")),t.startsWith("uc-")||(t="uc-"+t),n[e].reg&&n[e].reg(t)}}var aC="UC";function JN(n,e=!1){return h(this,null,function*(){return new Promise((t,r)=>{if(typeof document!="object"){t(null);return}if(typeof window=="object"&&window[aC]){t(window[aC]);return}let i=document.createElement("script");i.async=!0,i.src=n,i.onerror=()=>{r()},i.onload=()=>{let o=window[aC];e&&Ws(o),t(o)},document.head.appendChild(i)})})}var Fu=class n{electionsComponent=nv(Lu);uploadComponent=nv(qs);constructor(){}cdn="";getCDN(){return this.cdn}postCDN(e){this.cdn=e,this.electionsComponent.cdn=e}resetcdn(){this.uploadComponent.resetcdn()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})};var OG=["ctxProvider"];Ws(ah);var qs=class n{constructor(e){this.GlobalsService=e}ctxProviderRef;files=[];ngOnInit(){this.ctxProviderRef.nativeElement.addEventListener("change",this.handleChangeEvent)}ngOnDestroy(){this.ctxProviderRef.nativeElement.removeEventListener("change",this.handleChangeEvent)}handleChangeEvent=e=>{this.files=e.detail.allEntries.filter(t=>t.status==="success"),this.GlobalsService.postCDN(this.files[0].cdnUrl)};getcdn(){return this.files[0].cdnUrl}resetcdn(){this.files=[],this.GlobalsService.postCDN("")}static \u0275fac=function(t){return new(t||n)(ee(Fu))};static \u0275cmp=ze({type:n,selectors:[["app-upload"]],viewQuery:function(t,r){if(t&1&&yd(OG,7),t&2){let i;ya(i=va())&&(r.ctxProviderRef=i.first)}},decls:5,vars:0,consts:[["ctxProvider",""],[1,"wrapper"],["ctx-name","my-uploader","source-list","local, camera","pubkey","8c2eec6433dc523825fe","multiple","false","removeCopyright","true"],["ctx-name","my-uploader"]],template:function(t,r){t&1&&(v(0,"div",1),P(1,"uc-config",2)(2,"uc-file-uploader-regular",3)(3,"uc-upload-ctx-provider",3,0),y())},dependencies:[sn],styles:[".wrapper[_ngcontent-%COMP%]{height:50px}.output[_ngcontent-%COMP%]{border:1px solid #fff;padding:10px;margin-left:40%;margin-right:42.5%}"]})};function RG(n,e){if(n&1){let t=Pe();v(0,"mat-list-item",19)(1,"h4",20),G("click",function(){let i=H(t).$implicit,o=O(3);return z(o.viewElection(i))}),C(2),y(),P(3,"mat-divider"),y()}if(n&2){let t=e.$implicit;A(2),lt(t)}}function PG(n,e){if(n&1&&(v(0,"mat-list"),ae(1,RG,4,1,"mat-list-item",18),y()),n&2){let t=O(2);A(),ne("ngForOf",t.ownedElections)}}function FG(n,e){if(n&1){let t=Pe();v(0,"button",21),G("click",function(){H(t);let i=O(2);return z(i.ownedElectionNames())}),C(1,"Click here to refresh list"),y()}}function LG(n,e){if(n&1){let t=Pe();v(0,"div",6)(1,"div",8)(2,"h3",9),C(3,"Create Election"),y(),v(4,"div",10)(5,"h4"),C(6,"Election Name:"),y(),v(7,"input",11),pt("ngModelChange",function(i){H(t);let o=O();return xt(o.electionName,i)||(o.electionName=i),z(i)}),y(),P(8,"br"),v(9,"h4"),C(10,"Start Date:"),y(),v(11,"input",12),pt("ngModelChange",function(i){H(t);let o=O();return xt(o.startDate,i)||(o.startDate=i),z(i)}),y(),P(12,"br"),v(13,"h4"),C(14,"End Date:"),y(),v(15,"input",12),pt("ngModelChange",function(i){H(t);let o=O();return xt(o.endDate,i)||(o.endDate=i),z(i)}),y(),P(16,"br"),v(17,"h4"),C(18,"Domain Filter:"),y(),v(19,"input",13),pt("ngModelChange",function(i){H(t);let o=O();return xt(o.domainFilter,i)||(o.domainFilter=i),z(i)}),y(),P(20,"br")(21,"br"),v(22,"button",14),G("click",function(){H(t);let i=O();return z(i.checkDate())}),C(23,"Create Election"),y(),v(24,"p"),C(25),y()()(),v(26,"div",15)(27,"h3",9),C(28,"Election List"),y(),v(29,"div",16),ae(30,PG,2,1,"mat-list",17)(31,FG,2,0,"ng-template",null,0,sl),y()()()}if(n&2){let t=ol(32),r=O();A(7),ht("ngModel",r.electionName),A(4),ht("ngModel",r.startDate),A(4),ht("ngModel",r.endDate),A(4),ht("ngModel",r.domainFilter),A(6),lt(r.msg),A(5),ne("ngIf",r.elections.length>0)("ngIfElse",t)}}function BG(n,e){n&1&&P(0,"img",29)}function UG(n,e){if(n&1&&P(0,"img",30),n&2){let t=O(3);ct("src",t.cdn,Rt)}}function VG(n,e){if(n&1){let t=Pe();v(0,"mat-list-item",41),G("click",function(){let i=H(t).index,o=O(5);return z(o.toggleCandidateUpdateOn(o.candidates[i]))}),v(1,"h4",42),C(2),y(),P(3,"mat-divider"),y()}if(n&2){let t=e.$implicit;A(2),lt(t)}}function jG(n,e){if(n&1&&(v(0,"mat-list"),ae(1,VG,4,1,"mat-list-item",40),y()),n&2){let t=O(4);A(),ne("ngForOf",t.candidates)}}function $G(n,e){if(n&1){let t=Pe();v(0,"button",21),G("click",function(){H(t);let i=O(4);return z(i.getCandidateNames())}),C(1,"Click here to refresh list"),y()}}function HG(n,e){if(n&1&&(v(0,"div",26)(1,"h3",9),C(2,"Candidate List"),y(),v(3,"div",16),ae(4,jG,2,1,"mat-list",17)(5,$G,2,0,"ng-template",null,1,sl),y()()),n&2){let t=ol(6),r=O(3);A(4),ne("ngIf",r.candidates.length>0)("ngIfElse",t)}}function zG(n,e){if(n&1){let t=Pe();v(0,"div",26)(1,"h3",9),C(2),y(),v(3,"button",43),G("click",function(){H(t);let i=O(3);return z(i.updateCandidateInfo())}),C(4,"Save"),y(),v(5,"button",44),G("click",function(){H(t);let i=O(3);return z(i.deleteCandidate())}),C(6,"Delete"),y(),v(7,"button",45),G("click",function(){H(t);let i=O(3);return z(i.toggleCandidateUpdateOff())}),C(8,"Cancel"),y(),v(9,"div",46)(10,"div",28),P(11,"img",30),y(),v(12,"div",31)(13,"h4"),C(14,"Candidate Name:"),y(),v(15,"input",32),pt("ngModelChange",function(i){H(t);let o=O(3);return xt(o.candidateNameUpdate,i)||(o.candidateNameUpdate=i),z(i)}),y(),P(16,"br"),v(17,"h4"),C(18,"Position:"),y(),v(19,"select",33),pt("ngModelChange",function(i){H(t);let o=O(3);return xt(o.candidatePositionUpdate,i)||(o.candidatePositionUpdate=i),z(i)}),v(20,"option",34),C(21,"Chairman"),y(),v(22,"option",35),C(23,"Vice Chairman"),y(),v(24,"option",36),C(25,"Secretary"),y(),v(26,"option",37),C(27,"Auditor"),y(),v(28,"option",38),C(29,"P.I.O."),y()(),P(30,"br"),v(31,"h4"),C(32,"Platform:"),y(),v(33,"textarea",39),pt("ngModelChange",function(i){H(t);let o=O(3);return xt(o.candidatePlatformUpdate,i)||(o.candidatePlatformUpdate=i),z(i)}),y()()()()}if(n&2){let t=O(3);A(2),fe("Update Candidate : ",t.candidateNameUpdate," "),A(9),ct("src",t.cdnUpdate,Rt),A(4),ht("ngModel",t.candidateNameUpdate),A(4),ht("ngModel",t.candidatePositionUpdate),A(14),ht("ngModel",t.candidatePlatformUpdate)}}function GG(n,e){if(n&1){let t=Pe();v(0,"div",25)(1,"div",26)(2,"h3",9),C(3,"Add Candidate"),y(),v(4,"div",27)(5,"div",28),ae(6,BG,1,0,"img",29)(7,UG,1,1,"img",30),y(),P(8,"app-upload"),v(9,"div",31)(10,"h4"),C(11,"Candidate Name:"),y(),v(12,"input",32),pt("ngModelChange",function(i){H(t);let o=O(2);return xt(o.candidateName,i)||(o.candidateName=i),z(i)}),y(),P(13,"br"),v(14,"h4"),C(15,"Position:"),y(),v(16,"select",33),pt("ngModelChange",function(i){H(t);let o=O(2);return xt(o.candidatePosition,i)||(o.candidatePosition=i),z(i)}),v(17,"option",34),C(18,"Chairman"),y(),v(19,"option",35),C(20,"Vice Chairman"),y(),v(21,"option",36),C(22,"Secretary"),y(),v(23,"option",37),C(24,"Auditor"),y(),v(25,"option",38),C(26,"P.I.O."),y()(),P(27,"br"),v(28,"h4"),C(29,"Platform:"),y(),v(30,"textarea",39),pt("ngModelChange",function(i){H(t);let o=O(2);return xt(o.candidatePlatform,i)||(o.candidatePlatform=i),z(i)}),y(),P(31,"br"),v(32,"button",14),G("click",function(){H(t);let i=O(2);return z(i.addCandidate())}),C(33,"Add Candidate"),y()()()(),ae(34,HG,7,2,"div",26)(35,zG,34,5,"div",26),y()}if(n&2){let t=O(2);A(6),Se(t.cdn==""?6:7),A(6),ht("ngModel",t.candidateName),A(4),ht("ngModel",t.candidatePosition),A(14),ht("ngModel",t.candidatePlatform),A(4),Se(t.updateCandidate?t.updateCandidate?35:-1:34)}}function WG(n,e){if(n&1){let t=Pe();v(0,"div")(1,"h4"),C(2,"Election Name:"),y(),v(3,"input",11),pt("ngModelChange",function(i){H(t);let o=O(2);return xt(o.new_electionName,i)||(o.new_electionName=i),z(i)}),y(),P(4,"br"),v(5,"h4"),C(6,"Start Date:"),y(),v(7,"input",12),pt("ngModelChange",function(i){H(t);let o=O(2);return xt(o.new_startDate,i)||(o.new_startDate=i),z(i)}),y(),P(8,"br"),v(9,"h4"),C(10,"End Date:"),y(),v(11,"input",12),pt("ngModelChange",function(i){H(t);let o=O(2);return xt(o.new_endDate,i)||(o.new_endDate=i),z(i)}),y(),P(12,"br"),v(13,"h4"),C(14,"Domain Filter:"),y(),v(15,"input",11),pt("ngModelChange",function(i){H(t);let o=O(2);return xt(o.new_domainFilter,i)||(o.new_domainFilter=i),z(i)}),y(),v(16,"button",47),G("click",function(){H(t);let i=O(2);return z(i.updateElection())}),C(17,"Update"),y()()}if(n&2){let t=O(2);A(3),ht("ngModel",t.new_electionName),A(4),ht("ngModel",t.new_startDate),A(4),ht("ngModel",t.new_endDate),A(4),ht("ngModel",t.new_domainFilter)}}function qG(n,e){if(n&1&&(v(0,"div")(1,"h4"),C(2),y(),v(3,"h4"),C(4),y(),v(5,"h4"),C(6),y(),v(7,"h4"),C(8),y(),v(9,"h4"),C(10),y()()),n&2){let t=O(2);A(2),fe("Election ID: ",t.electionIdTitle,""),A(2),fe("Election Name: ",t._electionName,""),A(2),fe("Start Date: ",t._startDate,""),A(2),fe("End Date: ",t._endDate,""),A(2),fe("Allowed Domain: ",t._domainFilter,"")}}function KG(n,e){if(n&1){let t=Pe();v(0,"div",7)(1,"div",9)(2,"h3"),C(3),y()(),v(4,"div",22)(5,"button",23),G("click",function(){H(t);let i=O();return z(i.toggleWindow("candidates"))}),C(6,"Manage Candidates"),y(),v(7,"button",23),G("click",function(){H(t);let i=O();return z(i.toggleWindow("update"))}),C(8,"Update Election"),y(),v(9,"button",23),G("click",function(){H(t);let i=O();return z(i.toggleWindow("details"))}),C(10,"Election Details"),y(),v(11,"button",24),G("click",function(){H(t);let i=O();return i.manage=1,z(i.toggleCandidateUpdateOff())}),C(12,"CLOSE"),y()(),ae(13,GG,36,5,"div",25)(14,WG,18,4,"div")(15,qG,11,5,"div"),y()}if(n&2){let t=O();A(3),vd("[ID: ",t.electionIdTitle,"] [Election Name: ",t._electionName,"]"),A(10),Se(t.toggleWindowManager=="candidates"?13:-1),A(),Se(t.toggleWindowManager=="update"?14:-1),A(),Se(t.toggleWindowManager=="details"?15:-1)}}Ws(ah);var Lu=class n{onResize(){this.screenWidth.set(window.innerWidth),this.screenWidth()<768&&this.isLeftSidebarCollapsed.set(!0)}files=[];manage=1;isLeftSidebarCollapsed=Gt(!1);screenWidth=Gt(window.innerWidth);blockchainService=I(Pr);globalsService=I(Fu);router=I(Ft);whatAmI="";elections=[];ownedElections=[];electionName="";_electionName="";startDate="";endDate="";domainFilter="";_startDate="";_endDate="";_domainFilter="";new_electionName="";new_startDate="";new_endDate="";new_domainFilter="";toggleWindowManager="candidates";address="";msg="";candidateName="";candidatePosition="";candidatePlatform="";candidates=[];updateCandidate=!1;candidateNameUpdate="";candidatePositionUpdate="";candidatePlatformUpdate="";candidateNameTitle="";cdnUpdate="";cdn="";electionIdTitle=0;ngDoCheck(){return h(this,null,function*(){this.cdn=this.globalsService.getCDN()})}ngOnInit(){return h(this,null,function*(){try{yield this.blockchainService.loadBlockchain();let e=yield this.blockchainService.userExists(yield this.blockchainService.getUserAddress()),t=yield this.blockchainService.isOrg(yield this.blockchainService.getUserAddress());e?(localStorage.clear(),localStorage.setItem("user","true"),this.whatAmI="Voter"):t?(localStorage.clear(),localStorage.setItem("user","false"),this.whatAmI="Organizer"):(localStorage.clear(),this.router.navigate(["/auth"]))}catch{localStorage.clear(),this.whatAmI="",this.router.navigate(["/auth"])}this.whatAmI==""&&(localStorage.clear(),this.router.navigate(["/auth"])),this.isLeftSidebarCollapsed.set(this.screenWidth()<768),this.ownedElectionNames()})}changeIsLeftSidebarCollapsed(e){this.isLeftSidebarCollapsed.set(e)}sizeClass=Sn(()=>this.isLeftSidebarCollapsed()?"":this.screenWidth()>768?"body-trimmed":"body-md-screen");toggleWindow(e){return h(this,null,function*(){this.toggleWindowManager=e,e=="details"?(this._startDate=yield this.blockchainService.getElectionStartDate(this.electionIdTitle),this._endDate=yield this.blockchainService.getElectionEndDate(this.electionIdTitle),this._domainFilter=yield this.blockchainService.getElectionDomainFilter(this.electionIdTitle)):e=="update"&&(this._startDate=yield this.blockchainService.getElectionStartDate(this.electionIdTitle),this._endDate=yield this.blockchainService.getElectionEndDate(this.electionIdTitle),this._domainFilter=yield this.blockchainService.getElectionDomainFilter(this.electionIdTitle),this.new_electionName=this._electionName,this.new_startDate=this._startDate,this.new_endDate=this._endDate,this.new_domainFilter=this._domainFilter)})}checkDate(){if(this.electionName==""||this.startDate==""||this.endDate==""||this.domainFilter==""){this.msg="Please fill required fields";return}let e=new Date(this.startDate),t=new Date(this.endDate);e<t?(this.msg="",this.createElection(),this.ownedElectionNames()):this.startDate==""||this.endDate==""?this.msg="Please fill required fields":this.msg="Start date must be before end date"}createElection(){return h(this,null,function*(){yield this.blockchainService.createElection(this.electionName,this.startDate,this.endDate,this.domainFilter),this.getOwnedElections()})}getElections(){return h(this,null,function*(){this.elections=yield this.blockchainService.getElectionNames(),console.log(this.elections)})}getOwnedElections(){return h(this,null,function*(){this.ownedElections=yield this.blockchainService.getOwnedElectionNames(),console.log(this.ownedElections),console.log(this.elections)})}ownedElectionNames(){return h(this,null,function*(){this.ownedElections=yield this.blockchainService.getOwnedElectionNames();for(let e=0;e<this.ownedElections.length;e++)this.elections[e]=yield this.blockchainService.getElectionIDbyName(this.ownedElections[e])})}updateElection(){return h(this,null,function*(){confirm("Are you sure you want to update this election?")&&(yield this.blockchainService.updateElection(this.electionIdTitle,this.new_electionName,this.new_startDate,this.new_endDate,this.new_domainFilter),this.ownedElectionNames(),this.manage=1)})}viewElection(e){return h(this,null,function*(){this.elections=yield this.blockchainService.getElectionNames();let t=Number(yield this.getOwnedElectionIDbyName(e)),r=yield this.blockchainService.getElectionEndDate(t);if(new Date>new Date(r)){alert("Election ended at "+new Date(r)+", you cannot edit this election.");return}this.electionIdTitle=t,this._electionName=this.elections[t-1],console.log(this.electionName),this.getCandidateNames(),this.manage=2})}getOwnedElectionIDbyName(e){return h(this,null,function*(){return yield this.blockchainService.getElectionIDbyName(e)})}getElectionName(e){return h(this,null,function*(){this.electionName=yield this.blockchainService.getElectionName(e),this._electionName=this.electionName})}getElectionStartDate(e){return h(this,null,function*(){this.startDate=yield this.blockchainService.getElectionStartDate(e),this._startDate=this.startDate})}getElectionEndDate(e){return h(this,null,function*(){this.endDate=yield this.blockchainService.getElectionEndDate(e),this._endDate=this.endDate})}getElectionDomainFilter(e){return h(this,null,function*(){this.domainFilter=yield this.blockchainService.getElectionDomainFilter(e),this._domainFilter=this.domainFilter})}getElectionDetails(e){return h(this,null,function*(){yield this.getElectionName(e),yield this.getElectionStartDate(e),yield this.getElectionEndDate(e),yield this.getElectionDomainFilter(e)})}updateElectionDetails(){return h(this,null,function*(){this.blockchainService.updateElectionDetails(this.electionIdTitle,this.new_electionName,this.new_startDate,this.new_endDate,this.new_domainFilter)})}getAddress(){return h(this,null,function*(){this.address=yield this.blockchainService.getUserAddress()})}getcdnurl(){this.cdn=this.globalsService.getCDN(),console.log(this.cdn)}addCandidate(){return h(this,null,function*(){if(this.candidateName==""||this.candidatePosition==""||this.candidatePlatform==""||this.cdn=="")return;let e=this.electionIdTitle;yield this.blockchainService.addCandidate(e,this.candidateName,this.candidatePosition,this.candidatePlatform,this.globalsService.getCDN()),this.getCandidateNames(),this.candidateName="",this.candidatePosition="",this.candidatePlatform="",this.globalsService.postCDN(""),this.globalsService.resetcdn(),this.cdn=""})}toggleCandidateUpdateOn(e){return h(this,null,function*(){this.updateCandidate=!0,this.candidateNameTitle=e,this.candidateNameUpdate=e,this.candidatePositionUpdate=yield this.blockchainService.getCandidatePosition(this.electionIdTitle,this.candidates.indexOf(e)),this.candidatePlatformUpdate=yield this.blockchainService.getCandidatePlatform(this.electionIdTitle,this.candidates.indexOf(e)),this.cdnUpdate=yield this.blockchainService.getCandidateCdn(this.electionIdTitle,this.candidates.indexOf(e))})}toggleCandidateUpdateOff(){return h(this,null,function*(){this.updateCandidate=!1,this.candidateNameUpdate=""})}getCandidateNames(){return h(this,null,function*(){this.candidates=yield this.blockchainService.getCandidates(this.electionIdTitle)})}deleteCandidate(){return h(this,null,function*(){confirm("Are you sure you want to delete this candidate?")&&(yield this.blockchainService.deleteCandidate(this.electionIdTitle,this.candidates.indexOf(this.candidateNameUpdate)),this.getCandidateNames(),this.candidateNameUpdate="",this.candidatePositionUpdate="",this.candidatePlatformUpdate="",this.toggleCandidateUpdateOff())})}updateCandidateInfo(){return h(this,null,function*(){if(this.candidateNameUpdate==""||this.candidatePositionUpdate==""||this.candidatePlatformUpdate=="")return;confirm("Are you sure you want to update this candidate?")&&(yield this.blockchainService.updateCandidate(this.electionIdTitle,this.candidates.indexOf(this.candidateNameTitle),this.candidateNameUpdate,this.candidatePositionUpdate,this.candidatePlatformUpdate,this.globalsService.getCDN()),this.getCandidateNames(),this.toggleCandidateUpdateOff())})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ze({type:n,selectors:[["app-elections"]],hostBindings:function(t,r){t&1&&G("resize",function(){return r.onResize()},!1,Ci)},decls:8,vars:4,consts:[["noElections",""],["noCandidates",""],[3,"changeIsLeftSidebarCollapsed","isLeftSidebarCollapsed"],[1,"body",3,"ngClass"],[2,"padding-top","1rem"],[2,"margin-left","-5rem"],[1,"flex-container"],[1,"box-container-full"],[1,"box-container"],[1,"box-title"],[1,"flexbox"],["type","text",3,"ngModelChange","ngModel"],["type","datetime-local",3,"ngModelChange","ngModel"],["type","text","placeholder","example: @domain.com, type 'any' for any domain",3,"ngModelChange","ngModel"],[1,"btn",3,"click"],[1,"box-container",2,"margin-right","3rem"],[1,"box"],[4,"ngIf","ngIfElse"],["class","list-item",4,"ngFor","ngForOf"],[1,"list-item"],[1,"btn-list",2,"text-align","center",3,"click"],[1,"btn-refresh",3,"click"],[1,"box-padding"],[1,"btn-manage",3,"click"],[1,"btn-manage",2,"width","100px","background-color","red","color","black",3,"click"],[1,"manage-flex"],[1,"box-container",2,"margin-top","10px","height","740px"],[1,"box-no-scroll"],[1,"portrait-container"],["src","img/BlockVote.png",1,"portrait"],[1,"portrait",3,"src"],[2,"margin","1rem","display","flex","flex-direction","column","justify-content","center"],["type","text",2,"height","1.5rem",3,"ngModelChange","ngModel"],["name","position","id","position",3,"ngModelChange","ngModel"],["value","chairman"],["value","vice-chairman"],["value","secretary"],["value","auditor"],["value","pio"],[2,"height","10rem",3,"ngModelChange","ngModel"],["class","list-item",3,"click",4,"ngFor","ngForOf"],[1,"list-item",3,"click"],[1,"btn-list",2,"text-align","center"],[1,"close",2,"background-color","rgb(99, 158, 12)",3,"click"],[1,"close",3,"click"],[1,"close",2,"background-color","rgb(39, 39, 39)","color","white",3,"click"],[1,"box-no-scroll",2,"height","90%"],[3,"click"]],template:function(t,r){t&1&&(v(0,"app-left-sidebar",2),G("changeIsLeftSidebarCollapsed",function(o){return r.changeIsLeftSidebarCollapsed(o)}),y(),v(1,"div",3)(2,"div")(3,"h3",4),C(4,"Manage Elections"),y(),P(5,"hr",5),y(),ae(6,LG,33,7,"div",6)(7,KG,16,5,"div",7),y()),t&2&&(ne("isLeftSidebarCollapsed",r.isLeftSidebarCollapsed()),A(),ne("ngClass",r.sizeClass()),A(5),Se(r.manage==1?6:-1),A(),Se(r.manage==2?7:-1))},dependencies:[sn,xr,cl,ll,_r,vS,wS,Di,Nm,os,oo,Lr,mu,pu,qs],styles:[".body[_ngcontent-%COMP%]{width:calc(100% - 5rem);margin-left:5rem;z-index:0;position:relative;top:0;transition:all .5s ease;background:#000;padding-left:3rem;height:100vh}.body-trimmed[_ngcontent-%COMP%]{width:calc(100% - 16.5625rem);margin-left:16.5625rem}.body-md-screen[_ngcontent-%COMP%]{width:calc(100% - 5rem);margin-left:5rem}.box-container[_ngcontent-%COMP%]{border:1px solid #fff;border-radius:13px;width:45%;padding:0;height:90%}.box-container-full[_ngcontent-%COMP%]{border:1px solid #fff;border-radius:13px;width:98%;padding:0;height:90%}.box[_ngcontent-%COMP%]{overflow-y:scroll;height:93%;scrollbar-width:thin;scrollbar-color:#CECECE #272635}.box-no-scroll[_ngcontent-%COMP%]{height:93%}.flex-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;height:90vh}.box-title[_ngcontent-%COMP%]{display:flex;background-color:#fff;color:#000;align-items:center;justify-content:center;border-radius:10px 10px 0 0;border-bottom:1px solid black;margin-bottom:0}.flexbox[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;padding-left:5rem;padding-right:5rem;padding-top:1rem}.btn-refresh[_ngcontent-%COMP%]{width:250px;height:45px;background-color:#272635;color:#fff;border-radius:10px;border:3px solid #CECECE;box-shadow:0 2px 2px #0003;margin-bottom:10px;font-family:Inter;font-size:15px;display:flex;justify-content:center;align-items:center;margin-top:40%;margin-left:33%}.btn[_ngcontent-%COMP%]{height:45px;background-color:#272635;color:#fff;border-radius:10px;border:3px solid #CECECE;box-shadow:0 2px 2px #0003;margin-bottom:10px;font-size:15px;display:flex;justify-content:center;align-items:center}.btn-manage[_ngcontent-%COMP%]{background-color:#272635;color:#fff;width:600px;height:30px;font-size:smaller;border:1px solid #CECECE}.btn-manage[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000;transition:all .3s ease}.box-padding[_ngcontent-%COMP%]{padding:0;display:flex;flex-direction:row;border:#272635 1px solid}.election-logo[_ngcontent-%COMP%]{width:100px;height:100px}.election-logo-container[_ngcontent-%COMP%]{margin-left:-10%}.manage-flex[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding-left:10px;padding-right:10px;height:750px;justify-content:space-between}.portrait[_ngcontent-%COMP%]{width:100px;height:100px}.portrait-container[_ngcontent-%COMP%]{border:1px solid white;width:100px;height:100px;margin:10px auto auto}.btn-list[_ngcontent-%COMP%]{margin:0;cursor:pointer}.btn-list[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000;transition:all .3s ease}.close[_ngcontent-%COMP%]{background-color:red;width:33.3%;margin-top:0}.flex-only[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;padding-left:25rem;padding-right:25rem}"]})};var cC=(()=>{class n{_listeners=[];notify(t,r){for(let i of this._listeners)i(t,r)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(r=>t!==r)}}ngOnDestroy(){this._listeners=[]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var XN=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ze({type:n,selectors:[["structural-styles"]],decls:0,vars:0,template:function(r,i){},styles:['.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}'],encapsulation:2,changeDetection:0})}return n})();var Ur=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(Ur||{}),lC=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=Ur.HIDDEN;constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i}fadeOut(){this._renderer.fadeOutRipple(this)}},eO=hu({passive:!0,capture:!0}),uC=class{_events=new Map;addHandler(e,t,r,i){let o=this._events.get(t);if(o){let s=o.get(r);s?s.add(i):o.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,eO)})}removeHandler(e,t,r){let i=this._events.get(e);if(!i)return;let o=i.get(t);o&&(o.delete(r),o.size===0&&i.delete(t),i.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,eO)))}_delegateEventHandler=e=>{let t=Mo(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(o=>o.handleEvent(e))})}},tO={enterDuration:225,exitDuration:150},QG=800,nO=hu({passive:!0,capture:!0}),rO=["mousedown","touchstart"],iO=["mouseup","mouseleave","touchend","touchcancel"],ZG=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ze({type:n,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[".mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}"],encapsulation:2,changeDetection:0})}return n})(),dC=class n{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new uC;constructor(e,t,r,i,o){this._target=e,this._ngZone=t,this._platform=i,i.isBrowser&&(this._containerElement=Rs(r)),o&&o.get(Hf).load(ZG)}fadeInRipple(e,t,r={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=x(x({},tO),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);let s=r.radius||YG(e,t,i),a=e-i.left,c=t-i.top,l=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${a-s}px`,u.style.top=`${c-s}px`,u.style.height=`${s*2}px`,u.style.width=`${s*2}px`,r.color!=null&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);let d=window.getComputedStyle(u),f=d.transitionProperty,p=d.transitionDuration,m=f==="none"||p==="0s"||p==="0s, 0s"||i.width===0&&i.height===0,b=new lC(this,u,r,m);u.style.transform="scale3d(1, 1, 1)",b.state=Ur.FADING_IN,r.persistent||(this._mostRecentTransientRipple=b);let w=null;return!m&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let _=()=>{w&&(w.fallbackTimer=null),clearTimeout(T),this._finishRippleTransition(b)},D=()=>this._destroyRipple(b),T=setTimeout(D,l+100);u.addEventListener("transitionend",_),u.addEventListener("transitioncancel",D),w={onTransitionEnd:_,onTransitionCancel:D,fallbackTimer:T}}),this._activeRipples.set(b,w),(m||!l)&&this._finishRippleTransition(b),b}fadeOutRipple(e){if(e.state===Ur.FADING_OUT||e.state===Ur.HIDDEN)return;let t=e.element,r=x(x({},tO),e.config.animation);t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=Ur.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=Rs(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,rO.forEach(r=>{n._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{iO.forEach(t=>{this._triggerElement.addEventListener(t,this,nO)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Ur.FADING_IN?this._startFadeOutTransition(e):e.state===Ur.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=Ur.VISIBLE,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Ur.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){let t=Uf(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+QG;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Vf(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===Ur.VISIBLE||e.config.terminateOnPointerUp&&e.state===Ur.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(rO.forEach(t=>n._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(iO.forEach(t=>e.removeEventListener(t,this,nO)),this._pointerUpEventsRegistered=!1))}};function YG(n,e,t){let r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}var JG=new Q("mat-ripple-global-options"),oO=(()=>{class n{_elementRef=I(vt);_animationMode=I(Bp,{optional:!0});color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let t=I(Ze),r=I(Bi),i=I(JG,{optional:!0}),o=I(zt);this._globalOptions=i||{},this._rippleRenderer=new dC(this,t,this._elementRef,r,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:x(x(x({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return typeof t=="number"?this._rippleRenderer.fadeInRipple(t,r,x(x({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,x(x({},this.rippleConfig),t))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ot({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,i){r&2&&Gn("mat-ripple-unbounded",i.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})();var XG=["mat-internal-form-field",""],eW=["*"],sO=(()=>{class n{labelPosition;static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ze({type:n,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(r,i){r&2&&Gn("mdc-form-field--align-end",i.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},attrs:XG,ngContentSelectors:eW,decls:1,vars:0,template:function(r,i){r&1&&(gd(),bd(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}return n})();var aO=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pt({type:n});static \u0275inj=Ot({imports:[Fr,Fr]})}return n})();var tW=["input"],nW=["formField"],rW=["*"],fC=class{source;value;constructor(e,t){this.source=e,this.value=t}};var iW=new Q("MatRadioGroup"),oW=new Q("mat-radio-default-options",{providedIn:"root",factory:sW});function sW(){return{color:"accent",disabledInteractive:!1}}var hC=(()=>{class n{_elementRef=I(vt);_changeDetector=I(Ai);_focusMonitor=I(Y1);_radioDispatcher=I(cC);_defaultOptions=I(oW,{optional:!0});_ngZone=I(Ze);_renderer=I(Xn);_uniqueId=I(n_).getId("mat-radio-");_cleanupClick;id=this._uniqueId;name;ariaLabel;ariaLabelledby;ariaDescribedby;disableRipple=!1;tabIndex=0;get checked(){return this._checked}set checked(t){this._checked!==t&&(this._checked=t,t&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!t&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),t&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this.radioGroup!==null&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}_labelPosition;get disabled(){return this._disabled||this.radioGroup!==null&&this.radioGroup.disabled}set disabled(t){this._setDisabled(t)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=t}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._defaultOptions&&this._defaultOptions.color||"accent"}set color(t){this._color=t}_color;get disabledInteractive(){return this._disabledInteractive||this.radioGroup!==null&&this.radioGroup.disabledInteractive}set disabledInteractive(t){this._disabledInteractive=t}_disabledInteractive;change=new Dt;radioGroup;get inputId(){return`${this.id||this._uniqueId}-input`}_checked=!1;_disabled;_required;_value=null;_removeUniqueSelectionListener=()=>{};_previousTabIndex;_inputElement;_rippleTrigger;_noopAnimations;_injector=I(zt);constructor(){I(Hf).load(XN);let t=I(iW,{optional:!0}),r=I(Bp,{optional:!0}),i=I(new dp("tabindex"),{optional:!0});this.radioGroup=t,this._noopAnimations=r==="NoopAnimations",this._disabledInteractive=this._defaultOptions?.disabledInteractive??!1,i&&(this.tabIndex=Qp(i,0))}focus(t,r){r?this._focusMonitor.focusVia(this._inputElement,r,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((t,r)=>{t!==this.id&&r===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()}),this._ngZone.runOutsideAngular(()=>{this._cleanupClick=this._renderer.listen(this._inputElement.nativeElement,"click",this._onInputClick)})}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new fC(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){let r=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),r&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(t){this._onInputInteraction(t),(!this.disabled||this.disabledInteractive)&&this._inputElement?.nativeElement.focus()}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}_onInputClick=t=>{this.disabled&&this.disabledInteractive&&t.preventDefault()};_updateTabIndex(){let t=this.radioGroup,r;if(!t||!t.selected||this.disabled?r=this.tabIndex:r=t.selected===this?this.tabIndex:-1,r!==this._previousTabIndex){let i=this._inputElement?.nativeElement;i&&(i.setAttribute("tabindex",r+""),this._previousTabIndex=r,il(()=>{queueMicrotask(()=>{t&&t.selected&&t.selected!==this&&document.activeElement===i&&(t.selected?._inputElement.nativeElement.focus(),document.activeElement===i&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ze({type:n,selectors:[["mat-radio-button"]],viewQuery:function(r,i){if(r&1&&(yd(tW,5),yd(nW,7,vt)),r&2){let o;ya(o=va())&&(i._inputElement=o.first),ya(o=va())&&(i._rippleTrigger=o.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:19,hostBindings:function(r,i){r&1&&G("focus",function(){return i._inputElement.nativeElement.focus()}),r&2&&(Gr("id",i.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),Gn("mat-primary",i.color==="primary")("mat-accent",i.color==="accent")("mat-warn",i.color==="warn")("mat-mdc-radio-checked",i.checked)("mat-mdc-radio-disabled",i.disabled)("mat-mdc-radio-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable",i._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",Wn],tabIndex:[2,"tabIndex","tabIndex",t=>t==null?0:Qp(t)],checked:[2,"checked","checked",Wn],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",Wn],required:[2,"required","required",Wn],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Wn]},outputs:{change:"change"},exportAs:["matRadioButton"],ngContentSelectors:rW,decls:13,vars:17,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(r,i){if(r&1){let o=Pe();gd(),v(0,"div",2,0)(2,"div",3)(3,"div",4),G("click",function(a){return H(o),z(i._onTouchTargetClick(a))}),y(),v(4,"input",5,1),G("change",function(a){return H(o),z(i._onInputInteraction(a))}),y(),v(6,"div",6),P(7,"div",7)(8,"div",8),y(),v(9,"div",9),P(10,"div",10),y()(),v(11,"label",11),bd(12),y()()}r&2&&(ne("labelPosition",i.labelPosition),A(2),Gn("mdc-radio--disabled",i.disabled),A(2),ne("id",i.inputId)("checked",i.checked)("disabled",i.disabled&&!i.disabledInteractive)("required",i.required),Gr("name",i.name)("value",i.value)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby)("aria-disabled",i.disabled&&i.disabledInteractive?"true":null),A(5),ne("matRippleTrigger",i._rippleTrigger.nativeElement)("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0),A(2),ne("for",i.inputId))},dependencies:[oO,sO],styles:['.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:not([disabled])~.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px);top:calc(-1*(var(--mdc-radio-state-layer-size, 40px) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled{pointer-events:auto}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color, var(--mat-sys-primary))}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-radio-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-radio-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-radio-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-radio-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-radio-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple>.mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio>.mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.cdk-focused .mat-focus-indicator::before{content:""}.mat-mdc-radio-disabled{cursor:default;pointer-events:none}.mat-mdc-radio-disabled.mat-mdc-radio-disabled-interactive{pointer-events:auto}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display, block)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return n})(),cO=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pt({type:n});static \u0275inj=Ot({imports:[Fr,aO,hC,Fr]})}return n})();function cW(n,e){if(n&1){let t=Pe();v(0,"div",4)(1,"h3",5),C(2,"Join Election"),y(),v(3,"div",6)(4,"h4"),C(5,"Enter Election ID:"),y(),v(6,"input",7),pt("ngModelChange",function(i){H(t);let o=O();return xt(o.electionID,i)||(o.electionID=i),z(i)}),y(),v(7,"button",8),G("click",function(){H(t);let i=O();return z(i.viewElection(i.electionID))}),C(8,"Join"),y(),v(9,"p"),C(10),y()()()}if(n&2){let t=O();A(6),ht("ngModel",t.electionID),A(4),lt(t.msg)}}function lW(n,e){if(n&1){let t=Pe();v(0,"mat-list-item",14)(1,"h4",15),C(2),y(),P(3,"br")(4,"img",16)(5,"br"),v(6,"p"),C(7),y(),v(8,"mat-radio-button",17),pt("NgModelChange",function(i){H(t);let o=O(3);return xt(o.votedChairman,i)||(o.votedChairman=i),z(i)}),y()()}if(n&2){let t=e.$implicit,r=e.index,i=O(3);A(2),lt(t),A(2),ct("src",i.chairimgs[r],Rt),A(3),fe("Votes: ",i.chairmanVotes[r],""),A(),ct("value",t),ht("NgModel",i.votedChairman)}}function uW(n,e){if(n&1&&(v(0,"mat-list-item",14)(1,"h4",15),C(2),y(),P(3,"br")(4,"img",16)(5,"br"),v(6,"p"),C(7),y(),P(8,"mat-radio-button",18),y()),n&2){let t=e.$implicit,r=e.index,i=O(3);A(2),lt(t),A(2),ct("src",i.vchairimgs[r],Rt),A(3),fe("Votes: ",i.vChairmanVotes[r],""),A(),ct("value",t)}}function dW(n,e){if(n&1&&(v(0,"mat-list-item",14)(1,"h4",15),C(2),y(),P(3,"br")(4,"img",16)(5,"br"),v(6,"p"),C(7),y(),P(8,"mat-radio-button",19),y()),n&2){let t=e.$implicit,r=e.index,i=O(3);A(2),lt(t),A(2),ct("src",i.secretaryimgs[r],Rt),A(3),fe("Votes: ",i.secretaryVotes[r],""),A(),ct("value",t)}}function fW(n,e){if(n&1&&(v(0,"mat-list-item",14)(1,"h4",15),C(2),y(),P(3,"br")(4,"img",16)(5,"br"),v(6,"p"),C(7),y(),P(8,"mat-radio-button",20),y()),n&2){let t=e.$implicit,r=e.index,i=O(3);A(2),lt(t),A(2),ct("src",i.auditorimgs[r],Rt),A(3),fe("Votes: ",i.auditorVotes[r],""),A(),ct("value",t)}}function hW(n,e){if(n&1&&(v(0,"mat-list-item",14)(1,"h4",15),C(2),y(),P(3,"br")(4,"img",16)(5,"br"),v(6,"p"),C(7),y(),P(8,"mat-radio-button",21),y()),n&2){let t=e.$implicit,r=e.index,i=O(3);A(2),lt(t),A(2),ct("src",i.pioimgs[r],Rt),A(3),fe("Votes: ",i.pioVotes[r],""),A(),ct("value",t)}}function pW(n,e){if(n&1){let t=Pe();v(0,"div",10)(1,"h1",11),C(2,"Cast your vote"),y(),v(3,"h4",12),C(4,"Chairman"),y(),v(5,"mat-list"),ae(6,lW,9,5,"mat-list-item",13),y(),v(7,"h4",12),C(8,"Vice Chairman"),y(),v(9,"mat-list"),ae(10,uW,9,4,"mat-list-item",13),y(),v(11,"h4",12),C(12,"Secretary"),y(),v(13,"mat-list"),ae(14,dW,9,4,"mat-list-item",13),y(),v(15,"h4",12),C(16,"Auditor"),y(),v(17,"mat-list"),ae(18,fW,9,4,"mat-list-item",13),y(),v(19,"h4",12),C(20,"P.I.O."),y(),v(21,"mat-list"),ae(22,hW,9,4,"mat-list-item",13),y(),P(23,"mat-divider"),v(24,"p"),C(25),y(),v(26,"button",8),G("click",function(){H(t);let i=O(2);return z(i.submitVote())}),C(27,"Submit"),y()()}if(n&2){let t=O(2);A(6),ne("ngForOf",t.chairmans),A(4),ne("ngForOf",t.vChairmans),A(4),ne("ngForOf",t.secretarys),A(4),ne("ngForOf",t.auditors),A(4),ne("ngForOf",t.pios),A(3),lt(t.errormsg)}}function mW(n,e){if(n&1&&(v(0,"div")(1,"h4"),C(2,"Election Name:"),y(),v(3,"p"),C(4),y(),v(5,"h4"),C(6,"Start Date:"),y(),v(7,"p"),C(8),y(),v(9,"h4"),C(10,"End Date:"),y(),v(11,"p"),C(12),y()()),n&2){let t=O(2);A(4),lt(t.electionName),A(4),lt(t.startDate),A(4),lt(t.endDate)}}function gW(n,e){if(n&1){let t=Pe();v(0,"div",4)(1,"h3",5),C(2),y(),v(3,"div",6)(4,"button",9),G("click",function(){H(t);let i=O();return z(i.toggle="vote")}),C(5,"Vote"),y(),v(6,"button",9),G("click",function(){H(t);let i=O();return z(i.toggle="details")}),C(7,"Details"),y(),v(8,"button",9),G("click",function(){H(t);let i=O();return z(i.exitElection())}),C(9,"Exit"),y(),ae(10,pW,28,6,"div",10)(11,mW,13,3,"div"),y()()}if(n&2){let t=O();A(2),vd("ID:[",t.electionID,"] Name:[",t.electionName,"]"),A(8),Se(t.toggle=="vote"?10:-1),A(),Se(t.toggle=="details"?11:-1)}}var mb=class n{constructor(e,t){this.BlockchainService=e;this.router=t}join=!0;vote=!1;isLeftSidebarCollapsed=Gt(!1);screenWidth=Gt(window.innerWidth);onResize(){this.screenWidth.set(window.innerWidth),this.screenWidth()<768&&this.isLeftSidebarCollapsed.set(!0)}ngOnInit(){return h(this,null,function*(){this.isLeftSidebarCollapsed.set(this.screenWidth()<768),yield this.BlockchainService.loadBlockchain()})}changeIsLeftSidebarCollapsed(e){this.isLeftSidebarCollapsed.set(e)}sizeClass=Sn(()=>this.isLeftSidebarCollapsed()?"":this.screenWidth()>768?"body-trimmed":"body-md-screen");switch(e){this.toggle=e}toggle="vote";msg="";elections=[];electionID;electionName="";startDate="";endDate="";domainFilter="";email="";user="";candidates=[];chairmans=[];chairimgs=[];vChairmans=[];vchairimgs=[];secretarys=[];secretaryimgs=[];auditors=[];auditorimgs=[];pios=[];pioimgs=[];allocatePositions(){return h(this,null,function*(){yield this.BlockchainService.loadBlockchain();for(let t=0;t<this.candidates.length;t++){var e=yield this.BlockchainService.getCandidatePosition(this.electionID,t);e=="chairman"&&(this.chairmans.push(this.candidates[t]),this.chairimgs.push(yield this.BlockchainService.getCandidateCdn(this.electionID,t))),e=="vice-chairman"&&(this.vChairmans.push(this.candidates[t]),this.vchairimgs.push(yield this.BlockchainService.getCandidateCdn(this.electionID,t))),e=="secretary"&&(this.secretarys.push(this.candidates[t]),this.secretaryimgs.push(yield this.BlockchainService.getCandidateCdn(this.electionID,t))),e=="auditor"&&(this.auditors.push(this.candidates[t]),this.auditorimgs.push(yield this.BlockchainService.getCandidateCdn(this.electionID,t))),e=="pio"&&(this.pios.push(this.candidates[t]),this.pioimgs.push(yield this.BlockchainService.getCandidateCdn(this.electionID,t)))}})}viewElection(e){return h(this,null,function*(){let t=yield this.BlockchainService.getElectionEndDate(e),r=new Date(t);if((yield this.BlockchainService.getElectionStatus(e))==!0){this.msg="Results are not yet released.";return}if(r<new Date){this.msg="Election is over. Please check results";return}this.getVoteCount(),yield this.BlockchainService.loadBlockchain(),this.getCandidateNames();try{if(this.electionName=yield this.BlockchainService.getElectionName(e),this.startDate=yield this.BlockchainService.getElectionStartDate(e),this.endDate=yield this.BlockchainService.getElectionEndDate(e),this.domainFilter=yield this.BlockchainService.getElectionDomainFilter(e),this.user=yield this.BlockchainService.getUserAddress(),this.email=yield this.BlockchainService.getEmail(this.user),this.email.includes(this.domainFilter)==!1&&this.domainFilter!="any"){this.msg="You are not allowed to vote in this election";return}this.allocatePositions(),this.join=!1,this.vote=!0}catch{this.join=!0,this.vote=!1,this.msg="Election does not exist"}})}exitElection(){this.toggle="vote",this.chairmans=[],this.chairimgs=[],this.vChairmans=[],this.vchairimgs=[],this.secretarys=[],this.secretaryimgs=[],this.auditors=[],this.auditorimgs=[],this.pios=[],this.pioimgs=[],this.join=!0,this.vote=!1,this.msg=""}getCandidateNames(){return h(this,null,function*(){this.candidates=yield this.BlockchainService.getCandidates(this.electionID)})}votedChairman="";votedVChairman="";votedSecretary="";votedAuditor="";votedPIO="";errormsg="";candidateVotes=[];chairmanVotes=[];vChairmanVotes=[];secretaryVotes=[];auditorVotes=[];pioVotes=[];getVoteCount(){return h(this,null,function*(){this.BlockchainService.loadBlockchain(),this.chairmanVotes=[],this.vChairmanVotes=[],this.secretaryVotes=[],this.auditorVotes=[],this.pioVotes=[];let e=[];e=yield this.BlockchainService.getCandidates(this.electionID);for(let t=0;t<e.length;t++)(yield this.BlockchainService.getCandidatePosition(this.electionID,t))=="chairman"&&this.chairmanVotes.push(yield this.BlockchainService.getCandidateVoteCount(this.electionID,t)),(yield this.BlockchainService.getCandidatePosition(this.electionID,t))=="vice-chairman"&&this.vChairmanVotes.push(yield this.BlockchainService.getCandidateVoteCount(this.electionID,t)),(yield this.BlockchainService.getCandidatePosition(this.electionID,t))=="secretary"&&this.secretaryVotes.push(yield this.BlockchainService.getCandidateVoteCount(this.electionID,t)),(yield this.BlockchainService.getCandidatePosition(this.electionID,t))=="auditor"&&this.auditorVotes.push(yield this.BlockchainService.getCandidateVoteCount(this.electionID,t)),(yield this.BlockchainService.getCandidatePosition(this.electionID,t))=="pio"&&this.pioVotes.push(yield this.BlockchainService.getCandidateVoteCount(this.electionID,t));console.log(this.candidates);for(let t=0;t<e.length;t++)this.candidateVotes.push(yield this.BlockchainService.getCandidateVoteCount(this.electionID,t));console.log(this.candidateVotes)})}submitVote(){return h(this,null,function*(){try{let t=document.querySelector('input[name="chairman"][type="radio"]:checked'),r=document.querySelector('input[name="vchairman"][type="radio"]:checked'),i=document.querySelector('input[name="secretary"][type="radio"]:checked'),o=document.querySelector('input[name="auditor"][type="radio"]:checked'),s=document.querySelector('input[name="pio"][type="radio"]:checked');this.votedChairman=t.value,this.votedVChairman=r.value,this.votedSecretary=i.value,this.votedAuditor=o.value,this.votedPIO=s.value}catch{this.errormsg="Please select a candidate in each positions"}let e=[yield this.BlockchainService.getCandidateIDByName(this.electionID,this.votedChairman),yield this.BlockchainService.getCandidateIDByName(this.electionID,this.votedVChairman),yield this.BlockchainService.getCandidateIDByName(this.electionID,this.votedSecretary),yield this.BlockchainService.getCandidateIDByName(this.electionID,this.votedAuditor),yield this.BlockchainService.getCandidateIDByName(this.electionID,this.votedPIO)];console.log(e.length),this.votedChairman!=""&&this.votedVChairman!=""&&this.votedSecretary!=""&&this.votedAuditor!=""&&this.votedPIO!=""&&(yield this.BlockchainService.vote(this.electionID,e),this.getVoteCount())})}getCandidateIDByName(e){return h(this,null,function*(){return yield this.BlockchainService.getCandidateIDByName(this.electionID,e)})}static \u0275fac=function(t){return new(t||n)(ee(Pr),ee(Ft))};static \u0275cmp=ze({type:n,selectors:[["app-vote"]],hostBindings:function(t,r){t&1&&G("resize",function(){return r.onResize()},!1,Ci)},decls:8,vars:4,consts:[[3,"changeIsLeftSidebarCollapsed","isLeftSidebarCollapsed"],[1,"body",3,"ngClass"],[2,"padding-top","1rem"],[2,"margin-left","-5rem"],[1,"box-container-full"],[1,"box-title"],[1,"box-no-scroll"],["type","text",3,"ngModelChange","ngModel"],[3,"click"],[1,"btn-ctrl",3,"click"],[1,"box"],[2,"text-align","center"],[1,"vote-head"],["class","list-item",4,"ngFor","ngForOf"],[1,"list-item"],[1,"btn-list",2,"text-align","center"],[2,"width","100px","height","100px","transform","translateX(50%)",3,"src"],["name","chairman",3,"NgModelChange","value","NgModel"],["name","vchairman",3,"value"],["name","secretary",3,"value"],["name","auditor",3,"value"],["name","pio",3,"value"]],template:function(t,r){t&1&&(v(0,"app-left-sidebar",0),G("changeIsLeftSidebarCollapsed",function(o){return r.changeIsLeftSidebarCollapsed(o)}),y(),v(1,"div",1)(2,"div")(3,"h3",2),C(4,"Vote"),y(),P(5,"hr",3),y(),ae(6,cW,11,2,"div",4)(7,gW,12,4,"div",4),y()),t&2&&(ne("isLeftSidebarCollapsed",r.isLeftSidebarCollapsed()),A(),ne("ngClass",r.sizeClass()),A(5),Se(r.join?6:-1),A(),Se(r.vote?7:-1))},dependencies:[sn,xr,cl,_r,Di,os,oo,Lr,mu,pu,cO,hC],styles:[".body[_ngcontent-%COMP%]{width:calc(100% - 5rem);margin-left:5rem;z-index:0;position:relative;top:0;transition:all .5s ease;background:#000;padding-left:3rem;height:100vh}.body-trimmed[_ngcontent-%COMP%]{width:calc(100% - 16.5625rem);margin-left:16.5625rem}.body-md-screen[_ngcontent-%COMP%]{width:calc(100% - 5rem);margin-left:5rem}.box-container-full[_ngcontent-%COMP%]{border:1px solid #fff;border-radius:13px;width:98%;padding:0;height:90%}.box-title[_ngcontent-%COMP%]{display:flex;background-color:#fff;color:#000;align-items:center;justify-content:center;border-radius:10px 10px 0 0;border-bottom:1px solid black;margin-bottom:0}.box-no-scroll[_ngcontent-%COMP%]{height:93%}.box[_ngcontent-%COMP%]{overflow-y:scroll;height:98%;scrollbar-width:thin;scrollbar-color:#CECECE #272635}.btn-ctrl[_ngcontent-%COMP%]{width:33.3%;margin:0}.vote-head[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#fff;opacity:.8;color:#000}mat-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}mat-list-item[_ngcontent-%COMP%]{border:1px solid #CECECE;border-radius:10px;margin:5px;width:300px;height:300px}"]})};function bW(n,e){if(n&1){let t=Pe();v(0,"div")(1,"h3",2),C(2,"Election Results"),y(),P(3,"hr",3),y(),v(4,"div",4)(5,"h1"),C(6,"Election Results"),y(),v(7,"h3"),C(8,"Enter Election ID:"),y(),v(9,"input",5),pt("ngModelChange",function(i){H(t);let o=O(2);return xt(o.electionID,i)||(o.electionID=i),z(i)}),G("click",function(){H(t);let i=O(2);return z(i.clearfields())}),y(),v(10,"button",6),G("click",function(){H(t);let i=O(2);return z(i.results())}),C(11,"Check Results"),y(),v(12,"p"),C(13),y()(),v(14,"div",7)(15,"h3"),C(16,"Close Election:"),y(),v(17,"input",5),pt("ngModelChange",function(i){H(t);let o=O(2);return xt(o.closeElectionID,i)||(o.closeElectionID=i),z(i)}),G("click",function(){H(t);let i=O(2);return z(i.clearfields())}),y(),v(18,"button",6),G("click",function(){H(t);let i=O(2);return z(i.closeElection(i.closeElectionID))}),C(19,"End"),y(),v(20,"p"),C(21),y()()}if(n&2){let t=O(2);A(9),ht("ngModel",t.electionID),A(4),lt(t.msg),A(4),ht("ngModel",t.closeElectionID),A(4),lt(t.clsmsg)}}function yW(n,e){if(n&1){let t=Pe();v(0,"div",8)(1,"button",9),G("click",function(){H(t);let i=O(2);return z(i.toggle=1)}),C(2,"Back"),y(),v(3,"h3",2),C(4,"Election Results"),y()(),P(5,"hr",3),v(6,"div",10)(7,"div",11)(8,"h3"),C(9,"Elected Candidates"),y()(),v(10,"div",12)(11,"div",13)(12,"h1"),C(13),y(),v(14,"h1"),C(15),y(),v(16,"h1"),C(17,"Status: Closed"),y()(),v(18,"table")(19,"th"),C(20,"Chairman"),y(),v(21,"th"),C(22,"Vice Chairman"),y(),v(23,"th"),C(24,"Secretary"),y(),v(25,"th"),C(26,"Auditor"),y(),v(27,"th"),C(28,"P.I.O"),y(),v(29,"tr")(30,"td"),P(31,"img",14),y(),v(32,"td"),P(33,"img",14),y(),v(34,"td"),P(35,"img",14),y(),v(36,"td"),P(37,"img",14),y(),v(38,"td"),P(39,"img",14),y()(),v(40,"tr")(41,"td"),C(42),y(),v(43,"td"),C(44),y(),v(45,"td"),C(46),y(),v(47,"td"),C(48),y(),v(49,"td"),C(50),y()(),v(51,"tr")(52,"td"),C(53),y(),v(54,"td"),C(55),y(),v(56,"td"),C(57),y(),v(58,"td"),C(59),y(),v(60,"td"),C(61),y()()()()()}if(n&2){let t=O(2);A(13),fe("Election ID: ",t.electionID,""),A(2),fe("Election Name: ",t.electionName,""),A(16),ct("src",t.chairimg,Rt),A(2),ct("src",t.vchairimg,Rt),A(2),ct("src",t.secretaryimg,Rt),A(2),ct("src",t.auditorimg,Rt),A(2),ct("src",t.pioimg,Rt),A(3),fe("Name: ",t.electedChairman,""),A(2),fe("Name: ",t.electedViceChairman,""),A(2),fe("Name: ",t.electedSecretary,""),A(2),fe("Name: ",t.electedAuditor,""),A(2),fe("Name: ",t.electedPIO,""),A(3),fe("Total Votes: ",t.chairmanWin,""),A(2),fe("Total Votes: ",t.viceChairmanWin,""),A(2),fe("Total Votes: ",t.secretaryWin,""),A(2),fe("Total Votes: ",t.auditorWin,""),A(2),fe("Total Votes: ",t.pioWin,"")}}function vW(n,e){if(n&1&&ae(0,bW,22,4)(1,yW,62,17),n&2){let t=O();Se(t.toggle==1?0:-1),A(),Se(t.toggle==2?1:-1)}}function xW(n,e){if(n&1){let t=Pe();v(0,"div")(1,"h3",2),C(2,"Election Results"),y(),P(3,"hr",3),y(),v(4,"div",4)(5,"h1"),C(6,"Election Results"),y(),v(7,"h3"),C(8,"Enter Election ID:"),y(),v(9,"input",5),pt("ngModelChange",function(i){H(t);let o=O(2);return xt(o.electionID,i)||(o.electionID=i),z(i)}),G("click",function(){H(t);let i=O(2);return z(i.clearfields())}),y(),v(10,"button",6),G("click",function(){H(t);let i=O(2);return z(i.results())}),C(11,"Check Results"),y(),v(12,"p"),C(13),y()()}if(n&2){let t=O(2);A(9),ht("ngModel",t.electionID),A(4),lt(t.msg)}}function wW(n,e){if(n&1){let t=Pe();v(0,"div",8)(1,"button",9),G("click",function(){H(t);let i=O(2);return z(i.toggle=1)}),C(2,"Back"),y(),v(3,"h3",2),C(4,"Election Results"),y()(),P(5,"hr",3),v(6,"div",10)(7,"div",11)(8,"h3"),C(9,"Elected Candidates"),y()(),v(10,"div",12)(11,"div",13)(12,"h1"),C(13),y(),v(14,"h1"),C(15),y(),v(16,"h1"),C(17,"Status: Closed"),y()(),v(18,"table")(19,"th"),C(20,"Chairman"),y(),v(21,"th"),C(22,"Vice Chairman"),y(),v(23,"th"),C(24,"Secretary"),y(),v(25,"th"),C(26,"Auditor"),y(),v(27,"th"),C(28,"P.I.O"),y(),v(29,"tr")(30,"td"),P(31,"img",14),y(),v(32,"td"),P(33,"img",14),y(),v(34,"td"),P(35,"img",14),y(),v(36,"td"),P(37,"img",14),y(),v(38,"td"),P(39,"img",14),y()(),v(40,"tr")(41,"td"),C(42),y(),v(43,"td"),C(44),y(),v(45,"td"),C(46),y(),v(47,"td"),C(48),y(),v(49,"td"),C(50),y()(),v(51,"tr")(52,"td"),C(53),y(),v(54,"td"),C(55),y(),v(56,"td"),C(57),y(),v(58,"td"),C(59),y(),v(60,"td"),C(61),y()()()()()}if(n&2){let t=O(2);A(13),fe("Election ID: ",t.electionID,""),A(2),fe("Election Name: ",t.electionName,""),A(16),ct("src",t.chairimg,Rt),A(2),ct("src",t.vchairimg,Rt),A(2),ct("src",t.secretaryimg,Rt),A(2),ct("src",t.auditorimg,Rt),A(2),ct("src",t.pioimg,Rt),A(3),fe("Name: ",t.electedChairman,""),A(2),fe("Name: ",t.electedViceChairman,""),A(2),fe("Name: ",t.electedSecretary,""),A(2),fe("Name: ",t.electedAuditor,""),A(2),fe("Name: ",t.electedPIO,""),A(3),fe("Total Votes: ",t.chairmanWin,""),A(2),fe("Total Votes: ",t.viceChairmanWin,""),A(2),fe("Total Votes: ",t.secretaryWin,""),A(2),fe("Total Votes: ",t.auditorWin,""),A(2),fe("Total Votes: ",t.pioWin,"")}}function _W(n,e){if(n&1&&ae(0,xW,14,2)(1,wW,62,17),n&2){let t=O();Se(t.toggle==1?0:-1),A(),Se(t.toggle==2?1:-1)}}var gb=class n{constructor(e,t){this.BlockchainService=e;this.router=t}isLeftSidebarCollapsed=Gt(!1);screenWidth=Gt(window.innerWidth);onResize(){this.screenWidth.set(window.innerWidth),this.screenWidth()<768&&this.isLeftSidebarCollapsed.set(!0)}isUser;isOrg;ngOnInit(){return h(this,null,function*(){this.isLeftSidebarCollapsed.set(this.screenWidth()<768),this.isUser=yield this.BlockchainService.userExists(yield this.BlockchainService.getUserAddress()),this.isOrg=yield this.BlockchainService.isOrg(yield this.BlockchainService.getUserAddress()),this.allocateCandidates()})}changeIsLeftSidebarCollapsed(e){this.isLeftSidebarCollapsed.set(e)}sizeClass=Sn(()=>this.isLeftSidebarCollapsed()?"":this.screenWidth()>768?"body-trimmed":"body-md-screen");access="";chairmans=[];chairimg="";chairmanVotes=[];vChairmans=[];vchairimg="";vchairmanVotes=[];secretarys=[];secretaryimg="";secretaryVotes=[];auditors=[];auditorimg="";auditorVotes=[];pios=[];pioimg="";pioVotes=[];candidates=[];electionID;closeElectionID;clear(){this.chairmans=[],this.chairimg="",this.chairmanVotes=[],this.vChairmans=[],this.vchairimg="",this.vchairmanVotes=[],this.secretarys=[],this.secretaryimg="",this.secretaryVotes=[],this.auditors=[],this.auditorimg="",this.auditorVotes=[],this.pios=[],this.pioimg="",this.pioVotes=[],this.chairmanWin=0,this.viceChairmanWin=0,this.secretaryWin=0,this.auditorWin=0,this.pioWin=0}allocateCandidates(){return h(this,null,function*(){yield this.BlockchainService.loadBlockchain(),this.candidates=yield this.BlockchainService.getCandidates(this.electionID);for(let t=0;t<this.candidates.length;t++){var e=yield this.BlockchainService.getCandidatePosition(this.electionID,t);e=="chairman"&&(this.chairmans.push(this.candidates[t]),this.chairmanVotes.push(yield this.BlockchainService.getCandidateVoteCount(this.electionID,t))),e=="vice-chairman"&&(this.vChairmans.push(this.candidates[t]),this.vchairmanVotes.push(yield this.BlockchainService.getCandidateVoteCount(this.electionID,t))),e=="secretary"&&(this.secretarys.push(this.candidates[t]),this.secretaryVotes.push(yield this.BlockchainService.getCandidateVoteCount(this.electionID,t))),e=="auditor"&&(this.auditors.push(this.candidates[t]),this.auditorVotes.push(yield this.BlockchainService.getCandidateVoteCount(this.electionID,t))),e=="pio"&&(this.pios.push(this.candidates[t]),this.pioVotes.push(yield this.BlockchainService.getCandidateVoteCount(this.electionID,t)))}console.log("chairmans",this.chairmans,this.chairmanVotes,this.chairmanVotes.length),console.log("vice chairmans",this.vChairmans,this.vchairmanVotes),console.log("secretarys",this.secretarys,this.secretaryVotes),console.log("auditors",this.auditors,this.auditorVotes),console.log("pios",this.pios,this.pioVotes)})}chairmanWin=0;viceChairmanWin=0;secretaryWin=0;auditorWin=0;pioWin=0;electedChairman="";electedViceChairman="";electedSecretary="";electedAuditor="";electedPIO="";electionStatus;msg="";clsmsg="";electionName="";endDate="";toggle=1;results(){return h(this,null,function*(){this.clear(),yield this.allocateCandidates(),this.electionStatus=yield this.BlockchainService.getElectionStatus(this.electionID),this.endDate=yield this.BlockchainService.getElectionEndDate(this.electionID),this.electionName=yield this.BlockchainService.getElectionName(this.electionID);let e=new Date;if(this.electionStatus==!1){for(let a=0;a<this.chairmanVotes.length;a++)this.chairmanVotes[a]>this.chairmanWin&&(this.chairmanWin=this.chairmanVotes[a],this.electedChairman=this.chairmans[a]);for(let a=0;a<this.vchairmanVotes.length;a++)this.vchairmanVotes[a]>this.viceChairmanWin&&(this.viceChairmanWin=this.vchairmanVotes[a],this.electedViceChairman=this.vChairmans[a]);for(let a=0;a<this.secretaryVotes.length;a++)this.secretaryVotes[a]>this.secretaryWin&&(this.secretaryWin=this.secretaryVotes[a],this.electedSecretary=this.secretarys[a]);for(let a=0;a<this.auditorVotes.length;a++)this.auditorVotes[a]>this.auditorWin&&(this.auditorWin=this.auditorVotes[a],this.electedAuditor=this.auditors[a]);for(let a=0;a<this.pioVotes.length;a++)this.pioVotes[a]>this.pioWin&&(this.pioWin=this.pioVotes[a],this.electedPIO=this.pios[a]);this.toggle=2}else this.electionStatus==!0?(this.msg="Election is still ongoing",console.log("true")):(this.msg="Election does not exist",console.log(this.electionStatus));let t=yield this.BlockchainService.getCandidateIDByName(this.electionID,this.electedChairman),r=yield this.BlockchainService.getCandidateIDByName(this.electionID,this.electedViceChairman),i=yield this.BlockchainService.getCandidateIDByName(this.electionID,this.electedSecretary),o=yield this.BlockchainService.getCandidateIDByName(this.electionID,this.electedAuditor),s=yield this.BlockchainService.getCandidateIDByName(this.electionID,this.electedPIO);this.chairimg=yield this.BlockchainService.getCandidateCdn(this.electionID,t),this.vchairimg=yield this.BlockchainService.getCandidateCdn(this.electionID,r),this.secretaryimg=yield this.BlockchainService.getCandidateCdn(this.electionID,i),this.auditorimg=yield this.BlockchainService.getCandidateCdn(this.electionID,o),this.pioimg=yield this.BlockchainService.getCandidateCdn(this.electionID,s),console.log(this.chairimg)})}closeElection(e){return h(this,null,function*(){this.electionStatus=yield this.BlockchainService.getElectionStatus(e),this.electionStatus==!1?this.clsmsg="Election is already closed":(yield this.BlockchainService.closeElection(e),this.clsmsg="Election is now closed")})}clearfields(){this.electionID="",this.msg="",this.closeElectionID="",this.clsmsg=""}static \u0275fac=function(t){return new(t||n)(ee(Pr),ee(Ft))};static \u0275cmp=ze({type:n,selectors:[["app-results"]],hostBindings:function(t,r){t&1&&G("resize",function(){return r.onResize()},!1,Ci)},decls:4,vars:4,consts:[[3,"changeIsLeftSidebarCollapsed","isLeftSidebarCollapsed"],[1,"body",3,"ngClass"],[2,"padding-top","1rem"],[2,"margin-left","-5rem"],[1,"results"],["type","text",3,"ngModelChange","click","ngModel"],[3,"click"],[1,"end"],[1,"with-back"],[1,"back",3,"click"],[1,"box-container-full"],[1,"box-title"],[1,"box-no-scroll"],[1,"electionid"],[1,"portrait",3,"src"]],template:function(t,r){t&1&&(v(0,"app-left-sidebar",0),G("changeIsLeftSidebarCollapsed",function(o){return r.changeIsLeftSidebarCollapsed(o)}),y(),v(1,"div",1),ae(2,vW,2,2)(3,_W,2,2),y()),t&2&&(ne("isLeftSidebarCollapsed",r.isLeftSidebarCollapsed()),A(),ne("ngClass",r.sizeClass()),A(),Se(r.isOrg?2:-1),A(),Se(r.isUser?3:-1))},dependencies:[sn,xr,_r,Di,os,oo,Lr],styles:[".body[_ngcontent-%COMP%]{width:calc(100% - 5rem);margin-left:5rem;z-index:0;position:relative;top:0;transition:all .5s ease;background:#000;padding-left:3rem;height:100vh}.body-trimmed[_ngcontent-%COMP%]{width:calc(100% - 16.5625rem);margin-left:16.5625rem}.body-md-screen[_ngcontent-%COMP%]{width:calc(100% - 5rem);margin-left:5rem}.box-container-full[_ngcontent-%COMP%]{border:1px solid #fff;border-radius:13px;width:98%;padding:0;height:90%}.box-title[_ngcontent-%COMP%]{display:flex;background-color:#fff;color:#000;align-items:center;justify-content:center;border-radius:10px 10px 0 0;border-bottom:1px solid black;margin-bottom:0}.electionid[_ngcontent-%COMP%]{display:flex;background-color:#fff;color:#000;align-items:center;justify-content:center;border-bottom:1px solid black;margin-bottom:0;margin-top:0;gap:20%}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:10px}th[_ngcontent-%COMP%]{text-align:center;background-color:#272635;color:#fff;padding:10px;border:1px solid #fff}td[_ngcontent-%COMP%]{text-align:center;padding:10px;border:1px solid #fff}.portrait[_ngcontent-%COMP%]{width:100px;height:100px}.back[_ngcontent-%COMP%]{width:45px;height:40px;background-color:#272635;color:#fff;border-radius:10px;border:0;margin-top:10px}.with-back[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1%}"]})};var bb=class n{isLeftSidebarCollapsed=Gt(!1);screenWidth=Gt(window.innerWidth);onResize(){this.screenWidth.set(window.innerWidth),this.screenWidth()<768&&this.isLeftSidebarCollapsed.set(!0)}ngOnInit(){this.isLeftSidebarCollapsed.set(this.screenWidth()<768)}changeIsLeftSidebarCollapsed(e){this.isLeftSidebarCollapsed.set(e)}sizeClass=Sn(()=>this.isLeftSidebarCollapsed()?"":this.screenWidth()>768?"body-trimmed":"body-md-screen");static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ze({type:n,selectors:[["app-account"]],hostBindings:function(t,r){t&1&&G("resize",function(){return r.onResize()},!1,Ci)},decls:15,vars:2,consts:[[3,"changeIsLeftSidebarCollapsed","isLeftSidebarCollapsed"],[1,"body",3,"ngClass"],[2,"padding-top","1rem"],[2,"margin-left","-5rem"],["type","text"]],template:function(t,r){t&1&&(v(0,"app-left-sidebar",0),G("changeIsLeftSidebarCollapsed",function(o){return r.changeIsLeftSidebarCollapsed(o)}),y(),v(1,"div",1)(2,"div")(3,"h3",2),C(4,"Manage Account"),y(),P(5,"hr",3),y(),v(6,"h4"),C(7,"Organization Name:"),y(),P(8,"input",4),v(9,"h4"),C(10,"Organization Email:"),y(),P(11,"input",4)(12,"br"),v(13,"button"),C(14,"Update"),y()()),t&2&&(ne("isLeftSidebarCollapsed",r.isLeftSidebarCollapsed()),A(),ne("ngClass",r.sizeClass()))},dependencies:[sn,xr,_r,Lr],styles:[".body[_ngcontent-%COMP%]{width:calc(100% - 5rem);margin-left:5rem;z-index:0;position:relative;top:0;transition:all .5s ease;background:#000;padding-left:3rem;height:100vh}.body-trimmed[_ngcontent-%COMP%]{width:calc(100% - 16.5625rem);margin-left:16.5625rem}.body-md-screen[_ngcontent-%COMP%]{width:calc(100% - 5rem);margin-left:5rem}"]})};var lO=[{path:"",redirectTo:"auth",pathMatch:"full"},{path:"auth",component:h0},{path:"dashboard",component:y0},{path:"elections",component:Lu},{path:"vote",component:mb},{path:"results",component:gb},{path:"account",component:bb},{path:"upload",component:qs}];var uO={providers:[AI({eventCoalescing:!0}),HD(lO)]};var yb=class n{title="BlockVote";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ze({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&P(0,"router-outlet")},dependencies:[Fx],encapsulation:2})};JI(yb,uO).catch(n=>console.error(n));
